define(["require","exports","typescript/libraries/comments2/src/components/comment_editor/types","typescript/libraries/comments2/src/components/comment_editor/layers/interaction","typescript/libraries/comments2/src/components/comment_editor/layers/publish","typescript/libraries/comments2/src/components/comment_editor/layers/text","typescript/libraries/comments2/src/components/comment_editor/layers/update","typescript/libraries/comments2/src/components/comment_editor/layers/style","typescript/libraries/comments2/src/components/comment_editor/layers/stickers","typescript/libraries/comments2/src/components/comment_editor/layers/mentions_macro","typescript/libraries/comments2/src/components/comment_editor/layers/mentions_entity","typescript/libraries/comments2/src/components/comment_editor/layers/suggestions","typescript/libraries/comments2/src/components/comment_editor/core/editor_container_component","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/layers/container_interaction","typescript/libraries/comments2/src/components/comment_editor/layers/paste","typescript/libraries/comments2/src/components/folder_overview_editor/types","typescript/libraries/comments2/src/components/folder_overview_editor/layers/mention_share_flow"],(function(e,t,n,o,s,r,i,a,c,m,p,l,d,y,u,g,b,O){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveEditorContainer=void 0;const _={draft:n.DraftNames,comment:n.CommentNames,macro:n.MacroNames,mentionShareFlow:b.MentionShareFlowNames,mentionSuggestions:n.MentionSuggestionNames,suggestion:n.SuggestionSelectionNames,container:n.ContainerNames},S=()=>{};class w extends d.EditorContainer{get scopeNames(){return _}getLayerProps(e){const{mentionShareFlowHandlers:t=O.DefaultMentionShareFlowHandlers,onMentionsQueryUpdated:n=S,onPost:o=S,onCancel:s=S,onEditorStateChange:r=S,onFocus:i=S,onBlur:a=S,postOnBlur:c,readOnly:m,mentionsDisabled:p}=e;return{mentionShareFlowHandlers:t,onMentionsQueryUpdated:n,onPost:o,onCancel:s,onEditorStateChange:r,onFocus:i,onBlur:a,postOnBlur:c,readOnly:m,mentionsDisabled:p}}mapPropsToLayers(e){const{mentionShareFlowHandlers:t,onMentionsQueryUpdated:n,onPost:d,onCancel:y,onEditorStateChange:b,onFocus:_,onBlur:S,postOnBlur:w,mentionsDisabled:f}=this.getLayerProps(e),h=[new u.ContainerInteractionLayer,new o.InteractionLayer,new g.PasteLayer,new r.TextLayer,new a.StyleLayer,new c.StickerLayer,new s.PublishLayer({onEditorStateChange:b,onPost:d,onCancel:y,onFocus:_,onBlur:S,postOnBlur:w}),new l.SuggestionLayer,new i.UpdateLayer];if(!f){const e=[new p.MentionsEntityLayer,new m.MentionsMacroLayer({onMentionsQueryUpdated:n}),new O.MentionShareFlowLayer(t)];return h.concat(e)}return h}createDefaultStatus(){const e=y.createDefaultStatus(this.scopeNames);return Object.assign(Object.assign({},e),{draft:Object.assign(Object.assign({},e.draft),{containerPostOnBlur:!!this.props.postOnBlur})})}mapPropsToUpdates(e,t){let n={};const o=!!t.mentionShareFlow.popupProps||!!e.readOnly;return e.content!==t.comment.content&&(n=Object.assign(Object.assign({},n),{comment:Object.assign(Object.assign({},t.comment),{content:e.content})})),o!==t.draft.readOnly&&(n=Object.assign(Object.assign({},n),{draft:Object.assign(Object.assign({},t.draft),{editorState:t.draft.editorState,readOnly:o})})),e.mentionsMatches!==t.mentionSuggestions.userMap&&(n=Object.assign(Object.assign({},n),{mentionSuggestions:Object.assign(Object.assign({},t.mentionSuggestions),{userMap:e.mentionsMatches||{}})})),n}}t.InteractiveEditorContainer=w}));
//# sourceMappingURL=interactive_editor_container.amd.min.js-vflB90dmk.map