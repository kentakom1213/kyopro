define("modules/clean/flux/base_store",["require","exports","modules/clean/flux/dispatcher","modules/core/assert"],(function(e,t,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0;const n=(function(){let e=!1;const t=[];return o.Dispatcher.dispatch_begin=()=>e=!0,o.Dispatcher.dispatch_end=function(){e=!1;try{return Array.from(t).map(e=>e())}finally{t.length=0}},function(o){return e?Array.from(t).includes(o)?void 0:t.push(o):o()}})();class i{constructor(e){"function"==typeof this._init&&this._init(),this._change_listeners=[],this._dispatcher=e||o.Dispatcher,this.dispatchToken=this._dispatcher.register(this._new_payload_wrapper.bind(this))}destructor(){this._dispatcher.unregister(this.dispatchToken),this.remove_all_change_listeners()}emit_change(){for(const e of this._change_listeners)n(e)}add_change_listener(e){s.assert(!this._change_listeners.includes(e),"adding duplicate change listener not allowed"),this._change_listeners.push(e)}remove_change_listener(e){this._change_listeners=this._change_listeners.filter(t=>t!==e)}remove_all_change_listeners(){this._change_listeners.length=0}_new_payload_wrapper(e){var t,o;(null===(o=null===(t=e)||void 0===t?void 0:t.action)||void 0===o?void 0:o.type)===this.constructor.WIPE_TYPE&&"function"==typeof this._init&&this._init(),this._new_payload(e)}_new_payload(e){throw new Error("Abstract method - must be implemented")}}t.Store=i,i.WIPE_TYPE="WIPE_ALL"})),define("modules/clean/downloads",["require","exports","tslib","api_v2/user_client","modules/clean/filepath/filepath","modules/clean/metrics/index","modules/clean/react/snackbar","modules/core/browser_detection","modules/core/assert","modules/core/html","modules/core/i18n","modules/core/notify","modules/core/uri"],(function(e,t,o,s,n,i,r,a,l,d,u,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get_zip=t.getZipDownloadUrl=t.showGetZipUrlErrorSnackbar=t.zip_batch_by_ns_id=t.get_blockserver_link=t.get=void 0,n=o.__importStar(n),a=o.__importStar(a);const h=["dl-web.dropbox.com","dl.dropboxusercontent.com"],_=u.intl.formatMessage({id:"L64bdq",defaultMessage:"There was an error downloading your file."});let m=!1,f={};function b({source:e,type:t}){i.getMetricsReporter().createStats({ns:"web_file_actions",name:"download/failed"},{source:e,type:t}).record(1)}t.get=({url:e,error:t,source:o="unknown"})=>{const s=p.URI.parse(e),n=s.getAuthority();(function({source:e}){i.getMetricsReporter().createStats({ns:"web_file_actions",name:"download/attempt"},{source:e}).record(1)})({source:o});const r=h.includes(n)||n.endsWith(".dropboxusercontent.com")||"www.dropbox.com"===n;r||b({source:o,type:"download_non_block_server"}),l.assert(r,"attempt to download from a non-blockserver domain",{exc_extra:{domain:n,url:e}}),m||(m=!0,f={},window.addEventListener("message",y));const d=(function(){let e="";for(let t=1;t<=4;t++)e+=String(Math.random()).split(".")[1];return e})();s.updateQuery({_download_id:d,_notify_domain:window.location.host});return g({downloadUri:s,downloadId:d,error:t,downloadDomain:n,onLoad:()=>{setTimeout(()=>{const e=f[d];null!=e&&(a.chrome&&(c.Notify.error(_),e.error&&(e.error(),b({source:e.source,type:"download_failed"}))),w(d))},100)},source:o}),!1};const g=({downloadUri:e,downloadId:t,error:o,downloadDomain:s,onLoad:n,source:i})=>{const r=document.createElement("iframe");r.setAttribute("src",String(e)),r.style.display="none",n&&r.addEventListener("load",n),f[t]={origin:s,error:o,iframe:r,source:i},document.body.appendChild(r),window.setTimeout(()=>w(t),9e4)};function y(e){const t=p.URI.parse(e.origin);if("https"!==t.getScheme())return;if(!h.includes(t.getAuthority())&&!t.getAuthority().endsWith(".dropboxusercontent.com"))return;let o;try{o=JSON.parse(e.data)}catch(e){return}if(!o||!o.download_id)return;const s=f[o.download_id];if(null!=s&&t.getAuthority()===s.origin&&e.source===s.iframe.contentWindow){if("failed"===o.status){const e=(o.message||_)+'<a target="_blank" rel="noreferrer" href="/help/desktop-web/download-entire-folders">'+u.intl.formatMessage({id:"WYQtmB",defaultMessage:"More info"})+"</a>";c.Notify.error(new d.HTML(e)),s.error&&(s.error(),b({source:s.source,type:"download_failed"}))}w(o.download_id)}}function w(e){const t=f[e];null!=t&&(t.iframe.remove(),delete f[e])}t.get_blockserver_link=function({url:e,ns_id:o,ns_path:s,inside_admin_console:n,legal_hold_export_gid:i,revision_id:r,error:a}){const d=p.URI.parse(e);return d.setScheme("https"),n?(d.updateQuery({dl:"1",inside_admin_console:"true"}),i&&d.updateQuery({legal_hold_export_gid:i})):d.updateQuery({dl:"1"}),null!=o&&(l.assert("string"==typeof s,`Namespace ID was passed with invalid path, got: ${s}`),d.updateQuery({nsid:String(o),path:s})),null!=r&&d.updateQuery({revision_id:r}),l.assert("dl-web.dropbox.com"===d.getAuthority(),`download_blockserver_url expects a blockserver resource, got: ${e}`),t.get({url:d.toString(),error:a,source:"get_blockserver_link"})},t.zip_batch_by_ns_id=function({parent_ns_id:e,parent_ns_path:t,files:o,subject_uid:s,block_hash:i}){const r=new p.URI({scheme:"https",authority:"dl-web.dropbox.com",path:"/zip_batch_by_ns_id",query:{_subject_uid:String(s),parent_ns_id:String(e),parent_ns_path:t||"/"}}).toString(),a=document.createElement("form");a.setAttribute("action",r),a.setAttribute("method","post");for(const e of o){const o=`${t}/${n.filename(e.fq_path)}`,s=document.createElement("input");s.setAttribute("name","ns_paths"),s.setAttribute("value",o),a.appendChild(s)}const l=document.createElement("input");l.setAttribute("name","w"),l.setAttribute("value",i),a.appendChild(l),document.body.appendChild(a),a.submit(),a.remove()},t.showGetZipUrlErrorSnackbar=e=>{let t;t="too_many_files"===e[".tag"]?u.intl.formatMessage({id:"ZvH26K",defaultMessage:"Attempted to zip too many files."}):"too_much_data"===e[".tag"]?u.intl.formatMessage({id:"Qq4R12",defaultMessage:"Attempted to zip too much data."}):"file_not_found"===e[".tag"]?u.intl.formatMessage({id:"XSR4O8",defaultMessage:"File not found."}):"unauthorized_user"===e[".tag"]?u.intl.formatMessage({id:"tUjhJf",defaultMessage:"Unauthorized user."}):"unauthorized_namespace"===e[".tag"]?u.intl.formatMessage({id:"zR9JV2",defaultMessage:"Unauthorized namespace."}):u.intl.formatMessage({id:"ItwtZa",defaultMessage:"Zip download failed."}),r.Snackbar.fail(t,"zip-download-status")},t.getZipDownloadUrl=({block_hash:e,fq_paths:t,parent_path:n,flat_mode:i,subjectUserId:r})=>o.__awaiter(void 0,void 0,void 0,(function*(){try{const o=new s.UserApiV2Client;return{result:yield o.ns("browse_zip_downloads").rpc("get_zip_download_url",{block_hash:e,unnormalized_files:[...t],parent_path:n,flat_mode:i},{subjectUserId:r}),isError:!1}}catch(e){return{isError:!0,error:{".tag":"undefined_error"}}}})),t.get_zip=function({fq_paths:e,subject_uid:s,block_hash:n,parent_path:i,flat_zip_mode:r,source:a="unknown"}){return o.__awaiter(this,void 0,void 0,(function*(){""===i&&(i="/");const o=yield t.getZipDownloadUrl({block_hash:n,fq_paths:[...e],parent_path:i,flat_mode:!!r,subjectUserId:s});if(o.isError)t.showGetZipUrlErrorSnackbar(o.error),b({source:a,type:"zip_download_error"});else{const{url:e}=o.result;t.get({url:e,source:a})}}))}})),define("modules/clean/deprecated_ajax/ajax_as_promised_jquery",["require","exports","tslib","modules/clean/deprecated_ajax/ajax_jquery","modules/clean/deprecated_ajax/ajax_jquery"],(function(e,t,o,s,n){"use strict";function i(e){return t=>new Promise((o,s)=>{const i=e(Object.assign(Object.assign({},t),{success:(e,s,n)=>{t.success&&t.success(e,s,n),o(e)},error:(e,n,i)=>{t.error&&t.error(e,n,i),200===e.status?(t.success&&t.success(e.responseText,"success",e),o(e.responseText)):s({jqXHR:e,textStatus:n,errorThrown:i})}}));if(t.signal){const e=()=>{const e=n.getFakeJQXHR();e.readyState=XMLHttpRequest.DONE,e.responseText="Aborted",e.status=500,e.statusText="abort",i.abort(),s({jqXHR:e,textStatus:"aborted",errorThrown:"Aborted"})};t.signal.aborted?e():t.signal.addEventListener("abort",e)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.WebProgressRequest=t.FormWebRequest=t.WebRequestOref=t.WebRequest=t.SilentBackgroundRequest=t.Request=t.BackgroundRequest=void 0,s=o.__importStar(s),t.BackgroundRequest=i(s.BackgroundRequest),t.Request=i(s.Request),t.SilentBackgroundRequest=i(s.SilentBackgroundRequest),t.WebRequest=i(s.WebRequest),t.WebRequestOref=i(s.WebRequestOref),t.FormWebRequest=i(s.FormWebRequest),t.WebProgressRequest=i(s.WebProgressRequest)})),define("modules/clean/avatar/viewer_avatar",["require","exports","tslib","react","modules/clean/avatar/photo_avatar","modules/clean/css","modules/core/uri","modules/clean/event_handler"],(function(e,t,o,s,n,i,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=o.__importDefault(s),i=o.__importStar(i);let l=class extends s.default.Component{constructor(e){super(e),this.state={photoUrl:this.props.photoUrl}}componentDidMount(){i.require_css("/static/css/scooter/scooter-scoped-vflpl9JSl.css"),this.events.on(document,"db:account_photo:photo_set",(e,t)=>{const o=2*this.props.dimension,s=`${o}x${o}`,n=r.URI.parse(t.saved_photo_url).updateQuery({size:s}).toString();this.setState({photoUrl:n})}),this.events.on(document,"db:account_photo:photo_deleted",()=>{this.setState({photoUrl:null})}),!this.hasPhotoAvatar()&&this.props.onLoad&&this.props.onLoad()}hasPhotoAvatar(){return null!=this.state.photoUrl}render(){return this.state.photoUrl?s.default.createElement(n.PhotoAvatar,{alt:this.props.alt,dimension:this.props.dimension,onClick:this.props.onPhotoClick,photo:this.state.photoUrl,optionalClass:this.props.optionalClass,onLoad:this.props.onLoad,onError:this.props.onError,shape:"CIRCLE"}):this.props.defaultAvatar}};l.displayName="ViewerAvatar",l=o.__decorate([a.eventHandler],l),t.default=l})),define("modules/clean/browse_interface",["require","exports","modules/clean/viewer","modules/core/i18n","modules/core/uri","modules/clean/browse_uri_interface","modules/clean/browse_uri_interface"],(function(e,t,o,s,n,i,r){"use strict";function a(e){return o.Viewer.get_viewer().is_paired?o.Viewer.get_root_name(e):s.intl.formatMessage({id:"bObFEu",defaultMessage:"Files"})}Object.defineProperty(t,"__esModule",{value:!0}),t.getFileHistoryUrl=t.get_all_browse_roots=t.get_browse_root_name=t.browse_uri_for_fq_path=t.preview_uri_for_fq_path=t.href_for_file=t.get_browse_root=void 0,Object.defineProperty(t,"get_browse_root",{enumerable:!0,get:function(){return i.get_browse_root}}),Object.defineProperty(t,"href_for_file",{enumerable:!0,get:function(){return i.href_for_file}}),Object.defineProperty(t,"preview_uri_for_fq_path",{enumerable:!0,get:function(){return i.preview_uri_for_fq_path}}),Object.defineProperty(t,"browse_uri_for_fq_path",{enumerable:!0,get:function(){return i.browse_uri_for_fq_path}}),t.get_browse_root_name=a,t.get_all_browse_roots=function(){return o.Viewer.get_viewer().get_users().map(e=>({name:a(e),path:r.get_browse_root(e)}))},t.getFileHistoryUrl=function({fqPath:e,userId:t},o){const s=Object.assign(Object.assign({},null==o?{}:o),{undelete:"1",_subject_uid:String(t)});return e=e.replace(/^[/]/,""),new n.URI({path:`/history/${e}`}).updateQuery(s).toString()}})),define("modules/clean/bolt/bolt",["require","exports","tslib","lodash","modules/clean/bolt/bolt_nodeps","modules/core/exception"],(function(e,t,o,s,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelPayloads=t.Payload=t.SignedChannelState=t.ChannelId=t.ThunderClient=t.BoltClient=void 0,s=o.__importStar(s),i=o.__importStar(i),Object.defineProperty(t,"ChannelId",{enumerable:!0,get:function(){return n.ChannelId}}),Object.defineProperty(t,"ChannelPayloads",{enumerable:!0,get:function(){return n.ChannelPayloads}}),Object.defineProperty(t,"Payload",{enumerable:!0,get:function(){return n.Payload}}),Object.defineProperty(t,"SignedChannelState",{enumerable:!0,get:function(){return n.SignedChannelState}});class r extends n.BoltClient{constructor(e,t,o){super(e,t,o,"bolt.dropbox.com",s,i)}}t.BoltClient=r;class a extends n.ThunderClient{constructor(e,t,o){super(e,t,o,"thunder.dropbox.com",s,i)}}t.ThunderClient=a})),define("modules/clean/bolt/bolt_nodeps",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelPayloads=t.Payload=t.ChannelId=t.ThunderClient=t.BoltClient=t.SignedChannelState=void 0;class o{constructor(e,t){this.app_id=e,this.unique_id=t}}t.ChannelId=o;class s{constructor(e,t,o,s){this.app_id=e,this.unique_id=t,this.revision=o,this.token=s}}t.SignedChannelState=s;class n{constructor(e,t){this.revision=e,this.payload=t}}t.Payload=n;class i{constructor(e,t){this.channel_state=e,this.payloads=t}}t.ChannelPayloads=i;const r=e=>JSON.stringify(e);class a{constructor(e,t,o,s,n,i=null){this._find_state=this._find_state.bind(this),this._long_poll=this._long_poll.bind(this),this._must_find_state=this._must_find_state.bind(this),this._handle_poll_success=this._handle_poll_success.bind(this),this._handle_poll_error=this._handle_poll_error.bind(this),this._update_callback=t,this._refresh_callback=o,this._hostname=s,this._lodash=n,this._exclog=i,this._signed_channel_states={},this._signed_channel_states_keys=[],this._started=!1,this._sequence_num=0,this._backoff_window=1e3,this._additional_headers={},this._timeout_id=null,this.update_states(e)}_encode_channel_state(e){return{channel_id:{app_id:e.app_id,unique_id:e.unique_id},revision:e.revision,token:e.token}}_decode_channel_state(e){return new s(e.channel_id.app_id,e.channel_id.unique_id,e.revision,e.token)}_decode_channel_id(e){return new o(e.app_id,e.unique_id)}_compare_revisions(e,t){const o=Math.max(e.length,t.length),s=Array(o-e.length+1).join("0")+e,n=Array(o-t.length+1).join("0")+t;return s<n?-1:s>n?1:0}_find_state(e){return this._signed_channel_states[r(e)]}update_states(e){for(const t of e){const e=this._encode_channel_state(t),o=this._find_state(e.channel_id);if(null==o){const t=r(e.channel_id);this._signed_channel_states[t]=e,this._signed_channel_states_keys.push(t)}else this._compare_revisions(e.revision,o.revision)>=0&&(o.revision=e.revision,o.token=e.token)}}start(){this._started||(this._started=!0,this._long_poll())}unsubscribe(){this._started=!1,null!=this._long_poll_xhr&&this._long_poll_xhr.abort(),this._long_poll_xhr=null,window.clearTimeout(this._timeout_id),this._timeout_id=null}_long_poll(){this._sequence_num++;const e=this._sequence_num,t=new XMLHttpRequest;t.open("POST",this._subscribe_url(),!0),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),Object.keys(this._additional_headers).forEach(e=>{t.setRequestHeader(e,this._additional_headers[e])}),t.timeout=12e4,t.withCredentials=!0,t.responseType="json";const o=()=>this._handle_poll_error(e);t.addEventListener("load",()=>{const{status:o}=t;o>=200&&o<300||304===o?this._handle_poll_success(e,t):this._handle_poll_error(e)}),t.addEventListener("timeout",o),t.addEventListener("error",o),t.addEventListener("abort",o),t.send(JSON.stringify({channel_states:this._signed_channel_states_keys.map(e=>this._signed_channel_states[e])})),this._long_poll_xhr=t}_must_find_state(e){const t=this._find_state(e);if(null==t){const t=`Bolt returned unknown channel id ${e}`;null!=this._exclog&&this._exclog.reportStack(t)}return t}_handle_poll_data(e,t){return null!=this._exclog?this._exclog.reportStack("Method must be implemented."):void 0}_subscribe_url(){return`https://${this._hostname}${this._subscribe_endpoint()}`}_subscribe_endpoint(){return null!=this._exclog?this._exclog.reportStack("Method must be implemented."):void 0}_handle_poll_success(e,t){if(e!==this._sequence_num)return;if(this._long_poll_xhr=null,!this._started)return;const o=t.response,s=this._handle_poll_data(o,t);s.length>0&&this._lodash.defer(this._update_callback,s),(null!=o.invalid_channels?o.invalid_channels.length:void 0)>0?this._lodash.defer(this._refresh_callback,Array.from(o.invalid_channels).map(e=>this._decode_channel_id(e))):(this._backoff_window=1e3,this._timeout_id=window.setTimeout(this._long_poll,0))}_handle_poll_error(e){if(e!==this._sequence_num)return;if(this._long_poll_xhr=null,!this._started)return;const t=Math.random()*this._backoff_window;this._backoff_window=Math.min(2*this._backoff_window,3e5),this._timeout_id=window.setTimeout(this._long_poll,t)}}t.BoltClient=class extends a{constructor(e,t,o,s,n,i=null){super(e,t,o,s,n,i),this._handle_poll_data=this._handle_poll_data.bind(this)}_subscribe_endpoint(){return"/2/notify/subscribe"}_handle_poll_data(e,t){const o=[];if(null!=e.channel_states)for(const t of Array.from(e.channel_states)){const e=this._must_find_state(t.channel_id);this._compare_revisions(t.revision,e.revision)>0&&(e.revision=t.revision,e.token=t.token,o.push(this._decode_channel_state(t)))}return o}};t.ThunderClient=class extends a{constructor(e,t,o,s,n,i=null){super(e,t,o,s,n,i),this._handle_poll_data=this._handle_poll_data.bind(this)}unsubscribe(){return delete this._additional_headers["X-Bolt-Session"],super.unsubscribe()}_subscribe_endpoint(){return"/2/payloads/subscribe"}_handle_poll_data(e,t){const o=[];this._additional_headers={};const s=t.getResponseHeader("X-Bolt-Session");if(s&&(this._additional_headers["X-Bolt-Session"]=s),null!=e.channel_payloads)for(const t of Array.from(e.channel_payloads)){const e=t.channel_state,s=this._must_find_state(e.channel_id),r=this._decode_channel_state(t.channel_state),a=[];for(const e of Array.from(t.payloads))this._compare_revisions(e.revision,s.revision)>0&&a.push(new n(e.revision,e.payload));a.length>0&&o.push(new i(r,a)),this._compare_revisions(e.revision,s.revision)>0&&(s.revision=e.revision,s.token=e.token)}return o}}})),define("modules/clean/event_handler",["require","exports","tslib","jquery"],(function(e,t,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandler=t.EventHandlerMixin=t.eventHandler=void 0,s=o.__importDefault(s),t.eventHandler=function(e){const o=e.prototype.componentWillMount,s=e.prototype.componentWillUnmount;e.prototype.componentWillMount=function(){t.EventHandlerMixin.componentWillMount.apply(this),o&&"function"==typeof o&&o.apply(this)},e.prototype.componentWillUnmount=function(){s&&"function"==typeof s&&s.apply(this),t.EventHandlerMixin.componentWillUnmount.apply(this)}},t.EventHandlerMixin={componentWillMount(){this.events=new n},componentWillUnmount(){this.events.removeAll()}};class n{on(e,t,o,n,i){"string"!=typeof o&&(i=n,n=o,o=void 0),i&&(n=s.default.proxy(n,i)),this.handlers||(this.handlers=[]),e=s.default(e),o?e.on(t,o,n):e.on(t,n),this.handlers.push({element:e,event:t,selector:o,callback:n})}removeAll(){this.handlers&&(this.handlers.forEach((function(e){e.selector?e.element.off(e.event,e.selector,e.callback):e.element.off(e.event,e.callback)})),this.handlers=null)}}t.EventHandler=n})),define("modules/clean/fuzzy",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={simpleFilter:(e,t)=>t.filter(t=>o.test(e,t)),test:(e,t)=>null!==o.match(e,t),match(e,t,o){o=o||{};let s=0;const n=[],i=t.length;let r=0,a=0;const l=o.pre||"",d=o.post||"",u=o.caseSensitive&&t||t.toLowerCase();let c=void 0;e=o.caseSensitive&&e||e.toLowerCase();let p=0;const h=[];let _=0,m=0;for(;p<i;)c=t[p],u[p]===e[s]?(c=l+c+d,m?m+=1:(_=p,m=1),s+=1,a+=1+a):(a=0,m&&(h.push([_,m]),m=0)),r+=a,n[n.length]=c,p++;return m&&h.push([_,m]),s===e.length?{highlighted:h,rendered:n.join(""),score:r}:null},filter(e,t,o={}){const s=this._reduce.bind(this,e,o);return t.reduce(s,[]).sort(this._sort)},_reduce(e,t,s,n,i){let r=n;t.extract&&(r=t.extract(n));const a=o.match(e,r,t);return null!=a&&s.push({string:a.rendered,score:a.score,index:i,original:n}),s},_sort(e,t){const o=t.score-e.score;return o||e.index-t.index}};t.default=o})),define("modules/clean/pagelet_logger",["require","exports","tslib","modules/core/browser","modules/clean/js_client_stopwatch","modules/clean/web_timing_logger"],(function(e,t,o,s,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageletLogger=void 0,i=o.__importStar(i);t.PageletLogger=class{constructor(e,t=[],o=!1,i={}){if(this.pageletName=e,o){const e=s.performance();e&&e.now&&(this.performance=e,this.stopwatchName=this.pageletName+"_client_logging",n.JSStopwatch.create_stopwatch_if_not_exist(this.stopwatchName))}else this.stopwatchName=void 0;this.ttiComponents=[],t.map(e=>{this.ttiComponents.push({name:e,isReady:!1})}),this.ttiMarked=!1,this.extraColumns=i}componentReady(e){if(this.ttiMarked)return;let t=!1;for(let o=0;o<this.ttiComponents.length;++o)this.ttiComponents[o].name!==e||this.ttiComponents[o].isReady?this.ttiComponents[o].isReady||(t=!0):(this.ttiComponents[o].isReady=!0,n.JSStopwatch.recordTrace(e+"_since_start",{stopwatchName:this.stopwatchName}),console.timeStamp&&console.timeStamp(e+" TTI"));t||(i.mark_time_to_interactive(this.extraColumns),this.ttiMarked=!0)}get ttiLogged(){return this.ttiMarked}}})),define("modules/clean/react/bubble_dropdown_v2",["require","exports","tslib","classnames","react","react-dom","prop-types","lodash","modules/clean/react/components/css","modules/clean/react/overlay","modules/clean/react/sticky_position"],(function(e,t,o,s,n,i,r,a,l,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleDropdown=t.BubbleDropdownContents=t.POSITION_TO_CSS_CLASS_MAP=void 0,s=o.__importDefault(s),n=o.__importDefault(n),i=o.__importStar(i),r=o.__importDefault(r),a=o.__importStar(a),t.POSITION_TO_CSS_CLASS_MAP={[u.StickyPosition.TOP_LEFT]:"top-left",[u.StickyPosition.TOP]:"top",[u.StickyPosition.TOP_RIGHT]:"top-right",[u.StickyPosition.LEFT_TOP]:"left-top",[u.StickyPosition.LEFT]:"left",[u.StickyPosition.LEFT_BOTTOM]:"left-bottom",[u.StickyPosition.RIGHT_TOP]:"right-top",[u.StickyPosition.RIGHT]:"right",[u.StickyPosition.RIGHT_BOTTOM]:"right-bottom",[u.StickyPosition.BOTTOM_LEFT]:"bottom-left",[u.StickyPosition.BOTTOM]:"bottom",[u.StickyPosition.BOTTOM_RIGHT]:"bottom-right",[u.StickyPosition.TOP_ALIGN_LEFT]:"top-align-left",[u.StickyPosition.TOP_ALIGN_RIGHT]:"top-align-right",[u.StickyPosition.LEFT_ALIGN_TOP]:"left-align-top",[u.StickyPosition.LEFT_ALIGN_BOTTOM]:"left-align-bottom",[u.StickyPosition.RIGHT_ALIGN_TOP]:"right-align-top",[u.StickyPosition.RIGHT_ALIGN_BOTTOM]:"right-align-bottom",[u.StickyPosition.BOTTOM_ALIGN_LEFT]:"bottom-align-left",[u.StickyPosition.BOTTOM_ALIGN_RIGHT]:"bottom-align-right"};class c extends n.default.Component{constructor(){super(...arguments),this._getArrowStyleFromPosition=()=>t.POSITION_TO_CSS_CLASS_MAP[this.props.position],this._adjustArrowPosition=(e=!1)=>{if(!this.props.shouldShowArrow)return;const t=i.findDOMNode(this.refs.bubbleArrowContainer);if(t){switch(this.props.position){case u.StickyPosition.TOP_ALIGN_LEFT:case u.StickyPosition.BOTTOM_ALIGN_LEFT:t.style.left=this.props.targetNode.offsetWidth/2+"px";break;case u.StickyPosition.TOP_ALIGN_RIGHT:case u.StickyPosition.BOTTOM_ALIGN_RIGHT:t.style.right=this.props.targetNode.offsetWidth/2+"px";break;case u.StickyPosition.LEFT_ALIGN_TOP:case u.StickyPosition.RIGHT_ALIGN_TOP:t.style.top=this.props.targetNode.offsetHeight/2+"px";break;case u.StickyPosition.LEFT_ALIGN_BOTTOM:case u.StickyPosition.RIGHT_ALIGN_BOTTOM:t.style.bottom=this.props.targetNode.offsetHeight/2+"px"}if((!e||e&&this.props.shouldArrowDecrement)&&(this.props.verticalArrowOffset||this.props.horizontalArrowOffset)){const e=getComputedStyle(t);this._getArrowStyleFromPosition().match(/^(top|bottom)/)&&(t.style.left=String(parseFloat(e.left)-this.props.horizontalArrowOffset)+"px"),this._getArrowStyleFromPosition().match(/^(left|right)/)&&(t.style.top=String(parseFloat(e.top)-this.props.verticalArrowOffset)+"px")}}}}componentDidMount(){return this._adjustArrowPosition()}componentDidUpdate(){return this._adjustArrowPosition(!0)}render(){return n.default.createElement("div",{className:this.props.isMaestroDesign?"maestro":""},n.default.createElement("div",{ref:"dropdown",className:s.default("bubble-dropdown-v2",`bubble-dropdown-v2--${this._getArrowStyleFromPosition()}`,this.props.className),"aria-labelledby":this.props.targetNode.id},this.props.children,this.props.shouldShowArrow?n.default.createElement("div",{ref:"bubbleArrowContainer",className:"bubble-arrow-container"},n.default.createElement("div",{className:"bubble-arrow-border"}),n.default.createElement("div",{className:"bubble-arrow"})):null))}}t.BubbleDropdownContents=c,c.displayName="BubbleDropdownContents",c.propTypes={targetNode:r.default.instanceOf(HTMLElement).isRequired,position:r.default.oneOf([u.StickyPosition.TOP_LEFT,u.StickyPosition.TOP,u.StickyPosition.TOP_RIGHT,u.StickyPosition.LEFT_TOP,u.StickyPosition.LEFT,u.StickyPosition.LEFT_BOTTOM,u.StickyPosition.RIGHT_TOP,u.StickyPosition.RIGHT,u.StickyPosition.RIGHT_BOTTOM,u.StickyPosition.BOTTOM_LEFT,u.StickyPosition.BOTTOM,u.StickyPosition.BOTTOM_RIGHT,u.StickyPosition.TOP_ALIGN_LEFT,u.StickyPosition.TOP_ALIGN_RIGHT,u.StickyPosition.LEFT_ALIGN_TOP,u.StickyPosition.LEFT_ALIGN_BOTTOM,u.StickyPosition.RIGHT_ALIGN_TOP,u.StickyPosition.RIGHT_ALIGN_BOTTOM,u.StickyPosition.BOTTOM_ALIGN_LEFT,u.StickyPosition.BOTTOM_ALIGN_RIGHT]),verticalArrowOffset:r.default.number,horizontalArrowOffset:r.default.number,shouldShowArrow:r.default.bool,shouldArrowDecrement:r.default.bool,className:r.default.string,isMaestroDesign:r.default.bool},c.defaultProps={verticalArrowOffset:0,horizontalArrowOffset:0,shouldShowArrow:!0,shouldArrowDecrement:!0,className:null,isMaestroDesign:!1};class p extends n.default.Component{constructor(){super(...arguments),this.state={isVisible:!1,targetNode:null,shouldAutoFocusDropdownContent:!1},this.hasOnShowNotBeenCalledSinceLastOpened=!1,this.updateTargetNode=()=>{const e=i.findDOMNode(this.refs.bubbleDropdownContainer).childNodes[0];return e&&(e.setAttribute("aria-expanded",this.state.isVisible),e.hasAttribute("id")||e.setAttribute("id",`bubbleDropdownTarget-${a.uniqueId()}`)),this.setState({targetNode:e})},this.showDropdown=()=>{if(!this.props.disabled)return this.setState({isVisible:!0})},this.hideDropdown=()=>{if(!this.props.disabled)return this.setState({isVisible:!1})},this._handleClick=e=>{const t=!(e.clientX>0&&e.clientY>0);return this.setState({shouldAutoFocusDropdownContent:t},this._toggle)},this._toggle=()=>{if(!this.props.disabled)return this.setState({isVisible:!this.state.isVisible})},this._hasShown=()=>{if(this.hasOnShowNotBeenCalledSinceLastOpened)return this.state.targetNode.setAttribute("aria-expanded",!0),this.props.onShowDropdown(),this.hasOnShowNotBeenCalledSinceLastOpened=!1},this._hasHidden=()=>(this.state.targetNode.setAttribute("aria-expanded",!1),this.props.onHideDropdown())}componentDidMount(){return this.updateTargetNode()}UNSAFE_componentWillUpdate(e,t){this.state.isVisible&&!this.props.disabled||!t.isVisible||e.disabled||(this.hasOnShowNotBeenCalledSinceLastOpened=!0)}componentDidUpdate(e,t){if(t.isVisible!==this.state.isVisible&&(this.state.isVisible||this._hasHidden()),i.findDOMNode(this.refs.bubbleDropdownContainer).childNodes[0]!==this.state.targetNode)return this.updateTargetNode()}render(){const{targetNode:e}=this.state;return n.default.createElement("div",{className:"bubble-dropdown-v2-container",onClick:this._handleClick,ref:"bubbleDropdownContainer"},this.props.targetButton,this.state.isVisible&&!this.props.disabled&&e?n.default.createElement(d.PositionedOverlay,{targetNode:e,isTargetPositionFixed:this.props.targetFixed,shouldTrapKeyboardFocus:this.props.shouldTrapKeyboardFocus,shouldAutoFocusOverlayContent:this.state.shouldAutoFocusDropdownContent,position:this.props.position,positionOffset:{horizontal:this.props.horizontalDisplacement,vertical:this.props.verticalDisplacement},onRendered:()=>this._hasShown(),onBlur:()=>this.hideDropdown()},n.default.createElement(c,{ref:"bubbleDropdownContents",targetNode:e,position:this.props.position,verticalArrowOffset:this.props.verticalDisplacement,horizontalArrowOffset:this.props.horizontalDisplacement,shouldShowArrow:this.props.shouldShowArrow,className:this.props.className,shouldArrowDecrement:this.props.shouldArrowDecrement,isMaestroDesign:this.props.isMaestroDesign},this.props.children)):void 0)}}p.displayName="BubbleDropdown",p.propTypes={targetButton(e,t,o){if(null==e.targetButton||"button"!==e.targetButton.type)return new Error("BubbleDropdown's targetButton must be a `<button>`")},position:r.default.oneOf([u.StickyPosition.TOP_LEFT,u.StickyPosition.TOP,u.StickyPosition.TOP_RIGHT,u.StickyPosition.LEFT_TOP,u.StickyPosition.LEFT,u.StickyPosition.LEFT_BOTTOM,u.StickyPosition.RIGHT_TOP,u.StickyPosition.RIGHT,u.StickyPosition.RIGHT_BOTTOM,u.StickyPosition.BOTTOM_LEFT,u.StickyPosition.BOTTOM,u.StickyPosition.BOTTOM_RIGHT,u.StickyPosition.TOP_ALIGN_LEFT,u.StickyPosition.TOP_ALIGN_RIGHT,u.StickyPosition.LEFT_ALIGN_TOP,u.StickyPosition.LEFT_ALIGN_BOTTOM,u.StickyPosition.RIGHT_ALIGN_TOP,u.StickyPosition.RIGHT_ALIGN_BOTTOM,u.StickyPosition.BOTTOM_ALIGN_LEFT,u.StickyPosition.BOTTOM_ALIGN_RIGHT]),targetFixed:r.default.bool,verticalDisplacement:r.default.number,horizontalDisplacement:r.default.number,className:r.default.string,disabled:r.default.bool,shouldShowArrow:r.default.bool,shouldTrapKeyboardFocus:r.default.bool,onShowDropdown:r.default.func,onHideDropdown:r.default.func,shouldArrowDecrement:r.default.bool,isMaestroDesign:r.default.bool},p.defaultProps={targetFixed:!1,verticalDisplacement:0,horizontalDisplacement:0,className:null,disabled:!1,shouldShowArrow:!0,shouldTrapKeyboardFocus:!1,onShowDropdown:a.noop,onHideDropdown:a.noop,shouldArrowDecrement:!0,isMaestroDesign:!1},t.BubbleDropdown=l.requireCssWithComponent(p,["/static/css/components/bubble_dropdown_v2-vflhhYVBe.css"])})),define("modules/clean/react/bubble_menu",["require","exports","tslib","classnames","create-react-class","react","react-dom","prop-types","lodash","jquery","ts-key-enum","modules/clean/react/bubble_dropdown_v2"],(function(e,t,o,s,n,i,r,a,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleMenu=t.BubbleMenuItemGroup=t.BubbleMenuSeparator=t.BubbleMenuItem=void 0,s=o.__importDefault(s),n=o.__importDefault(n),i=o.__importDefault(i),r=o.__importStar(r),a=o.__importDefault(a),l=o.__importStar(l),d=o.__importDefault(d);const p=function(e,t,o){const s=e[t].type;if(![_,m,f].includes(s)){const o=(null!=s?s.displayName:void 0)||e[t];return new Error(`Expected menu items to be instances of BubbleMenuItem, not ${o}.`)}return null},h={DEFAULT:1,CHECKBOX:2,RADIO:3};class _ extends i.default.Component{constructor(){super(...arguments),this._handleMouseEnter=e=>{if(null!=this.refs.item)return d.default(r.findDOMNode(this.refs.item)).closest(".bubble-menu").removeClass("bubble-menu--keyboard"),this.props.onMouseEnter(e)},this._handleClick=e=>this.props.disabled?(e.preventDefault(),e.stopPropagation()):"#"===this.props.href&&(e.preventDefault(),this.props.onClick(e),this.props.closeOnClick)?this.props.closeFunc():void 0,this._getRole=()=>{switch(this.props.itemType){case h.CHECKBOX:return"menuitemcheckbox";case h.RADIO:return"menuitemradio";default:return"menuitem"}},this._getAriaChecked=()=>{switch(this.props.itemType){case h.CHECKBOX:case h.RADIO:return this.props.checked||!1;default:return null}},this.renderContents=()=>{const e={"bubble-menu-item":!0,"bubble-menu-item--disabled":this.props.disabled,"bubble-menu-item--checked":this.props.checked};return i.default.createElement("a",{ref:"item",role:this._getRole(),className:s.default(e),href:this.props.href,target:this.props.target,onClick:this._handleClick,onMouseEnter:this._handleMouseEnter,onMouseLeave:this.props.onMouseLeave,"aria-disabled":this.props.disabled,"aria-checked":this._getAriaChecked()},this.props.children)}}render(){return i.default.createElement("li",{role:"presentation",className:s.default("bubble-menu-item-wrapper",this.props.className)},this.renderContents())}}t.BubbleMenuItem=_,_.displayName="BubbleMenuItem",_.propTypes={onClick:a.default.func,href:a.default.string,target:a.default.string,disabled:a.default.bool,closeOnClick:a.default.bool,closeFunc:a.default.func,className:a.default.string,onMouseEnter:a.default.func,onMouseLeave:a.default.func,itemType:a.default.oneOf(l.values(h)),checked:a.default.bool},_.defaultProps={onClick:l.noop,href:"#",target:null,disabled:!1,closeOnClick:!0,closeFunc:l.noop,className:null,onMouseEnter:l.noop,onMouseLeave:l.noop,itemType:h.DEFAULT,checked:null},_.TYPES=h;class m extends i.default.Component{render(){return i.default.createElement("li",{role:"separator",className:this.props.className},this.props.children)}}t.BubbleMenuSeparator=m,m.displayName="BubbleMenuSeparator",m.propTypes={className:a.default.string},m.defaultProps={className:"bubble-menu-item-separator"};const f=n.default({displayName:"BubbleMenuItemGroup",props:{items:a.default.arrayOf(p).isRequired,closeFunc:a.default.func},render(){return 0===this.props.items.length?null:i.default.createElement("li",{className:"bubble-menu-item-group",role:"presentation"},i.default.createElement("ul",{className:"bubble-menu-item-group u-unlist u-trim-padding",role:"group"},Array.from(this.props.items).map((e,t)=>i.default.cloneElement(e,{closeFunc:this.props.closeFunc,key:null!=e.key?e.key:t}))))}});t.BubbleMenuItemGroup=f;class b extends i.default.Component{constructor(){super(...arguments),this.showMenu=()=>{var e,t;return null===(t=null===(e=this.refs.bubble)||void 0===e?void 0:e.getWrappedComponent())||void 0===t?void 0:t.showDropdown()},this.hideMenu=()=>{var e,t;return null===(t=null===(e=this.refs.bubble)||void 0===e?void 0:e.getWrappedComponent())||void 0===t?void 0:t.hideDropdown()},this._onShowBubbleMenu=()=>{if(null!=this.refs.menu&&null!=this.refs.bubble)return this.$menu=d.default(r.findDOMNode(this.refs.menu)),this.$menuitems=this.$menu.find('*[role="menuitem"],*[role="menuitemcheckbox"],*[role="menuitemradio"]'),this.$menu.addClass("bubble-menu--keyboard"),"function"==typeof this.props.onShowDropdown?this.props.onShowDropdown():void 0},this._onKeyDown=e=>(this.$menu.addClass("bubble-menu--keyboard"),e.key===u.Key.ArrowDown?(this._focusNext(e.target),e.preventDefault(),e.stopPropagation()):e.key===u.Key.ArrowUp?(this._focusPrevious(e.target),e.preventDefault(),e.stopPropagation()):void 0),this._onKeyPress=e=>{this.$menu.addClass("bubble-menu--keyboard");const t=e.key.toLowerCase();return(()=>{var o,s;const n=[];for(let i=0;i<this.$menuitems.length;i++){const r=this.$menuitems[i];if((null===(s=null===(o=r.textContent)||void 0===o?void 0:o[0])||void 0===s?void 0:s.toLowerCase())===t&&i>this.$menuitems.index(e.target)){r.focus(),e.stopPropagation();break}n.push(void 0)}return n})()},this._focusPrevious=e=>{let t=this.$menuitems.index(e);return t=[-1,0].includes(t)?this.$menuitems.length-1:t-1,this.$menuitems.get(t).focus()},this._focusNext=e=>{let t=this.$menuitems.index(e);return t=[-1,this.$menuitems.length-1].includes(t)?0:t+1,this.$menuitems.get(t).focus()}}render(){let e;return this.props.targetButton&&(e=i.default.createElement(g,{ref:"targetButton",childProps:{"aria-haspopup":!0}},this.props.targetButton)),i.default.createElement(c.BubbleDropdown,Object.assign({},l.assignIn({},this.props,{ref:"bubble",shouldTrapKeyboardFocus:!0,onShowDropdown:this._onShowBubbleMenu,targetButton:e})),i.default.createElement("div",null,this.props.headerContent),i.default.createElement("ul",{role:"menu",ref:"menu",className:"bubble-menu",onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress},Array.from(this.props.items).map((e,t)=>i.default.cloneElement(e,{closeFunc:this.hideMenu,key:null!=e.key?e.key:t}))))}}t.BubbleMenu=b,b.displayName="BubbleMenu",b.propTypes=l.assignIn({},c.BubbleDropdown.propTypes,{headerContent:a.default.element,items:a.default.arrayOf(p).isRequired,onShowDropdown:a.default.func,targetButton(e,t,o){if("button"!==(null!=e.targetButton?e.targetButton.type:void 0))return new Error(`BubbleDropdown's targetButton must be a \`<button>\`, found: ${e[t].type}`)}});class g extends i.default.Component{render(){return i.default.cloneElement(this.props.children,this.props.childProps)}}g.displayName="BubbleMenuTargetButtonWrapper",g.propTypes={childProps:a.default.object}})),define("modules/clean/react/hidden",["require","exports","tslib","react","prop-types","lodash"],(function(e,t,o,s,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenSelect=t.Hidden=void 0,s=o.__importDefault(s),n=o.__importDefault(n),i=o.__importStar(i);class r extends s.default.Component{render(){return s.default.createElement("div",{className:"hidden-option"},this.props.children)}}t.Hidden=r,r.displayName="Hidden";class a extends s.default.Component{render(){return s.default.createElement(r,null,s.default.createElement("select",Object.assign({},i.omit(this.props,"options")),Array.from(this.props.options).map(e=>s.default.createElement("option",{key:e,label:e,value:e}))))}}t.HiddenSelect=a,a.displayName="HiddenSelect",a.propTypes={options:n.default.arrayOf(n.default.any).isRequired,value:n.default.any}})),define("modules/clean/react/rebrand/elements/rebrand_buttons",["require","exports","tslib","react","classnames","lodash","modules/clean/react/components/css"],(function(e,t,o,s,n,i,r){"use strict";function a(e="primary",t=!1,o="small",s=null,i=null,r=!1){const a=`button--${o}`;let l="";s&&(l=`${a}--${s}`);const d=`button--${e}`;let u="";return t&&(u=`${d}--disabled`),n.default({"button--with-border":"secondary"===e&&r},"button",d,a,l,i,u)}function l(e){e.preventDefault()}function d(){}Object.defineProperty(t,"__esModule",{value:!0}),t.RebrandButton=t.RebrandButtonElement=t.RebrandButtonAnchor=t.RebrandButtonAnchorElement=void 0,s=o.__importDefault(s),n=o.__importDefault(n),i=o.__importStar(i);class u extends s.default.Component{render(){const{ariaLabel:e,importance:t,disabled:o,size:n,width:i,className:r,withBorder:u,trackingId:c}=this.props,p=a(t,o,n,i,r,u);return s.default.createElement("a",{href:this.props.href,className:p,onClick:o?l:d,"aria-label":e,"aria-disabled":o,"data-trackingid":c,"data-uxa-log":c},this.props.children)}}t.RebrandButtonAnchorElement=u,u.displayName="RebrandButtonAnchorElement",t.RebrandButtonAnchor=r.requireCssWithComponent(u,["/static/css/rebrand/elements/button-vflIddG9V.css"]);class c extends s.default.Component{render(){const e=this.props,{importance:t,disabled:n,size:r,width:l,className:d,onClick:u,type:c,trackingId:p}=e,h=o.__rest(e,["importance","disabled","size","width","className","onClick","type","trackingId"]),_=a(t,n,r,l,d),m=i.pickBy(h,(e,t)=>t.startsWith("data-"));return s.default.createElement("button",Object.assign({className:_,onClick:u,disabled:n,type:c||"button","data-uxa-log":p,"aria-label":this.props.ariaLabel},m),this.props.children)}}t.RebrandButtonElement=c,c.displayName="RebrandButtonElement",t.RebrandButton=r.requireCssWithComponent(c,["/static/css/rebrand/elements/button-vflIddG9V.css"])})),define("modules/clean/react/util",["require","exports","tslib","react"],(function(e,t,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStatePromise=t.replaceSubtree=t.mergeProps=t.getText=void 0,s=o.__importDefault(s);var n=function(e){if("string"==typeof e)return e;if("string"==typeof e.props)return e.props;if(e.props.text)return e.props.text;const t=[];return s.default.Children.forEach(e.props.children,e=>t.push(n(e))),t.join("")};t.getText=n;var i=function(e,t,o){if(t(e))return o(e);{let n=!1;const r=[];return s.default.Children.forEach(e.props.children,e=>{const s=i(e,t,o);if(r.push(s),s!==e)return n=!0}),n?s.default.cloneElement(e,{},r):e}};t.replaceSubtree=i;t.mergeProps=function(...e){const t={},o=[];for(const s of Array.from(e))for(const e of Object.keys(s||{})){const n=s[e];"className"===e?o.push(n):t[e]=n}return null!=o.length&&(t.className=o.join(" ")),t};t.setStatePromise=(e,t)=>new Promise((function(o,s){return e.setState(t,o)}))})),define("modules/core/user_i18n",["require","exports","tslib","modules/constants/page_load"],(function(e,t,o,s){"use strict";function n(){return-1!==["zh","ja","ko"].indexOf(s.USER_LOCALE)}function i(e){const t=[],o=e.length;let s=0;for(;s<o;){const n=e[s];if(n>="\ud800"&&n<="\udb7f"){if(!(s<o-1))break;{const o=n+e[s+1];t.push(o),s+=2}}else t.push(n),s+=1}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.isCjkLocale=t.getShortName=t.getInitials=void 0,s=o.__importStar(s),t.getInitials=function(e){if(!e)return"";const t=(e=e.toUpperCase()).trim().split(" "),o=i(t[0]),s=i(t[t.length-1]);if(t.length>=2)return n()?s[0]+o[0]:o[0]+s[0];const r=i(e);return n()&&!(function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>=128)return!1;return!0})(e)&&r.length>1?r[0]+r[1]:r[0]},t.getShortName=function(e){if(!e)return"";const t=e.trim().split(" ");if(t.length<2)return e;const o=t[0],s=i(t[t.length-1]);return n()?s[0]+" "+o:o+" "+s[0]},t.isCjkLocale=n})),define("modules/clean/react/tooltip",["require","exports","tslib","react","react-dom","prop-types","lodash"],(function(e,t,o,s,n,i,r){"use strict";let a;Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipPosition=t.Tooltip=void 0,s=o.__importDefault(s),n=o.__importStar(n),i=o.__importDefault(i),r=o.__importStar(r);const l={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3,BOTTOM_RIGHT:4};t.TooltipPosition=l;const d=function(){let e=document.getElementById("tooltip-holder");return e||(e=document.createElement("div"),e.id="tooltip-holder",e.style.zIndex="10000",document.body.insertBefore(e,document.body.firstChild)),e},u=()=>{const e=d();n.unmountComponentAtNode(e),e.parentNode.removeChild(e)},c=function(e){const{top:t,left:o}=e.getBoundingClientRect(),s=t+document.body.scrollTop,n=o+document.body.scrollLeft,{width:i,height:r}=(function(e){if(0!==e.offsetWidth&&0!==e.offsetHeight)return{height:e.offsetHeight,width:e.offsetWidth};const{display:t,position:o,visibility:s}=e.style;e.style.display="block",e.style.position="absolute",e.style.visibility="hidden";const{offsetWidth:n,offsetHeight:i}=e;return e.style.display=t,e.style.position=o,e.style.visibility=s,{height:i,width:n}})(e);return{left_x:n,right_x:n+i,top_y:s,bottom_y:s+r,width:i,height:r}};class p extends s.default.Component{constructor(){super(...arguments),this._centerAndShow=()=>{const e=n.findDOMNode(this.refs.tooltip),t=this.props.targetElementDimensions,o=c(e),s=document.body.scrollTop,i=document.body.scrollLeft;if([l.TOP,l.BOTTOM].includes(this.props.position)){const s=window.innerWidth;let n=t.left_x+t.width/2-o.width/2-i;n<0?n=0:n+o.width>s&&(n=s-o.width-7),e.style.left=`${n}px`}else if([l.LEFT,l.RIGHT].includes(this.props.position)){const n=window.innerHeight;let i=t.top_y+t.height/2-o.height/2-s;i<0?i=0:i+o.height>n&&(i=n-o.height-7),e.style.top=`${i}px`}e.style.display="block"}}render(){const e=this.props.targetElementDimensions,t=window.innerHeight,o=window.innerWidth,n=document.body.scrollTop,i=document.body.scrollLeft,r=(()=>{switch(this.props.position){case l.TOP:return{bottom:t-e.top_y+7+n};case l.BOTTOM:return{top:e.bottom_y+7-n};case l.LEFT:return{right:o-e.left_x+7+i};case l.RIGHT:return{left:e.right_x+7-i};case l.BOTTOM_RIGHT:return{left:e.right_x-7-i,top:e.bottom_y+7-n}}})();return s.default.createElement("div",{className:`tooltip-bubble ${this.props.className||""}`,ref:"tooltip",style:r,onMouseMove:this.props.mouse_move_cb?this.props.mouse_move_cb:void 0,onMouseLeave:this.props.mouse_out_cb?this.props.mouse_out_cb:void 0,onMouseEnter:this.props.mouse_enter_cb?this.props.mouse_enter_cb:void 0},s.default.createElement("div",{className:"tooltip-inner"},this.props.contents))}componentDidMount(){return this._centerAndShow()}componentDidUpdate(){return this._centerAndShow()}}p.displayName="TooltipBubble",p.propTypes={position:i.default.oneOf((()=>{const e=[];for(a in l)e.push(l[a]);return e})()),contents:i.default.oneOfType([i.default.element,i.default.string]),className:i.default.string,mouse_move_cb:i.default.func,mouse_out_cb:i.default.func,mouse_enter_cb:i.default.func,targetElementDimensions:i.default.shape({left_x:i.default.number,right_x:i.default.number,top_y:i.default.number,bottom_y:i.default.number,width:i.default.number,height:i.default.number})};class h extends s.default.Component{constructor(){super(...arguments),this._scrollEventHandler=e=>this._hide(e),this.state={visible:!1,event_id:r.uniqueId()},this._on_mouse_enter=()=>{this.props.show_delay>0?this._scheduleShow():this._show()},this._on_mouse_leave=()=>{this.props.hide_delay>0?this._scheduleHide(this.props.hide_delay):this._hide()},this._render_tooltip=()=>{u();const e=d(),t=document.getElementById("tooltip-holder");if(!t)return;t.style.position="fixed",t.style.left="0",t.style.right="0",this.props.hide_delay>0&&t.setAttribute("data-event-id",this.state.event_id),this.props.position===l.TOP?(t.style.top="auto",t.style.bottom="0"):(t.style.top="0",t.style.bottom="auto");const o=s.default.createElement(p,{position:this.props.position,contents:this.props.tooltip_contents,className:this.props.tooltip_classname,mouse_move_cb:this.props.interaction_enabled?this._clear_timeout:void 0,mouse_out_cb:this.props.interaction_enabled?this._on_mouse_leave:void 0,mouse_enter_cb:this.props.interaction_enabled?this._on_mouse_enter:void 0,targetElementDimensions:c(n.findDOMNode(this.refs.tooltipTarget))});return n.render(o,e)},this._show=()=>{if(!this.state.visible||this._last_timeout)return this._render_tooltip(),this.setState({visible:!0}),this.props.on_show&&this.props.on_show(),this._clear_timeout()},this._hide=()=>{if(!this.state.visible)return;const e=d();if(this._last_timeout){e.getAttribute("data-event-id")===this.state.event_id&&(u(),this._clear_timeout())}else u();return this.setState({visible:!1})},this._scheduleHide=e=>{if(this.state.visible)return this._last_timeout=setTimeout(this._hide,e)},this._clear_timeout=()=>{if(this._last_timeout)return clearTimeout(this._last_timeout),this._last_timeout=null},this._scheduleShow=()=>(this._clear_timeout(),this._last_timeout=setTimeout(this._show,this.props.show_delay))}render(){return s.default.createElement("div",{className:"tooltip-target",onMouseEnter:this._on_mouse_enter,onFocus:this._show,onMouseLeave:this._on_mouse_leave,onBlur:this._on_mouse_leave,id:this.state.tooltip_id,ref:"tooltipTarget",tabIndex:this.props.is_focusable?0:void 0},this.props.children)}componentDidMount(){return document.addEventListener("scroll",this._scrollEventHandler)}componentDidUpdate(){if(this.state.visible)return this._render_tooltip()}componentWillUnmount(){document.removeEventListener("scroll",this._scrollEventHandler),u()}}t.Tooltip=h,h.displayName="Tooltip",h.propTypes={position:i.default.oneOf((()=>{const e=[];for(a in l)e.push(l[a]);return e})()),tooltip_contents:i.default.oneOfType([i.default.oneOfType([i.default.element,i.default.string]),i.default.arrayOf(i.default.oneOfType([i.default.element,i.default.string]))]),tooltip_classname:i.default.string,hide_delay:i.default.number,show_delay:i.default.number,interaction_enabled:i.default.bool,is_focusable:i.default.bool,on_show:i.default.func},h.defaultProps={interaction_enabled:!1,hide_delay:0,show_delay:0}})),define("modules/clean/portaled-snackbar",["require","exports","tslib","react","react-dom","styled-components","dig-components/snackbar","dig-components/buttons","modules/core/i18n"],(function(e,t,o,s,n,i,r,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PortaledSnackbar=void 0,s=o.__importDefault(s),n=o.__importDefault(n);const d=(i=o.__importDefault(i)).default.div`
  position: fixed;
  width: 100%;
  bottom: 6vh;
  margin: auto;
  z-index: 20;
  display: flex;
  justify-content: center;
`,u=i.default(r.Snackbar)`
  flex-grow: 1;
`,c=document.getElementsByTagName("body")[0];t.PortaledSnackbar=({children:e,close:t,isOpen:o=!0,timeoutInMs:i=5e3})=>n.default.createPortal(s.default.createElement(d,null,s.default.createElement(u,{open:o,timeout:i,onRequestClose:t},s.default.createElement(r.Snackbar.Message,null,e),s.default.createElement(r.Snackbar.Actions,null,s.default.createElement(a.Button,{variant:"transparent",inverse:!0,onClick:t},l.intl.formatMessage({id:"WxV0Sy",defaultMessage:"Dismiss"}))))),c),t.PortaledSnackbar.displayName="PortaledSnackbar"})),define("modules/clean/deprecated_ajax/ajax_form_extract_errors",["require","exports","modules/core/i18n"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractErrors=void 0,t.extractErrors=e=>{try{return 0===e.indexOf("err:")&&(e=e.substr(4),JSON.parse(e))}catch(t){return"string"==typeof e?e:o.intl.formatMessage({id:"bLA3rA",defaultMessage:"There was a problem completing this request."})}}}));
//# sourceMappingURL=pkg-modules-unneeded-for-home.min.js-vflfZ3Npe.map