define(["require","exports","tslib","modules/core/exception","modules/clean/metrics/index","modules/clean/logging/telemetry","apex-metrics/types","modules/clean/logging/hive/schemas/web-edit_mode","modules/clean/pap/analytics_client","dropbox/proto/pap_events/pdf_edit/select_edit_mode","dropbox/proto/pap_events/pdf_edit/select_delete_page","dropbox/proto/pap_events/pdf_edit/select_grid_view","dropbox/proto/pap_events/pdf_edit/select_thumbnail_view","dropbox/proto/pap_events/pdf_edit/select_rotate_right_page","dropbox/proto/pap_events/pdf_edit/select_rotate_left_page","dropbox/proto/pap_events/pdf_edit/select_delete_confirmation","dropbox/proto/pap_events/pdf_edit/dismiss_delete_page","dropbox/proto/pap_events/pdf_edit/select_delete_no_ask_checkbox","dropbox/proto/pap_events/pdf_edit/deselect_delete_no_ask_checkbox","dropbox/proto/pap_events/pdf_edit/select_reorder_page","dropbox/proto/pap_events/pdf_edit/move_pdf_page","dropbox/proto/pap_events/pdf_edit/input_page_number","dropbox/proto/pap_events/pdf_edit/select_save_pdf","dropbox/proto/pap_events/pdf_edit/dismiss_save_pdf","dropbox/proto/pap_events/pdf_edit/select_save_a_copy","dropbox/proto/pap_events/pdf_edit/select_replace_original","dropbox/proto/pap_events/pdf_edit/select_replace_original_confirmation","dropbox/proto/pap_events/pdf_edit/dismiss_replace_original","dropbox/proto/pap_events/pdf_edit/select_save_a_copy_confirmation","dropbox/proto/pap_events/pdf_edit/dismiss_save_a_copy","dropbox/proto/pap_events/pdf_edit/create_new_folder","dropbox/proto/pap_events/pdf_edit/select_discard_changes","dropbox/proto/pap_events/pdf_edit/select_stay_on_this_page","dropbox/proto/pap_events/pdf_edit/select_pdf_page","dropbox/proto/pap_events/pdf_edit/select_insert_pdf_confirmation","dropbox/proto/pap_events/pdf_edit/dismiss_insert_page"],(function(e,t,_,i,a,r,p,n,d,o,s,E,c,g,l,f,v,S,m,T,P,D,N,u,A,I,C,R,x,L,O,b,F,M,y,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startAndRetrieveTimer=t.logOperationMetric=t.logProductMetricPAP=t.logProductMetric=t.logException=t.legacyLogger=t.ERROR_SEVERITY=t.AMP_METRICS=void 0,i=_.__importStar(i),r=_.__importStar(r);const V=["third_party_integrations","web_pdf_editing"];var G;(function(e){e.CLICK_EDIT_BUTTON="pdf_editing/user_action/click_edit_button",e.TTI_EDITOR="pdf_editing/tti/editor",e.LATENCY_DOWNLOAD="pdf_editing/latency/download",e.LATENCY_UPLOAD="pdf_editing/latency/upload",e.LATENCY_LOADING_VENDOR_ASSETS="pdf_editing/latency/loading_vendor_assets",e.LATENCY_DATA_TRANSFER_TO_IFRAME="pdf_editing/latency/data_transfer_to_iframe",e.LATENCY_INSERT_ACTION="pdf_editing/latency/insert_action",e.LATENCY_ROTATE_ACTION="pdf_editing/latency/rotate_action",e.LATENCY_DELETE_ACTION="pdf_editing/latency/delete_action",e.LATENCY_MOVE_ACTION="pdf_editing/latency/move_action",e.LATENCY_EXTRACT_DOCUMENT="pdf_editing/latency/extract_document",e.ERROR="pdf_editing/error"})(G=t.AMP_METRICS||(t.AMP_METRICS={})),t.ERROR_SEVERITY={CRITICAL:"critical",NONCRITICAL:"non-critical",USER_ERROR:"user-error",UNCAUGHT:"uncaught",OPERATIONAL:"operational"},t.legacyLogger=new r.HiveLogger,t.logException=function(e){i.reportException({err:e.exclogError,severity:e.exclogSeverity,tags:[...V],exc_extra:e.exclogExtra}),a.getMetricsReporter().createStats({ns:"web_pdf_editing",name:G.ERROR},{errorType:e.exclogError.name,errorMsg:e.exclogError.message}).record(1)},t.logProductMetric=function(e){t.legacyLogger.log(new n.WebPDFEditingLoggingTableRow(e))},t.logProductMetricPAP=function(e){const t=(function(e){let t=void 0,_=void 0,i=void 0,a=void 0;switch(e.event_name){case n.PDFEditingEventNames.SELECT_EDIT_MODE:return o.pap_events.pdf_edit.Select_EditMode.create({actionSurface:"preview",pdfFileObjId:e.file_obj_id});case n.PDFEditingEventNames.SELECT_GRID_VIEW:return E.pap_events.pdf_edit.Select_GridView.create();case n.PDFEditingEventNames.SELECT_THUMBNAIL_VIEW:case n.PDFEditingEventNames.SELECT_INSERT_PAGE:return c.pap_events.pdf_edit.Select_ThumbnailView.create();case n.PDFEditingEventNames.SELECT_INSERT_PDF_CONFIRMATION:let r=y.pap_events.pdf_edit.Select_InsertPdfConfirmation.EditView.UNKNOWN_EDIT_VIEW;return e.edit_view===n.PDFEditingEditView.LIST?r=y.pap_events.pdf_edit.Select_InsertPdfConfirmation.EditView.LIST_EDIT_VIEW:e.edit_view===n.PDFEditingEditView.GRID&&(r=y.pap_events.pdf_edit.Select_InsertPdfConfirmation.EditView.GRID_EDIT_VIEW),y.pap_events.pdf_edit.Select_InsertPdfConfirmation.create({editView:r});case n.PDFEditingEventNames.DISMISS_INSERT_PAGE:return w.pap_events.pdf_edit.Dismiss_InsertPage.create();case n.PDFEditingEventNames.SELECT_ROTATE_RIGHT_PAGE:return g.pap_events.pdf_edit.Select_RotateRightPage.create();case n.PDFEditingEventNames.SELECT_ROTATE_LEFT_PAGE:return l.pap_events.pdf_edit.Select_RotateLeftPage.create();case n.PDFEditingEventNames.SELECT_DELETE_PAGE:return s.pap_events.pdf_edit.Select_DeletePage.create();case n.PDFEditingEventNames.SELECT_DELETE_CONFIRMATION:return e.extra&&e.extra.no_of_pages_selected&&(t=e.extra.no_of_pages_selected),f.pap_events.pdf_edit.Select_DeleteConfirmation.create({numPagesSelected:t});case n.PDFEditingEventNames.DISMISS_DELETE_PAGE:return v.pap_events.pdf_edit.Dismiss_DeletePage.create();case n.PDFEditingEventNames.SELECT_DELETE_NO_ASK_CHECKBOX:return S.pap_events.pdf_edit.Select_DeleteNoAskCheckbox.create();case n.PDFEditingEventNames.DESELECT_DELETE_NO_ASK_CHECKBOX:return m.pap_events.pdf_edit.Deselect_DeleteNoAskCheckbox.create();case n.PDFEditingEventNames.SELECT_REORDER_PAGE:return e.extra&&e.extra.no_of_pages_selected&&(t=e.extra.no_of_pages_selected),T.pap_events.pdf_edit.Select_ReorderPage.create({numPagesSelected:t});case n.PDFEditingEventNames.MOVE_PAGE:return e.extra&&e.extra.input_pages_for_move&&(i=e.extra.input_pages_for_move),e.extra&&void 0!==e.extra.move_after_page&&(a=e.extra.move_after_page),P.pap_events.pdf_edit.Move_PdfPage.create({afterPage:a,pageNumber:i});case n.PDFEditingEventNames.INPUT_PAGE_NUMBER:return e.extra&&e.extra.input_page_number_to_go&&(_=e.extra.input_page_number_to_go),D.pap_events.pdf_edit.Input_PageNumber.create({pageNumber:_});case n.PDFEditingEventNames.SELECT_SAVE_PDF:return N.pap_events.pdf_edit.Select_SavePdf.create();case n.PDFEditingEventNames.DISMISS_SAVE_PDF:return u.pap_events.pdf_edit.Dismiss_SavePdf.create();case n.PDFEditingEventNames.SELECT_SAVE_A_COPY:return A.pap_events.pdf_edit.Select_SaveACopy.create();case n.PDFEditingEventNames.SELECT_REPLACE_ORIGINAL:return I.pap_events.pdf_edit.Select_ReplaceOriginal.create();case n.PDFEditingEventNames.SELECT_REPLACE_ORIGINAL_CONFIRMATION:return C.pap_events.pdf_edit.Select_ReplaceOriginalConfirmation.create();case n.PDFEditingEventNames.DISMISS_REPLACE_ORIGINAL:return R.pap_events.pdf_edit.Dismiss_ReplaceOriginal.create();case n.PDFEditingEventNames.SELECT_SAVE_A_COPY_CONFIRMATION:return x.pap_events.pdf_edit.Select_SaveACopyConfirmation.create();case n.PDFEditingEventNames.DISMISS_SAVE_A_COPY:return L.pap_events.pdf_edit.Dismiss_SaveACopy.create();case n.PDFEditingEventNames.CREATE_NEW_FOLDER:return O.pap_events.pdf_edit.Create_NewFolder.create();case n.PDFEditingEventNames.SELECT_DISCARD_CHANGES:return b.pap_events.pdf_edit.Select_DiscardChanges.create();case n.PDFEditingEventNames.SELECT_STAY_ON_THIS_PAGE:return F.pap_events.pdf_edit.Select_StayOnThisPage.create();case n.PDFEditingEventNames.SELECT_PDF_PAGE:return e.extra&&e.extra.no_of_pages_selected&&(t=e.extra.no_of_pages_selected),M.pap_events.pdf_edit.Select_PdfPage.create({numPagesSelected:t});default:return}})(e);t&&d.logEvent(t)},t.logOperationMetric=function(e){if(e.ampDurationInMilliseconds){a.getMetricsReporter().createStats({ns:"web_pdf_editing",name:e.ampMetrics},e.ampTags).recordDuration(e.ampDurationInMilliseconds,p.TimeUnit.MILLISECONDS)}else{a.getMetricsReporter().createStats({ns:"web_pdf_editing",name:e.ampMetrics},e.ampTags).record(1)}},t.startAndRetrieveTimer=function(e){return a.getMetricsReporter().createTimer({ns:"web_pdf_editing",name:e.ampMetrics},e.ampTags)}}));
//# sourceMappingURL=logging_utils.min.js-vflBM_E2b.map