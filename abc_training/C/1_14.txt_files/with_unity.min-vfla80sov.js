define(["require","exports","tslib","react","modules/clean/react/file_viewer/unity/unity_utils"],(function(t,i,e,n,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.WithUnity=void 0,n=e.__importDefault(n);class l extends n.default.Component{constructor(){super(...arguments),this.mounted=!1,this.state={unityInfo:null}}componentDidMount(){this.mounted=!0,s.UnityHelpers.isUnityEnabled()&&this.setupUnity()}componentWillUnmount(){this.mounted=!1,window.clearTimeout(this.disableCheck)}setupUnity(){this.props.isUnityDisabled?this.disableUnity():(s.UnityHelpers.getUnityFileInfo(this.props.file.ns_id,this.props.file.ns_path,this.props.user.id,t=>{this.mounted&&this.setState({unityInfo:t})},()=>{this.disableUnity()}),this.disableCheck=window.setTimeout(()=>{this.state.unityInfo||this.disableUnity()},1e4))}disableUnity(){this.setState({unityInfo:{local_path:null,resolved_local_path:null,can_open_directly:!1,is_locally_available:!1,is_infinite_placeholder:!1,open_application_identifier:null,open_application_name:null,path_is_dir:!1,error_message:null}})}render(){return this.props.render(this.state.unityInfo)}}i.WithUnity=l,l.displayName="WithUnity"}));
//# sourceMappingURL=with_unity.min.js-vflgthzrG.map