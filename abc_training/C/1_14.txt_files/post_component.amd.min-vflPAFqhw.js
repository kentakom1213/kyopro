define(["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","draft-js"],(function(t,e,s,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostComponent=void 0,n=s.__importStar(n);class r extends i.EditorComponent{constructor(){super(...arguments),this.signals={cancel:()=>{this.triggers.comment.cancel(null),this.triggers.container.updateFocus(!1)},insertMention:()=>{this.triggers.draft.insertMacro("")},post:()=>{this.triggers.comment.post(this.status.draft.editorState),this.triggers.container.updateFocus(!1)},postSticker:(t,e,s)=>{const n={metadata:[{type:"sticker",id:t,url:e,name:s}],text:s},i=o.ContentState.createFromText("").createEntity("sticker","IMMUTABLE",n),r=i.getLastCreatedEntityKey(),c=o.AtomicBlockUtils.insertAtomicBlock(o.EditorState.createWithContent(i),r,"*");this.triggers.comment.post(c),this.triggers.container.updateFocus(!1),document.activeElement&&document.activeElement.blur()}}}render(){const{draft:{editorState:t,isFocused:e},container:{isFocused:s}}=this.status,{signalComponent:i,forceCancelEnabled:o,stickerPacks:r,annotationElement:c,useV2Design:a}=this.props,d=""===t.getCurrentContent().getPlainText().trim(),m=!d,l=!d||!!o||!!a&&s;return n.createElement(i,{postEnabled:m,cancelEnabled:l,signals:this.signals,isEmpty:d,isEditorFocused:e,isContainerFocused:s,stickerPacks:r,annotationElement:a?c:void 0})}}e.PostComponent=r}));
//# sourceMappingURL=post_component.amd.min.js-vfl92Zmg3.map