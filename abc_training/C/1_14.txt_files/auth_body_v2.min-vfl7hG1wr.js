define(["require","exports","tslib","react","react-intl","modules/clean/react/components/css","spectrum/button/index","modules/core/i18n","modules/clean/react/app_actions/telemetry_client","modules/clean/filepath/filepath","modules/clean/react/extensions/status_page"],(function(e,t,s,a,n,i,r,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsAuthBodyV2=void 0,a=s.__importDefault(a);class u extends a.default.Component{constructor(e){super(e),this.clickAuthorize=()=>{this.currentSession.event("auth_accept",{action_id:this.props.actionId}),this.props.doAuth()},this.learnMoreOnClick=()=>{this.currentSession.event("learn_more",{action_id:this.props.actionId}),this.props.onLearnMore&&this.props.onLearnMore()},this.telemetryClient=l.createTelemetryClient({component:"auth_v2"})}componentDidMount(){this.currentSession.event("auth_start",{action_id:this.props.actionId})}renderText(){const e=0!==this.props.fileId.length?n.defineMessage({id:"VDSuu6",defaultMessage:"<b>{app_name}</b> needs access to this file"}):n.defineMessage({id:"mZo8K4",defaultMessage:"<b>{app_name}</b> needs access to files you select"}),t=0!==this.props.fileId.length?n.defineMessage({id:"hE6l1Q",defaultMessage:"Changes to this file using {app_name} will save back to Dropbox. This app will have access to the username, email address, and country for your account."}):n.defineMessage({id:"HsAedA",defaultMessage:"Changes to selected files using {app_name} will save back to Dropbox. This app will have access to the username, email address, and country for your account."});return a.default.createElement("div",null,a.default.createElement("div",{className:"auth-text-header-v2"},o.intl.formatMessage(e,{app_name:this.props.appName,b:e=>a.default.createElement("b",null,e)})),a.default.createElement("div",{className:"auth-text-v2"},o.intl.formatMessage(t,{app_name:this.props.appName}),a.default.createElement("a",{className:"learn-more-link",href:"/help/security/third-party-apps",target:"_blank",rel:"noopener noreferrer",onClick:this.learnMoreOnClick},o.intl.formatMessage({id:"gk12sS",defaultMessage:"Learn more"}))))}renderButtons(){return a.default.createElement("div",null,a.default.createElement(r.Button,{variant:"primary",className:"auth-button-v2",onClick:this.clickAuthorize},o.intl.formatMessage({id:"LGeX5c",defaultMessage:"Allow"})))}renderAuthorization(){const{appName:e,iconUrl:t}=this.props;return a.default.createElement("div",{id:"auth",className:"auth-connect-frame-v2"},a.default.createElement("div",null,a.default.createElement("img",{className:"app-icon-v2",src:t,alt:e})),a.default.createElement("div",null,this.renderText()),a.default.createElement("div",{id:"buttons"},this.renderButtons()))}render(){const{fileName:e}=this.props;return this.currentSession=this.telemetryClient.session({ext:l.getPiiSafeExtension("."+c.file_extension(e))}),this.props.showLoadingUI?a.default.createElement(d.AppActionsLoadingPage,{fileName:e}):this.renderAuthorization()}}u.displayName="AuthBodyV2Component",t.ExtensionsAuthBodyV2=i.requireCssWithComponent(u,["/static/css/spectrum/index.web-vfliw9181.css","/static/css/foundation-vfljLCXoa.css","/static/css/app_actions/index-vflb8K3Re.css"])}));
//# sourceMappingURL=auth_body_v2.min.js-vflO8ljJ4.map