define(["require","exports","typescript/libraries/file-viewer/src/plugins/index","typescript/component_libraries/files_components/src/blades/comments/data/actions","typescript/component_libraries/files_components/src/blades/comments/data/types","api_v2/redux/comments2"],(function(e,t,i,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMiddleware=void 0,t.createMiddleware=e=>({getState:t,dispatch:r})=>s=>c=>{var d;switch(s(c),c.type){case n.Action.ResolveNavigationToActiveThreadAnnotation:return;case n.Action.ActivateInitialThread:case n.Action.ActivateThread:case o.Action.ListCommentsResult:{const o=t();for(const t of Object.getOwnPropertyNames(o.pendingNavigationToActiveThreadAnnotation)){if(t===e.fileViewerId){const{file:s,navigation:c,sharedLinkInfo:l}=e.getPluginData();if(null!=s){const e=a.createCommentFileIdentifier(s.fileId,null==l?void 0:l.url),p=o.activeThreadID[t],v=null===(d=o.threads[e])||void 0===d?void 0:d[p];if(v&&v.annotation){const e=v.annotation;"document"===e.type&&"navigateToPage"in c&&c.navigateToPage((e.regions[0].page||1)-1,i.UserActionContext.Sidebar),("audio"===e.type||"video"===e.type)&&"seek"in c&&c.seek(e.time),r(n.resolveNavigationToActiveThreadAnnotation(t))}}}return}}}}}));
//# sourceMappingURL=navigation_middleware.amd.min.js-vflnc0YFA.map