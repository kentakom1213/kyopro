define("modules/clean/referrer_cleansing_redirect",["require","exports","tslib","sjcl","modules/core/browser","modules/core/cookies","modules/core/uri"],(function(e,r,t,c,o,n,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.safe_open_tab_and_redirect=r.redirect=r.get_redirect_uri=void 0,c=t.__importStar(c),o=t.__importStar(o);const s=function(e){const r=c.codec.utf8String.toBits(n.Cookies.read("__Host-js_csrf")),t=new c.misc.hmac(r).encrypt(e);return c.codec.base64.fromBits(t)};function _(e){const r=i.URI.parse(e).getScheme();if(r&&!["http","https"].includes(r))return"#";const t=new i.URI({scheme:"https",authority:"www.dropbox.com",path:"/referrer_cleansing_redirect"});return t.setQuery({url:e,hmac:s(e)}),t}function u(e,r=window,t=!1){t&&(r.opener=null),o.redirect(_(e),r)}r.get_redirect_uri=_,r.redirect=u,r.safe_open_tab_and_redirect=function(e){u(e,o.unsafe_open_tab(""),!0)}}));
//# sourceMappingURL=pkg-referrer-cleansing-redirect.min.js-vflbjAJIx.map