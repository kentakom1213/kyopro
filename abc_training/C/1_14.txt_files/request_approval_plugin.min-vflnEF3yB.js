define(["require","exports","tslib","react","modules/core/i18n","dig-components/menu","dig-components/icons/src","dig-components/icons","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/comments2/plugin/types","typescript/component_libraries/flows/src/components/approval-forms/index","modules/clean/react/browse/action_logger","modules/clean/web_user_action_events","modules/clean/filepath/filepath"],(function(e,t,i,o,n,s,r,l,a,c,p,f,_,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequestApprovalLoader=t.getOverflowItem=t.REQUEST_APPROVAL_ACTION_PLUGIN_ID=void 0,o=i.__importDefault(o),t.REQUEST_APPROVAL_ACTION_PLUGIN_ID="REQUEST_APPROVAL_ACTION",t.getOverflowItem=(e,t,i,a)=>o.default.createElement(s.Menu.ActionItem,{key:"request-approval-action",withLeftAccessory:o.default.createElement(l.UIIcon,{src:r.ThumbsUpLine}),withTitle:n.intl.formatMessage({id:"o2BfZf",defaultMessage:"Request approval"}),onClick:()=>{p.setRequestApproval(),a(),i({action:"request-approval-action",context:"preview_workflows_button"}),f.logApprovalActions({user_id:t.id,event_name:_.WebUserActionLogEvent.REQUEST_APPROVAL_CLICK,action_surface:"previews_workflow_dropdown",file_sjid:e.sjid,file_nsid:e.ns_id,file_id:e.file_id,file_extension:"ext"in e?e.ext:u.file_extension_for_logging(e.filename),file_path:"fq_path"in e?e.fq_path:void 0})}}),t.makeRequestApprovalLoader=(e,i)=>()=>Promise.resolve(class{constructor(t){this.lifecycle={previewDidRender:()=>{this.actionDefinitions=this.requestApprovalDefinition(e())}},this.actionDefinitions=this.requestApprovalDefinition(e()),this.context=t}requestApprovalDefinition(e){return{categories:{workflows:[{overflowItem:t.getOverflowItem(e.file,i,e=>this.context.logUserAction(e),()=>{this.context.getPluginData().navigation.openRightRailPlugin(a.UserActionContext.Toolbar,c.COMMENTS_PLUGIN_ID)})}]}}}})}));
//# sourceMappingURL=request_approval_plugin.min.js-vflNgtx2e.map