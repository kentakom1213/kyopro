define(["require","exports","typescript/libraries/file-viewer/src/core/data/preview_key","api_v2/redux/previews","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,r,i,t,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getArchiveFiles=r.getFiles=r.transformArchiveEntriesToFiles=r.queryStringValueToArchiveCurrentPath=r.archiveCurrentPathToQueryStringValue=void 0,r.archiveCurrentPathToQueryStringValue=function(e){return 0===e.length?null:`/${e.join("/")}`},r.queryStringValueToArchiveCurrentPath=function(e){return null===e?[]:e.split("/").slice(1)},r.transformArchiveEntriesToFiles=function(e,r,i,t,o){return e.map(e=>({uniqueKey:e.name,title:e.name,isFolder:!!e.isDir,extension:e.name.split(".").pop(),sizeInBytes:e.size,performOpenAction:()=>{r(n.updateArchiveFileCurrentPath({currentPath:[...i,e.name],fileViewerId:t,previewKey:o,isDir:!!e.isDir}))}}))},r.getFiles=function(e){return e.filter(e=>!e.isDir)},r.getArchiveFiles=function(e,r,n,o,s,u){if(!r.length)return;const l=r.map(r=>i.getSubpath([...e,r.name]));o(u?t.getArchiveFilesAction({arg:{root_file_info:n,subpaths:l}},{rootFileId:s}):t.loggedOutGetArchiveFilesAction({arg:{root_file_info:n,subpaths:l}},{rootFileId:s}))}}));
//# sourceMappingURL=utils.amd.min.js-vflOifSCr.map