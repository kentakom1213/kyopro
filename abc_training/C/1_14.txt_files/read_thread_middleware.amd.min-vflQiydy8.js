define(["require","exports","tslib","api_v2/redux/comments2","typescript/component_libraries/files_components/src/blades/comments/data/actions","typescript/component_libraries/files_components/src/blades/comments/data/transform","typescript/component_libraries/files_components/src/blades/comments/data/types"],(function(e,t,i,r,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMiddleware=void 0,t.createMiddleware=()=>({dispatch:e,getState:t})=>s=>c=>i.__awaiter(void 0,void 0,void 0,(function*(){const i=s(c);if(c.type===a.Action.ActivateThread||c.type===a.Action.ActivateInitialThread){const{threadId:a,fileId:s,sharedLinkURL:d}=c.payload,l=t().threads[o.createCommentFileIdentifier(s,d)];if(null==l)return i;const m=l[a];if(m&&!m.read&&!m.readonly){const t=n.createStreamFromFileOrSharedLink(s,d);e(r.markThreadReadAction({arg:{id:m.id,stream:t}}))}}return i}))}));
//# sourceMappingURL=read_thread_middleware.amd.min.js-vfl67k2Mh.map