define(["require","exports","typescript/component_libraries/deep-integrations/src/async","typescript/libraries/file-viewer/src/core/data/selectors"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isZoomConnected=t.isZoomEnabled=t.getCurrentlyViewedMeeting=t.getMeeting=t.getMeetingInBuffer=t.getMeetingsByFileId=t.getMeetings=t.getMeetingCreationRequest=t.getMeetingCreationRequestByFileId=t.getFileInvitees=t.getFileInviteesByFileId=t.getFileInfo=t.getFileId=void 0,t.getFileId=(e,t)=>{const i=n.getCurrentFile(e,t);if(!i)throw Error(`failed to get current file info for fileViewerId ${t}`);return i.file_id},t.getFileInfo=(e,i)=>{const n=t.getFileId(e,i),r=e.fileMetadata[n];if(!r)throw Error(`failed to get file metadata for fileId ${n}`);return{id:r.file_id,name:r.file_name,icon:"icon"}},t.getFileInviteesByFileId=(e,t)=>{const n=e.fileMembersForZoom[t];if(!n)return;const r=t=>{const i=t.user.account_id,n=e.users[i];if(n&&(!e.currentUser||n.account_id!==e.currentUser.account_id))return{userInfo:n,active:!0}};return i.applyAndFlatten(n,e=>e.users.map(r).filter(Boolean))},t.getFileInvitees=(e,i)=>{const n=t.getFileId(e,i);return t.getFileInviteesByFileId(e,n)},t.getMeetingCreationRequestByFileId=(e,t)=>e.instantZoomMeetingCreationRequests[t],t.getMeetingCreationRequest=(e,i)=>{const n=t.getFileId(e,i);return t.getMeetingCreationRequestByFileId(e,n)},t.getMeetings=(e,i)=>{const n=t.getFileId(e,i);return e.instantZoomMeetings[n]},t.getMeetingsByFileId=(e,t)=>e.instantZoomMeetings[t];const r=(e,t)=>e.instantZoomMeetingsBuffer[t];t.getMeetingInBuffer=(e,i)=>{const n=t.getFileId(e,i);return r(e,n)},t.getMeeting=(e,i)=>{const n=e.viewingInstantZoomMeetingId[i];if(!n)return;const r=t.getMeetings(e,i);if(r&&"fulfilled"===r.state)for(const e of r.value)if(e.meeting.uuid===n)return e;return t.getMeetingInBuffer(e,i)},t.getCurrentlyViewedMeeting=(e,i,n)=>{const o=e.viewingInstantZoomMeetingId[i];if(!o)return;const s=t.getMeetingsByFileId(e,n);if(s&&"fulfilled"===s.state)for(const e of s.value)if(e.meeting.uuid===o)return e;return r(e,n)},t.isZoomEnabled=e=>!(!e.serviceInfo||"fulfilled"!==e.serviceInfo.state)&&"enabled"===e.serviceInfo.value.service_availability[".tag"],t.isZoomConnected=e=>!(!e.serviceInfo||"fulfilled"!==e.serviceInfo.state)&&"is_connected"===e.serviceInfo.value.connection_state[".tag"]}));
//# sourceMappingURL=selectors.amd.min.js-vfl1m-YCX.map