define(["require","exports","redux","api_v2/redux/zoom","typescript/component_libraries/deep-integrations/src/async","typescript/libraries/file-viewer/src/zoom/actions","api_v2/redux/sharing","api_v2/redux/integrations"],(function(e,t,s,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.reducers=t.DEFAULT_STATE=void 0,t.DEFAULT_STATE={fileMembersForZoom:{},instantZoomMeetingCreationRequests:{},instantZoomMeetings:{},instantZoomMeetingsBuffer:{},viewingInstantZoomMeetingId:{},serviceInfo:null,addingInviteeSuggestions:[],zoomSettings:null,updatePmiSettingRequest:null};t.reducers={fileMembersForZoom:(e=t.DEFAULT_STATE.fileMembersForZoom,s)=>{if(s.type===o.Action.ListFileMembers){const{payload:t,error:i}=s,r=t.arg.file;return i?Object.assign(Object.assign({},e),{[r]:n.rejected(i)}):Object.assign(Object.assign({},e),{[r]:n.pending})}if(s.type===o.Action.ListFileMembersResult||s.type===o.Action.ListFileMembersContinueResult){const{payload:t,error:i}=s,r=t.arg.file;if(!i&&t.result){const s=t.result;return Object.assign(Object.assign({},e),{[r]:n.fulfilled(s)})}return i?Object.assign(Object.assign({},e),{[r]:n.rejected(i)}):Object.assign(Object.assign({},e),{[r]:n.rejected(Error("failed to get result from ListFileMembersResultAction payload"))})}return e},instantZoomMeetingCreationRequests:(e=t.DEFAULT_STATE.instantZoomMeetingCreationRequests,s)=>{if(s.type===i.Action.CreateInstantZoomMeeting){const t=s.payload.arg.file_id;return Object.assign(Object.assign({},e),{[t]:n.pending})}if(s.type===i.Action.CreateInstantZoomMeetingResult){const{payload:t,error:i}=s,r=s.payload.arg.file_id;return!i&&t.result?Object.assign(Object.assign({},e),{[r]:n.fulfilled(t.result)}):i?Object.assign(Object.assign({},e),{[r]:n.rejected(i)}):Object.assign(Object.assign({},e),{[r]:n.rejected(Error("failed to get result from CreateInstantZoomMeetingAction payload"))})}if(s.type===r.Action.ResetMeetingCreationRequest){const{fileId:t}=s.payload,i=Object.assign({},e);return delete i[t],i}return e},instantZoomMeetings:(e=t.DEFAULT_STATE.instantZoomMeetings,s)=>{if(s.type===i.Action.ListZoomMeetingsForFile){const{payload:t,error:i}=s,r=t.arg&&t.arg.file_id;return i?Object.assign(Object.assign({},e),{[r]:n.rejected(i)}):Object.assign(Object.assign({},e),{[r]:n.pending})}if(s.type===i.Action.ListZoomMeetingsForFileResult){const{payload:t,error:i}=s,r=t.arg.file_id;if(i)return Object.assign(Object.assign({},e),{[r]:n.rejected(i)});if(!t.result)return Object.assign(Object.assign({},e),{[r]:n.rejected(Error("failed to get result from ListFileMembersResultAction payload"))});const o=t.result.zoom_meetings;return Object.assign(Object.assign({},e),{[r]:n.fulfilled(o)})}return e},instantZoomMeetingsBuffer:(e=t.DEFAULT_STATE.instantZoomMeetingsBuffer,s)=>{if(s.type===i.Action.CreateInstantZoomMeetingResult){const{payload:t,error:i}=s,n=s.payload.arg.file_id;if(!i&&t.result)return Object.assign(Object.assign({},e),{[n]:t.result})}return e},viewingInstantZoomMeetingId:(e=t.DEFAULT_STATE.viewingInstantZoomMeetingId,s)=>{if(s.type===r.Action.ViewMeetingDetail){const{payload:e}=s;return{[e.fileViewerId]:e.meetingId}}return e},serviceInfo:(e=t.DEFAULT_STATE.serviceInfo,s)=>{if(s.type===r.Action.ListServicesResult){const{payload:e}=s;for(const t of e.serviceInfo)if("zoom"===t.service_type[".tag"])return n.fulfilled(t);return n.rejected(Error("could find zoom's info in list_services response"))}return e},addingInviteeSuggestions:(e=t.DEFAULT_STATE.addingInviteeSuggestions,s)=>s.type===r.Action.UpdateAddingInviteeSuggestions?s.payload.suggestions:e,zoomSettings:(e=t.DEFAULT_STATE.zoomSettings,s)=>{if(s.type===a.Action.GetUserSettings)return n.pending;if(s.type===a.Action.GetUserSettingsResult){const{payload:e,error:t}=s;return t?n.rejected(t):e.result?e.result.zoom_settings?n.fulfilled(e.result.zoom_settings):n.rejected("Failed to get zoom settings from GetUserSettings payload."):n.rejected("Failed to get proper result from GetUserSettings payload.")}if(s.type===i.Action.UpdateZoomSettingsResult){const{payload:t,error:i}=s;if(!i&&t.result&&"success"===t.result.result[".tag"]&&t.result.updated_settings&&e&&"fulfilled"===e.state&&e.value.external_settings)return n.fulfilled(Object.assign(Object.assign({},e.value),{external_settings:Object.assign(Object.assign({},e.value.external_settings),{settings:t.result.updated_settings})}))}return e},updatePmiSettingRequest:(e=t.DEFAULT_STATE.updatePmiSettingRequest,s)=>{if(s.type===i.Action.UpdateZoomSettings)return n.pending;if(s.type===i.Action.UpdateZoomSettingsResult){const{payload:e,error:t}=s;if(t)return n.rejected(t);if(!e.result)return n.rejected("Failed to get proper result from UpdateZoomSettings payload.");if("success"!==e.result.result[".tag"])return n.rejected("Error while calling update_zoom_settings");if(e.result.updated_settings)return n.fulfilled(e.result.updated_settings)}return e}},t.reducer=s.combineReducers(t.reducers)}));
//# sourceMappingURL=reducer.amd.min.js-vfl_QXVO6.map