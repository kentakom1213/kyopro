define("modules/clean/loggers/device_type",["require","exports","tslib","modules/core/browser_detection"],(function(e,t,r,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceType=t.DeviceType=void 0,n=r.__importStar(n),(function(e){e.desktop="desktop",e.mobile="mobile",e.tablet="tablet"})(i=t.DeviceType||(t.DeviceType={})),t.getDeviceType=function(){return n.is_supported_mobile_browser()?i.mobile:n.is_tablet()?i.tablet:i.desktop}})),define("modules/clean/photos/batching_thumb_store",["require","exports","tslib","modules/clean/photos/thumb_loading/batching_thumb_loader","modules/clean/photos/thumb_loading/generic_thumb_store","modules/constants/request"],(function(e,t,r,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a=r.__importStar(a);t.default=function(e){const t=!(!e||!e.allow_http2)&&e.allow_http2,r=a.IS_HTTP2&&t,o=r?void 0:new n.BatchingThumbLoader;return new i.GenericThumbStore(o,!r)}})),define("modules/clean/photos/thumb_loading/batching_thumb_loader",["require","exports","modules/clean/photos/batch_thumb_loader","modules/clean/photos/thumb_loading/utils"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchingThumbLoader=void 0;t.BatchingThumbLoader=class{constructor(){this.batch_thumb_loader=new r.BatchThumbLoader({})}get_request_id(){return this.batch_thumb_loader.vend_request_id()}load_image(e,t,r,n,i,a){this.batch_thumb_loader.queue_thumb(e,this._thumb_loaded.bind(this,{url:e,request_id:t,success:n,error:i,should_retry:a}),{onrequest:r,request_id:t}),window.setTimeout(this.batch_thumb_loader.flush.bind(this.batch_thumb_loader,10))}_thumb_loaded({url:e,request_id:t,success:r,error:i,should_retry:a},o){o&&0===o.indexOf("data:")?r(o):n.load_individual_image(e,0,r,i,a)}cancel_thumb(e){this.batch_thumb_loader.cancel_thumb(e)}}})),define("modules/clean/react/takedown_warning",["require","exports","tslib","react","modules/constants/python","modules/core/i18n","dig-components/banner","dig-components/buttons"],(function(e,t,r,n,i,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TakedownWarning=void 0,n=r.__importDefault(n);class l extends n.default.Component{render(){const e=this.getTakedownWarningInfo(this.props.takedownType);return n.default.createElement(o.Banner,{type:"alert",withLeftIcon:!1},n.default.createElement(o.Banner.Message,null,e.message),n.default.createElement(o.Banner.Actions,null,n.default.createElement(s.Button,{variant:"transparent",href:e.href,target:e.anchorTarget,rel:"noreferrer"},e.buttonText)))}getTakedownWarningInfo(e){let t,r,n;switch(e){case i.TakedownRequestTypes.DMCA:t=a.intl.formatMessage({id:"vCy/Kw",defaultMessage:"Certain files in this folder canâ€™t be shared due to a takedown request in accordance with the DMCA."}),r="Learn more",n="/help/210";break;default:t=a.intl.formatMessage({id:"Acwg+D",defaultMessage:"Certain files in this folder are unavailable."}),r="Contact Dropbox support",n="/ticket"}return{message:t,buttonText:r,href:n,anchorTarget:"_top"}}}t.TakedownWarning=l,l.displayName="TakedownWarning"})),define("modules/clean/react/thumbnail",["require","exports","tslib","classnames","react","modules/clean/photos/batching_thumb_store","spectrum/file_icon/index","modules/constants/python","modules/core/uri","modules/clean/file_store/utils","modules/clean/react/files_view/constants","modules/clean/react/files_view/view_type"],(function(e,t,r,n,i,a,o,s,l,u,d,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbnailIcon=void 0,n=r.__importDefault(n),i=r.__importDefault(i),a=r.__importDefault(a);const c=d.ViewTypeThumbnailSizes[_.ViewType.LargeGrid],m=`${c}x${c}`,h=a.default();class b extends i.default.Component{constructor(e){super(e),this.bindingId=null,this.handleImageError=()=>{this.setState({src:null})},this.state=this.getStateForTemplateUrl(this.props.file.thumbnail_url_tmpl)}componentDidMount(){this.bindThumbStore()}UNSAFE_componentWillReceiveProps(e){const t=e.file.thumbnail_url_tmpl;t!==this.props.file.thumbnail_url_tmpl&&this.setState(this.getStateForTemplateUrl(t))}UNSAFE_componentWillUpdate(){this.unbindThumbStore()}componentDidUpdate(){this.bindThumbStore()}componentWillUnmount(){this.unbindThumbStore()}bindThumbStore(){if(!this.state.isLoading)return;if(this.bindingId)return;const{url:e}=this.state;e&&(this.bindingId=h.bind_url(e,{onSuccess:()=>{this.setState({isLoading:!1,src:h.get_thumb(e)})},onError:()=>{this.setState({isLoading:!1})}}))}unbindThumbStore(){this.bindingId&&(h.unbind_url(this.bindingId),this.bindingId=null)}getStateForTemplateUrl(e){let t=null;if(!e)return{isLoading:!1,src:null};const r=b.getThumbnailUrl(e);return r&&(t=h.get_thumb(r)),{isLoading:!!r&&!t,src:t,url:r}}static getThumbnailUrl(e){if(!e)return;const t=l.URI.parse(e);return t.updateQuery("size",m),t.updateQuery("size_mode",s.THUMBNAIL_SIZE_MODE.EXACT.toString()),t.toString()}render(){const{alt:e,file:t,iconSize:r,className:a}=this.props,{src:s}=this.state;let l;return s?(l=["icon","thumbnail-image--loaded",a],i.default.createElement("img",{alt:e,className:n.default(l),src:s,onError:this.handleImageError})):(l=["icon","thumbnail-image--failed",a],i.default.createElement(o.FileIcon,{className:n.default(l),path:u.getFilename(t),variant:r}))}}t.ThumbnailIcon=b,b.displayName="ThumbnailIcon"})),define("modules/clean/growth/experiments/logger",["require","exports","tslib","modules/clean/deprecated_ajax/ajax_jquery"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importStar(n);class i{static start_counter(e,t){return Array.from(i.breakpoint_times).map(r=>(r=>i.breakpoints[e+r]=setTimeout(()=>t(e,{time_since_first_view:r}),1e3*r))(r))}static stop_counter(e){return Array.from(i.breakpoint_times).map(t=>clearTimeout(i.breakpoints[e+t]))}}i.breakpoints={},i.breakpoint_times=[5,15,60,120,300],i.start_times={},i.DEFAULT_TIMER_NAME="view_time",i.get_timer_name=e=>null==e||"boolean"==typeof e?i.DEFAULT_TIMER_NAME:e,i.set_start_time=e=>{const t=i.get_timer_name(e);return i.start_times[t]=Date.now()},i.do_log_view_time=(e,t)=>{const r=i.get_timer_name(t);return e[r]=Math.round((Date.now()-i.start_times[r])/1e3)},i.log=(e,t,r,a=!1)=>{switch(r=r||{},e){case"onboarding":return a&&i.do_log_view_time(r,a),n.SilentBackgroundRequest({url:"/growth_onboarding_log",data:{evt:t,extra:JSON.stringify(r)}});case"onboarding_server_view_experiments":return a&&i.do_log_view_time(r,a),n.SilentBackgroundRequest({url:"/uj_server_view_experiments_log",data:{evt:t,extra:JSON.stringify(r)}});case"sharing":return i.do_log_view_time(r),n.SilentBackgroundRequest({url:"/growth_sharing_log",data:{evt:t,extra:JSON.stringify(r)}});case"post_client_install_tab":return a&&i.do_log_view_time(r,a),n.SilentBackgroundRequest({url:"/growth_post_client_install_tab_log",data:{evt:t,extra:JSON.stringify(r)}});case"secondary_client_link":return a&&i.do_log_view_time(r,a),n.SilentBackgroundRequest({url:"/secondary_client_link_upsell_log",data:{evt:t,extra:JSON.stringify(r)}});default:throw new Error("Invalid series name")}},t.default=i}));
//# sourceMappingURL=pkg-shared_link_folder.min.js-vfl34m4gY.map