define(["require","exports","tslib","react","classnames","prop-types","typescript/libraries/comments2/src/components/comment_editor/comment_utils","typescript/libraries/comments2/src/components/comment_editor/comment_editor","typescript/libraries/comments2/src/components/comment_editor/components/post_bar","typescript/libraries/comments2/src/components/sticker_component/sticker_component","typescript/libraries/comments2/src/components/comment_stream/comment_stream_post_bar"],(function(e,t,s,o,n,a,r,i,c,l,p){"use strict";function d(e,{localization:{intl:t}}){const{stickerPacks:n,signals:{postSticker:a}}=e;if(e.isEmpty&&n&&n.length>0)return o.createElement(p.InlineControls,null,o.createElement(l.StickerComponent,Object.assign({},{stickerPacks:n,onStickerSelected:a})));if(e.isEmpty)return null;const{disabled:r,postEnabled:i,postLabel:d,cancelLabel:m}=e,u=s.__rest(e,["disabled","postEnabled","postLabel","cancelLabel"]);return o.createElement(c.PostBar,Object.assign({},u,{postEnabled:i&&!r,postLabel:null!=d?d:t.formatMessage({id:"7Oex9C",defaultMessage:"Post"}),cancelLabel:null!=m?m:t.formatMessage({id:"xuJw2w",defaultMessage:"Cancel"})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ThreadEditor=t.ThreadEditorPostBar=void 0,o=s.__importStar(o),n=s.__importDefault(n),a=s.__importDefault(a),r=s.__importStar(r),t.ThreadEditorPostBar=d,d.contextTypes={localization:a.default.object};class m extends o.PureComponent{constructor(){super(...arguments),this.state={content:r.createEmptyContent()},this.clear=()=>{this.setState({content:r.createEmptyContent()})},this.onPost=(e,t)=>{this.props.disabled||(this.clear(),this.props.onPost(e,t))},this.onCancel=()=>{this.clear(),this.props.onCancel()},this.renderPostBar=e=>{const{postLabel:t,cancelLabel:s}=this.props;return o.createElement(d,Object.assign({},e,{disabled:this.props.disabled,postLabel:t,cancelLabel:s}))}}render(){const{intl:e}=this,{author:t,shouldFocus:s,mentionsMatches:a,onEditorStateChange:r,onMentionsQueryUpdated:c,onFocus:l=(()=>({})),onBlur:p=(()=>({})),stickerPacks:d,placeholder:m,mentionsDisabled:u}=this.props,{content:h}=this.state,b=n.default({"sc-thread-editor":!0});return o.createElement("div",{className:b},o.createElement(i.CommentEditor,{a11yEditorLabel:e.formatMessage({id:"1s2pn+",defaultMessage:"Reply"}),author:t,shouldFocus:s,content:h,mentionsMatches:a,onEditorStateChange:r,onMentionsQueryUpdated:c,onCancel:this.onCancel,onPost:this.onPost,placeholder:null!=m?m:e.formatMessage({id:"1s2pn+",defaultMessage:"Reply"}),postSignalComponent:this.renderPostBar,onFocus:l,onBlur:p,stickerPacks:d,mentionsDisabled:u}))}get intl(){return this.context.localization.intl}}t.ThreadEditor=m,m.contextTypes={localization:a.default.object},m.displayName="ThreadEditor"}));
//# sourceMappingURL=thread_editor.amd.min.js-vflNVqqMR.map