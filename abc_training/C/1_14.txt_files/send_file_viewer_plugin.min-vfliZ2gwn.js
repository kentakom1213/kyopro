define(["require","exports","tslib","react","modules/clean/file_store/utils","dig-components/icons/src","dig-components/icons","dig-components/menu","modules/clean/integrations/hellosign_deep_integration/launcher","modules/core/i18n"],(function(e,i,t,n,o,r,s,c,l,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.makeSendForSignatureLoader=i.getOverflowItem=i.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID=void 0,n=t.__importDefault(n),i.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID="SEND_FOR_SIGNATURE_ACTION",i.getOverflowItem=(e,i,u)=>{if(!l.HELLOSIGN_SUPPORTED_EXTENSIONS.includes("."+o.getExtension(e)))return;const _=e=>{u({action:`send_for_signature_${e}`,context:"preview_workflows_button"})},f=e=>{u({action:"send_for_signature_failure",context:"preview_workflows_button",reason:e})};return n.default.createElement(c.Menu.ActionItem,{key:"send-for-signature-action",withLeftAccessory:n.default.createElement(s.UIIcon,{src:r.SignatureLine}),withTitle:a.intl.formatMessage({id:"X1C5SI",defaultMessage:"Send for signature"}),onClick:()=>t.__awaiter(void 0,void 0,void 0,(function*(){if(_("click"),i)if(e&&o.isBrowseFile(e))try{const t=l.getLauncher();t.init({entryPoint:"file_preview_workflows_tab",file:e,user:i}),t.launch(),_("launched")}catch(e){f("launcher_error")}else f("invalid_file");else f("invalid_user")}))})},i.makeSendForSignatureLoader=(e,t)=>()=>Promise.resolve(class{constructor(i){this.lifecycle={previewDidRender:()=>{this.actionDefinitions=this.sendForSignatureDefinition(e())}},this.actionDefinitions=this.sendForSignatureDefinition(e()),this.context=i}sendForSignatureDefinition(e){return{categories:{workflows:[{overflowItem:i.getOverflowItem(e.file,t,e=>this.context.logUserAction(e))}]}}}})}));
//# sourceMappingURL=send_file_viewer_plugin.min.js-vflUOm13N.map