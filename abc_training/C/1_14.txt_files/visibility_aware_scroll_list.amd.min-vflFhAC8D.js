define(["require","exports","tslib","react","typescript/libraries/comments2/src/components/utils/scroll_list","typescript/libraries/comments2/src/components/utils/calc_visibility_data","typescript/libraries/comments2/src/components/utils/shallow_equals","typescript/libraries/comments2/src/components/utils/throttle-debounce"],(function(t,i,s,e,l,r,a,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.VisibilityAwareScrollList=void 0,e=s.__importStar(e);class c extends e.PureComponent{constructor(){super(...arguments),this.scrollListRef=null,this.lastVisibilityData=r.createEmptyVisibilityData(),this.renewVisibilityData=()=>{const{onVisibilityDataChange:t,trackedItems:i}=this.props,s=this.scrollListRef,e=r.calcVisibilityData(s,i);a.shallowEquals(e,this.lastVisibilityData)||t(e),this.lastVisibilityData=e},this.throttledRenewVisibilityData=o.throttle(this.renewVisibilityData,250)}componentDidMount(){this.renewVisibilityData()}componentDidUpdate(t){t.trackedItems!==this.props.trackedItems&&this.throttledRenewVisibilityData()}render(){const{className:t,children:i}=this.props;return e.createElement(l.ScrollList,{ref:t=>{this.scrollListRef=t&&t.listRef},className:t,onScroll:this.throttledRenewVisibilityData,onWindowResize:this.throttledRenewVisibilityData},i)}}i.VisibilityAwareScrollList=c,c.displayName="VisibilityAwareScrollList"}));
//# sourceMappingURL=visibility_aware_scroll_list.amd.min.js-vflGw0xvB.map