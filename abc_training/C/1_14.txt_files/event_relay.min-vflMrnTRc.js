define(["require","exports"],(function(e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleEventRelay=s.MessagePortEventRelay=s.WindowMessageEventRelay=void 0;s.WindowMessageEventRelay=class{constructor(e){this.eventHandler=e,this.bindToWindow()}dispose(){this.unbindFromWindow()}bindToWindow(){window.addEventListener("message",this.eventHandler)}unbindFromWindow(){window.removeEventListener("message",this.eventHandler)}};s.MessagePortEventRelay=class{constructor(){this.handlers=[],this.eventHandle=e=>this.handlePortOnMessage(e)}set port(e){this.unbindFromPort(),this._port=e,this.bindToPort()}registerHandler(e){this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(s=>s!==e)}dispose(){this.unbindFromPort()}bindToPort(){this._port&&(this._port.onmessage=this.eventHandle)}unbindFromPort(){this._port&&(this._port.onmessage=null)}handlePortOnMessage(e){this.handlers.forEach(s=>{s(e.data)})}};s.SimpleEventRelay=class{constructor(){this.handlers=[]}registerHandler(e){this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(s=>s!==e)}triggerHandlers(){this.handlers.forEach(e=>e())}}}));
//# sourceMappingURL=event_relay.min.js-vfl26KuFM.map