define(["require","exports","tslib","dig-components/modal","modules/clean/react/components/modal","react","modules/core/i18n","ts-key-enum","dig-components/typography","dig-components/buttons","dig-components/text_fields","dig-components/icons/src","dig-components/icons","modules/clean/file_actions/strings","modules/clean/react/action_bar/action_bar_strings"],(function(e,t,a,n,l,o,r,i,s,d,u,c,m,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showRenameFileModal=t.RenameFileModal=void 0,o=a.__importDefault(o),t.RenameFileModal=({currentName:e,onConfirm:t})=>{const a=o.default.useRef(null),[l,p]=o.default.useState(!0),[E,M]=o.default.useState(e);o.default.useEffect(()=>{window.requestAnimationFrame(()=>{if(!a.current)return;a.current.focus();const t=e;let n=t.lastIndexOf(".");n<0&&(n=t.length),a.current.setSelectionRange(0,n)})},[]);const _=()=>p(!1),y=e=>-1===e.indexOf("/"),R=y(E),h=()=>{t(E),_()};return o.default.createElement(o.default.Fragment,null,o.default.createElement(n.Modal,{open:l,isCentered:!0,onRequestClose:_},o.default.createElement(n.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},o.default.createElement(s.Title,null,r.intl.formatMessage(g.RENAME_ACTION_STRING))),o.default.createElement(n.Modal.Body,null,o.default.createElement("div",{style:{height:"80px"}},o.default.createElement(u.FormRow,null,o.default.createElement(u.TextInput,{ref:a,type:"text",id:"create-rename-modal-input",autoFocus:!0,value:E,isInvalid:!R,onChange:e=>{M(e.currentTarget.value),y(e.currentTarget.value)},"aria-describedby":"rename-modal-input-helper",onKeyDown:e=>{e.key===i.Key.Enter&&h()}}),!R&&o.default.createElement(u.FormHelperText,{id:"rename-modal-input-helper",isInvalid:!0},o.default.createElement(m.UIIcon,{src:c.WarningLine,size:"small"})," ",r.intl.formatMessage(f.renameErrorInvalidName))))),o.default.createElement(n.Modal.Footer,null,o.default.createElement(d.Button,{variant:"opacity",onClick:_},r.intl.formatMessage({id:"OHzWOE",defaultMessage:"Cancel"})),o.default.createElement(d.Button,{variant:"primary",disabled:!R,onClick:h},r.intl.formatMessage(g.RENAME_ACTION_STRING)))))},t.showRenameFileModal=function(e){l.Modal.showInstance(o.default.createElement(t.RenameFileModal,Object.assign({},e)))}}));
//# sourceMappingURL=rename_modal.min.js-vfljuH2wK.map