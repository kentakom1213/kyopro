define(["require","exports","tslib","react","classnames","typescript/libraries/comments2/src/components/sticker_component/sticker_pane","typescript/libraries/comments2/src/components/sticker_component/sticker_tab","spectrum/icon_arrow/index","typescript/libraries/comments2/src/components/sticker_component/sticker_contants"],(function(e,t,s,r,c,n,a,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stickers=void 0,r=s.__importStar(r),c=s.__importDefault(c);class l extends r.Component{constructor(e){super(e),this.scrollPaneRef=r.createRef(),this.onLeftArrowPress=()=>{this.setState({scrollOffset:Math.max(0,this.state.scrollOffset-o.SCROLL_DISTANCE)})},this.onRightArrowPress=()=>{this.setState({scrollOffset:Math.min(this.maxScroll,this.state.scrollOffset+o.SCROLL_DISTANCE)})},this.handleChangeSelection=e=>{e!==this.state.selected&&(this.setState({selected:e}),this.resetScrollPane())},this.state={maxScroll:1,scrollOffset:0,selected:0}}componentDidUpdate(){const e=this.maxScroll;e!==this.state.maxScroll&&this.setState({maxScroll:e})}get maxScroll(){const{stickerPacks:e}=this.props,{maxScroll:t,scrollOffset:s}=this.state,r=s<t,c=(s>0?o.STICKER_ARROW_WIDTH:0)+(r?o.STICKER_ARROW_WIDTH:0);return Math.max(e.length*o.STICKER_TAB_ITEM_WIDTH-o.STICKER_INNER_WIDTH+c,0)}resetScrollPane(){this.scrollPaneRef.current&&(this.scrollPaneRef.current.scrollTop=0)}renderLeftChevronButton(){return r.createElement("button",{"aria-hidden":"true",className:c.default("sc-sticker-arrow","sc-sticker-arrow-left",{"sc-sticker-arrow-hide":0===this.state.scrollOffset}),tabIndex:-1,onClick:this.onLeftArrowPress},r.createElement("div",{className:"sc-sticker-arrow-container"},r.createElement(i.IconArrow,{name:"right"})))}renderRightChevronButton(){const{scrollOffset:e,maxScroll:t}=this.state;return r.createElement("button",{"aria-hidden":"true",className:c.default("sc-sticker-arrow","sc-sticker-arrow-right",{"sc-sticker-arrow-hide":e===t}),tabIndex:-1,onClick:this.onRightArrowPress},r.createElement("div",{className:"sc-sticker-arrow-container"},r.createElement(i.IconArrow,{name:"right"})))}renderTabs(e){const{scrollOffset:t}=this.state,s=`translate(${-t}px)`;return r.createElement("div",{className:"sc-sticker-nav",role:"tablist"},this.renderLeftChevronButton(),r.createElement("div",{className:"sc-sticker-inner"},r.createElement("div",{className:"sc-sticker-inner-window",style:{transform:s}},e)),this.renderRightChevronButton())}render(){const{stickerPacks:e}=this.props,{selected:t}=this.state;if(e.length>0){const s=e.map((e,s)=>r.createElement(a.StickerTabComponent,{key:e.id,stickerPack:e,isSelected:s===t,onClick:()=>this.handleChangeSelection(s)})),c=e.map((e,s)=>r.createElement(n.StickerPaneComponent,{key:e.id,stickerPack:e,isSelected:s===t,onStickerSelected:this.props.onStickerSelected}));return r.createElement("div",{className:"sc-sticker-container",tabIndex:-1},this.renderTabs(s),r.createElement("div",{className:"sc-sticker-divider"}),r.createElement("div",{className:"sc-sticker-pane-scroll",ref:this.scrollPaneRef},c))}return null}}t.Stickers=l,l.displayName="Stickers"}));
//# sourceMappingURL=stickers.amd.min.js-vflE6xJcN.map