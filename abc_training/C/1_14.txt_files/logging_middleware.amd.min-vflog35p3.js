define(["require","exports","api_v2/redux/comments2","typescript/component_libraries/files_components/src/blades/comments/data/actions","typescript/component_libraries/files_components/src/blades/comments/data/transform"],(function(e,r,t,a,d){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.middleware=void 0;function o({event:e,stream:r,thread_id:a,comment_id:d,is_third_party:o,error:i}){return t.logEventAction({arg:{event:i?{".tag":"comment_error"}:e,stream:r,thread_id:a,comment_id:d,is_third_party:o,oref:"dfv",product_surface:{".tag":"file_preview"},product_surface_context:{".tag":"file_preview"},error_message:i?i.message:void 0}})}r.middleware=({dispatch:e})=>r=>i=>{const s=r(i);if(i.type===t.Action.AddCommentResult)e(o({event:i.payload.arg.thread_id?{".tag":"reply_to_comment"}:{".tag":"new_comment"},stream:i.payload.arg.stream,thread_id:i.payload.arg.thread_id,error:i.error}));else if(i.type===t.Action.MarkThreadReadResult)e(o({event:{".tag":"mark_thread_as_read"},stream:i.payload.arg.stream,thread_id:i.payload.arg.id,error:i.error}));else if(i.type===t.Action.MarkThreadUnreadResult)e(o({event:{".tag":"mark_thread_as_unread"},stream:i.payload.arg.stream,thread_id:i.payload.arg.id,error:i.error}));else if(i.type===t.Action.ResolveThreadResult)e(o({event:{".tag":"resolve_thread"},stream:i.payload.arg.stream,thread_id:i.payload.arg.id,error:i.error}));else if(i.type===t.Action.UnresolveThreadResult)e(o({event:{".tag":"unresolve_thread"},stream:i.payload.arg.stream,thread_id:i.payload.arg.id,error:i.error}));else if(i.type===t.Action.DeleteCommentResult)e(o({event:{".tag":"delete_comment"},stream:i.payload.arg.stream,thread_id:i.meta?i.meta.threadId:void 0,comment_id:i.payload.arg.id,error:i.error}));else if(i.type===t.Action.EditCommentResult)e(o({event:{".tag":"edit_comment"},stream:i.payload.arg.stream,thread_id:i.meta?i.meta.threadId:void 0,comment_id:i.payload.arg.id,error:i.error}));else if(i.type===a.Action.ActivateThread){const{fileId:r,isThirdParty:t,threadId:a}=i.payload,s=d.createStreamFromFileId(r);e(o({event:{".tag":"activate_thread"},stream:s,thread_id:a,is_third_party:t}))}return s}}));
//# sourceMappingURL=logging_middleware.amd.min.js-vfl2cnb1T.map