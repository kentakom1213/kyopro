define(["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment/annotation_label","typescript/libraries/comments2/src/components/comment/comment","typescript/libraries/comments2/src/components/annotation_utils","typescript/libraries/comments2/src/components/types/index","typescript/libraries/comments2/src/components/types/utils"],(function(t,e,o,n,i,r,a,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeCodedComment=e.calculateTimeCode=void 0,n=o.__importStar(n);function l(t){return(t<10?"0":"")+t}function m(t,e,o,n){let i;return i=t>0?`${t}:${l(e)}:${l(o)}`:`${e}:${l(o)}`,void 0!==n&&(i+=`:${l(n)}`),i}function f(t,e,o,n){let i=0;if(i=e||t/100,n&&o&&Math.round(100*o)%2997==0)return(function(t,e){const o=Math.round(100*e),n=Math.floor(t*o/100),i=2*o/2997,r=Math.floor(n/(36*o)),a=n%(36*o),c=Math.floor(a/(6*o)),s=a%(6*o);let l,f,u;if(0===s||1===s)l=0,f=0,u=s;else{const t=60*Math.ceil(e)-i;l=Math.floor((s-i)/t);const o=(s-i)%1798+i;f=Math.floor(o/Math.ceil(e)),u=o%Math.ceil(e)}return l=10*c+l,m(r,l,f,u)})(i,o);if(n&&o&&o!==Math.round(o)){const t=Math.floor(i*o),e=Math.round(o);return m(Math.floor(t/(3600*e)),Math.floor(t/(60*e))%60,Math.floor(t/e)%60,Math.floor(t%e))}{const t=Math.floor(i/3600),e=Math.floor(i/60)%60,r=Math.floor(i)%60;let a;if(n&&o){const t=i-Math.floor(i),e=1/o;a=Math.floor(t/e)}return m(t,e,r,a)}}e.calculateTimeCode=f,e.TimeCodedComment=function(t){let e;const{active:o,annotation:l,framePreciseCommentsEnabled:m,frameRate:u,playerIntegrationEnabled:d=!0}=t,{useV2Design:h}=n.useContext(c.CommentStreamContext);if(l&&s.isTimecodeAnnotation(l)){const{time:r}=l;if(0!==r){let c;a.isVideoAnnotation(l)&&(c=l.timeSec),e=n.createElement(i.AnnotationLabel,{disabled:!d,label:f(r,c,u,m),onClick:e=>t.actions.onClickAnnotation({annotationInfo:{type:"time",time:r},threadID:t.comment.threadId,e:e,active:o}),useV2Design:h})}}return n.createElement(r.Comment,Object.assign({},t),e)}}));
//# sourceMappingURL=time_coded_comment.amd.min.js-vflTM2uOA.map