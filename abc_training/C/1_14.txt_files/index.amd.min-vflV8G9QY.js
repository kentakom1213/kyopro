define(["require","exports","tslib","react","classnames","typescript/libraries/comments2/src/components/annotation_highlight/index","typescript/libraries/comments2/src/components/annotation_rectangle/index","typescript/libraries/comments2/src/components/annotation_conductor_layer/utilities"],(function(e,t,n,a,i,r,o,s){"use strict";function l(e,t,n,i,s){return e.map(({id:e,annotation:l})=>{const{type:g,regions:h}=c(l),m=e===n||e===s||e===i;switch(g){case"rectangle":return a.createElement(o.AnnotationRectangle,{key:e,rectangle:h[0],isEmphasized:m,useV2Design:t});case"highlight":return r.renderAnnotationHighlight({key:e,highlight:h,isEmphasized:m});case"other":return null}})}Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationViewLayer=void 0,a=n.__importStar(a),i=n.__importDefault(i);const c=e=>"image"===e.type?{type:"rectangle",regions:[e.region]}:{type:e.regionType,regions:e.regions};t.AnnotationViewLayer=function(e){const{threads:t,activatedThreadId:n,focusedThreadId:r,hoverThreadId:g,hideLayer:h,useV2Design:m,layerSize:d}=e,u=h?[]:[n,r,g],y=t.filter(e=>"rectangle"===c(e.annotation).type),p=t.filter(e=>"highlight"===c(e.annotation).type),_=l(y,!!m,...u),v=l(p,!!m,...u),f=l([...y,...p],!!m,...u);let b=void 0;if(m&&d){const e=y.filter(e=>e.id===n);if(e&&1===e.length){const t=c(e[0].annotation).regions[0];b=s.createPlacementFromNormalizedRegion(t,d.width,d.height)}}return a.createElement("div",{className:"sc-annotation-view-layer"},a.createElement("div",{className:i.default("sc-annotation-view-layer__regular-sublayer",{"sc-annotation-view-layer__hide-regular-sublayer":h})},a.createElement("div",{className:"sc-annotation-view-layer__regular-rectangle-sublayer"},_),a.createElement("div",{className:"sc-annotation-view-layer__regular-highlight-sublayer"},v)),a.createElement("div",{className:"sc-annotation-view-layer__emphasis-sublayer"},f),b&&a.createElement(o.AnnotationCutoutOverlay,{placement:b}))}}));
//# sourceMappingURL=index.amd.min.js-vflT-VQJ1.map