define(["require","exports","tslib","react","react-redux","api_v2/redux/zoom","typescript/libraries/file-viewer/src/css/zoom.css","typescript/libraries/file-viewer/src/plugins/index","typescript/libraries/file-viewer/src/zoom/selectors","typescript/libraries/file-viewer/src/zoom/actions","typescript/libraries/file-viewer/src/zoom/plugin/components/ZoomPaneIds"],(function(e,t,i,n,r,o,s,a,l,c,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedZoomCreateMeetingPane=t.ZoomCreateMeetingPane=void 0,n=i.__importStar(n),s=i.__importStar(s);const d=n.lazy(()=>new Promise((t,i)=>{e(["typescript/component_libraries/deep-integrations/src/zoom_extension/create_meeting_view"],t,i)}).then(i.__importStar).then(e=>({default:e.CreateMeetingView})));t.ZoomCreateMeetingPane=e=>{const{currentUser:t,dispatch:r,file:l,fileViewerId:m,intl:u,invitees:p,meetingCreationRequest:f,navigation:v}=e,C=i.__rest(e,["currentUser","dispatch","file","fileViewerId","intl","invitees","meetingCreationRequest","navigation"]),_={id:l.fileId,name:l.name,icon:"icon"};n.useEffect(()=>{if(f&&"fulfilled"===f.state){r(o.listZoomMeetingsForFileAction({arg:{file_id:_.id}})),r(c.resetMeetingCreationRequest({fileId:_.id})),r(c.viewMeetingDetail({fileViewerId:m,meetingId:f.value.meeting.uuid})),e.replacePane(g.ZoomMeetingDetailsPaneId);const t=f.value.meeting.start_url;t&&v.openUrl({url:t.client_url||t.http_url,fallbackUrl:t.http_url})}});const I=p&&t?n.createElement(d,Object.assign({},C,{currentUserDisplayName:t.name.display_name,file:_,meetingCreationRequest:f,invitees:p,intl:u,updatePmiSetting:()=>{v.openUrl({url:"https://www.zoom.com/profile/setting"}),v.closeSidebar(a.UserActionContext.Sidebar)},openConnectedAppSettings:()=>{v.openUrl({url:"/account/connected_apps"}),v.closeSidebar(a.UserActionContext.Sidebar)}})):null;return n.createElement("div",{className:s.zoomPaneContainer},n.createElement(a.PaneTitle,{backButtonMessages:g.getZoomBackButtonMessages(u)}),n.createElement(n.Suspense,{fallback:e.intl.formatMessage({id:"W/23CF",defaultMessage:"Loading..."})},n.createElement("div",{className:s.createZoomMeetingContainer},I)))};const m=r.connect((e,t)=>({invitees:l.getFileInviteesByFileId(e,t.file.fileId),currentUser:e.currentUser,meetingCreationRequest:l.getMeetingCreationRequestByFileId(e,t.file.fileId),isZoomConnected:l.isZoomConnected(e),addingInviteeSuggestions:e.addingInviteeSuggestions,zoomSettings:e.zoomSettings,updatePmiSettingRequest:e.updatePmiSettingRequest}),(e,t)=>({createMeeting:t=>e(o.createInstantZoomMeetingAction({arg:t})),connectZoom:()=>e(c.authService({serviceId:"zoom"})),openHelpCenterArticle:e=>t.navigation.openUrl({url:`https://help.dropbox.com/${e}`}),queryAddingInviteeSuggestions:t=>e(c.queryAddingInviteeSuggestions({query:t})),logEvent:t=>{e(c.logZoomEvent({event:t}))}}))(t.ZoomCreateMeetingPane);t.ConnectedZoomCreateMeetingPane=m}));
//# sourceMappingURL=ZoomCreateMeetingPane.amd.min.js-vflthF2Sq.map