define(["require","exports","tslib","typescript/component_libraries/files_components/src/blades/comments/component/comments_blade","typescript/component_libraries/files_components/src/blades/comments/component/context","typescript/component_libraries/files_components/src/blades/comments/component/hooks","typescript/component_libraries/files_components/src/blades/comments/component/pane","typescript/component_libraries/files_components/src/blades/comments/data/store","react","react-redux"],(function(e,t,n,o,a,l,s,i,m,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeBasicCommentsBladeWithStore=void 0,m=n.__importStar(m);const r={isInBladeRightRail:!0,showCommentsMeatball:!1,showApproval:!1},d=m.default.memo(({fileId:e,id:t,intl:n,onClickAnnotation:a,getAccountData:i,approvalIOClient:c})=>{const d=l.useCommentsComponent({fileId:e});return l.useListComments({fileId:e}),l.useResetThreads({fileId:e}),i?m.default.createElement(o.CommentsBlade,{id:t,intl:n,fileId:e,showApproval:!!c},m.default.createElement(s.CommentsBladePane,{commentsBladeId:t,intl:n,commentComponent:d,config:Object.assign(Object.assign({},r),{showApproval:!!c}),fileId:e,getAccountData:i,className:"base-comments-pane-blade",onClickAnnotation:a,approvalIOClient:c})):null});d.displayName="BasicCommentsBladePaneWrapper";const p=m.default.memo(({fileId:e,id:t,intl:n})=>(l.useListComments({fileId:e}),m.default.createElement(o.CollapsedCommentsBladeButton,{id:t,intl:n,fileId:e})));p.displayName="CollapsedBladeButton",t.makeBasicCommentsBladeWithStore=(e,t)=>{const n=i.makeStore(e),o=e.apiv2ClientBase.ns("users").rpc("get_current_account",void 0,{});return{Blade:m.default.memo(l=>{const{id:s}=l,i=m.useMemo(()=>({apiV2Client:e.apiv2ClientBase,commentBladeId:s}),[s]);return m.default.createElement(c.Provider,{store:n},m.default.createElement(a.BasicCommentsBladeContext.Provider,{value:i},m.default.createElement(d,Object.assign({},l,{getAccountData:o,approvalIOClient:t}))))}),CollapsedButton:m.default.memo(t=>{const{id:o,intl:l,fileId:s}=t,i=m.useMemo(()=>({apiV2Client:e.apiv2ClientBase,commentBladeId:o}),[o]);return m.default.createElement(c.Provider,{store:n},m.default.createElement(a.BasicCommentsBladeContext.Provider,{value:i},m.default.createElement(p,{id:o,intl:l,fileId:s})))})}}}));
//# sourceMappingURL=basic_comments_blade.amd.min.js-vflhUNPtc.map