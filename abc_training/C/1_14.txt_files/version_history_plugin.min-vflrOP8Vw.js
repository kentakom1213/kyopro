define(["require","exports","tslib","react","modules/core/i18n","dig-components/icons","dig-components/icons/src","modules/clean/react/action_bar/file_actions/portable/utils","modules/core/browser","modules/clean/react/action_bar/action_bar_strings","modules/clean/browse_interface","modules/clean/file_store/utils","modules/clean/cloud_docs/open_with_utils","modules/clean/cloud_docs/constants","modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","modules/clean/file_store/utils"],(function(e,i,o,t,s,n,l,r,c,a,_,d,u,f,I,m){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.makeVersionHistoryActionLoader=i.VERSION_HISTORY_ACTION_PLUGIN_ID=void 0,t=o.__importDefault(t),c=o.__importStar(c),i.VERSION_HISTORY_ACTION_PLUGIN_ID="VERSION_HISTORY_ACTION",i.makeVersionHistoryActionLoader=(e,i)=>()=>Promise.resolve(class{constructor(e){this.lifecycle={previewWillInitialize:()=>{this.actionDefinitions.alwaysInOverflow=[this.actionToDisplay()]}},this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]},this.context=e}actionToDisplay(){const{file:o}=e();return!i||!d.isBrowseFile(o)||m.isSharedFile(o)||u.isCloudBasedDoc(o)||f.isPointerByExtension(o.fq_path)||I.isPnmLinkNodeSelected(o)||!I.isLiveFile(o)?[]:[this.versionHistoryDefinition(o)]}versionHistoryDefinition(e){const o=_.getFileHistoryUrl({fqPath:e.fq_path,userId:i.id});return r.makePluginActionDefinition({label:s.intl.formatMessage(a.VERSION_HISTORY_ACTION_STRING),icon:t.default.createElement(n.UIIcon,{src:l.ClockLine}),action:()=>{this.context.logUserAction({action:"version_history",context:"title_bar_button"}),c.redirect(o)}})}})}));
//# sourceMappingURL=version_history_plugin.min.js-vflXG3nQV.map