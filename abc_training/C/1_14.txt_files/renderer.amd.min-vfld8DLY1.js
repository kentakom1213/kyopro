define(["require","exports","tslib","react","classnames","typescript/libraries/file-viewer/src/css/app.css","typescript/libraries/file-viewer/src/plugins/index","typescript/libraries/file-viewer/src/core/errors","typescript/libraries/file-viewer/src/core/i18n","typescript/libraries/file-viewer/src/core/utils/index"],(function(e,i,r,t,a,n,o,s,d,l){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PreviewRenderer=i.LoadingPlaceholder=i.PreviewError=i.FileViewer=void 0,t=r.__importStar(t),a=r.__importDefault(a),n=r.__importStar(n);class v extends t.PureComponent{constructor(){super(...arguments),this.state={windowWidth:0,windowHeight:0},this.handleResize=()=>{const{viewport:e}=this.props;e&&this.setState({windowWidth:e.clientWidth,windowHeight:e.clientHeight})}}componentDidMount(){this.handleResize(),this.props.__window&&this.props.__window.addEventListener("resize",this.handleResize)}componentWillUnmount(){this.props.__window&&this.props.__window.removeEventListener("resize",this.handleResize)}render(){const{children:e,className:i}=this.props,{windowWidth:r,windowHeight:o}=this.state;return t.createElement("div",{className:a.default(n.container,i),style:{width:r,height:o}},e({width:r,height:o}))}}i.FileViewer=v,v.defaultProps={intl:d.placeholderI18nFormatters,children:e=>null,__window:"undefined"!=typeof window?window:void 0,viewport:"undefined"!=typeof document?document.documentElement:void 0},v.displayName="FileViewer",i.PreviewError=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewError:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_error/index"],i,r)}).then(r.__importStar);return{default:i}}))),i.LoadingPlaceholder=()=>null,i.LoadingPlaceholder.displayName="LoadingPlaceholder";const c=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewImageContainer:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_image/container"],i,r)}).then(r.__importStar);return{default:i}}))),p=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewAudioVideo:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_audio_video/index"],i,r)}).then(r.__importStar);return{default:i}}))),w=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewDoc:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_doc/index"],i,r)}).then(r.__importStar);return{default:i}}))),u=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewCloudDoc:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_cloud_doc/index"],i,r)}).then(r.__importStar);return{default:i}}))),P=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewExcel:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_excel/index"],i,r)}).then(r.__importStar);return{default:i}}))),_=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewHTML:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_html/index"],i,r)}).then(r.__importStar);return{default:i}}))),f=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewArchive:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_archive/index"],i,r)}).then(r.__importStar);return{default:i}}))),m=t.lazy(()=>r.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewLinkfile:i}=yield new Promise((i,r)=>{e(["typescript/libraries/file-viewer/src/preview_linkfile/index"],i,r)}).then(r.__importStar);return{default:i}})));i.PreviewRenderer=e=>{var{data:a,filePreviewUiData:n,rivieraData:d,pluginProps:v}=e,h=r.__rest(e,["data","filePreviewUiData","rivieraData","pluginProps"]);const y=l.resolvePreviewType(h.previewMetadata);return t.createElement(t.Suspense,{fallback:t.createElement(i.LoadingPlaceholder,null)},(()=>{var e,r,a,l;switch(y){case o.PreviewType.Image:return t.createElement(c,Object.assign({},h,{data:void 0,filePreviewUiData:n,pluginProps:v}));case o.PreviewType.SsrDoc:case o.PreviewType.CloudDoc:return"cloud_doc"===(null===(r=null===(e=h.previewMetadata)||void 0===e?void 0:e.content)||void 0===r?void 0:r[".tag"])&&h.previewMetadata.content.exit_url?t.createElement(u,Object.assign({},h,{data:void 0,filePreviewUiData:n,rivieraData:void 0,pluginProps:v})):(null===(l=null===(a=h.fileMetadata)||void 0===a?void 0:a.file_name)||void 0===l?void 0:l.endsWith(".gsheet"))?t.createElement(_,Object.assign({},h,{data:void 0,filePreviewUiData:n,rivieraData:void 0,pluginProps:v,isRawHtml:!0})):t.createElement(w,Object.assign({},h,{data:void 0,filePreviewUiData:n,rivieraData:d,pluginProps:v}));case o.PreviewType.Video:case o.PreviewType.Audio:return t.createElement(p,Object.assign({},h,{data:void 0,filePreviewUiData:n,isAudio:y===o.PreviewType.Audio,rivieraData:d,pluginProps:v}));case o.PreviewType.Excel:if("excel1"===h.config.excel_support)return t.createElement(_,Object.assign({},h,{data:void 0,filePreviewUiData:n,rivieraData:void 0,pluginProps:v,isRawHtml:!1}));if("excel2"===h.config.excel_support)return t.createElement(P,Object.assign({},h,{data:void 0,filePreviewUiData:n,rivieraData:d,pluginProps:v}));break;case o.PreviewType.HTML:case o.PreviewType.RawHTML:if(h.config.html_support)return t.createElement(_,Object.assign({},h,{data:void 0,filePreviewUiData:n,rivieraData:void 0,pluginProps:v,isRawHtml:y===o.PreviewType.RawHTML}));break;case o.PreviewType.Archive:return t.createElement(f,Object.assign({},h,{data:void 0,filePreviewUiData:n,rivieraData:d,pluginProps:v}));case o.PreviewType.Linkfile:return t.createElement(m,Object.assign({},h,{data:void 0,filePreviewUiData:n,rivieraData:d,pluginProps:v}))}return t.createElement(i.PreviewError,Object.assign({error:new s.FVError(s.FVErrorCode.UnsupportedPreviewType),filePreviewUiData:n,data:void 0},h))})())},i.PreviewRenderer.displayName="PreviewRenderer",i.PreviewRenderer.displayName="PreviewRenderer"}));
//# sourceMappingURL=renderer.amd.min.js-vflFQja0M.map