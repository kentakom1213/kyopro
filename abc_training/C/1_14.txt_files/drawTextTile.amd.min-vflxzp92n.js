define(["require","exports","typescript/libraries/file-viewer/src/watermarking/plugin/utils/measureText","typescript/libraries/file-viewer/src/watermarking/plugin/utils/toRadAngle"],(function(t,e,a,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTextTile=void 0,e.drawTextTile=({text:t,size:e,fontFamily:r,color:s,opacity:n,angle:l})=>{const o=i.toRadAngle(l),h=document.createElement("canvas"),c=h.getContext("2d");if(!c)throw new Error("Cannot draw on canvas");const{width:d,height:u}=a.measureText(c,t,e,r);h.width=Math.abs(d*Math.cos(o))+Math.abs(u*Math.sin(o)),h.height=Math.abs(d*Math.sin(o))+Math.abs(u*Math.cos(o));let g="#000";"light"===s&&(g="#fff"),c.font=`${e}px ${r}`,c.globalAlpha=n,c.fillStyle=g,c.textBaseline="bottom";let M=0,f=h.height;l<90?M=u*Math.sin(o):l<180?(M=u*Math.sin(o)-d*Math.cos(o),f+=u*Math.cos(o)):l<270?(M=-d*Math.cos(o),f=0):f+=d*Math.sin(o),c.translate(M,f),c.rotate(-o),c.fillText(t,0,0);const{width:w,height:p}=a.measureText(c,t,e,r,!0);return{canvas:h,actualUnrotatedHeight:p,actualUnrotatedWidth:w}}}));
//# sourceMappingURL=drawTextTile.amd.min.js-vflGf3PZy.map