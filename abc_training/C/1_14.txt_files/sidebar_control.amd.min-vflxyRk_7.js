define(["require","exports","tslib","classnames","react","react-redux","typescript/libraries/file-viewer/src/plugins/index","typescript/libraries/file-viewer/src/css/modes/sidebar/control.css"],(function(e,t,a,n,r,s,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestOnlyCommentsSidebarControl=t.CommentsPluginSidebarControl=void 0,n=a.__importDefault(n),r=a.__importStar(r),o=a.__importStar(o);const l=e=>{const{areAnyThreadsUnread:t,disabled:a,platform:{intl:s},threadCount:l,ui:{isSidebarVisible:d}}=e,c=a?s.formatMessage({id:"UPO/6i",defaultMessage:"Comments are disabled on this file"}):s.formatMessage({id:"uFbQOk",defaultMessage:"Comments"}),m=s.formatMessage({id:"j0qRv4",defaultMessage:"Toggle Comments Sidebar"});return d||null==l||0===l?r.createElement(i.BasePluginSidebarControl,Object.assign({},e,{ariaLabel:m,iconId:"comments",label:c})):r.createElement(i.BasePluginSidebarControl,Object.assign({},e,{ariaLabel:m,className:n.default({[o.closedUnreadVariant]:t,[o.closedReadVariant]:!t,[o.plus]:l>99}),disabled:a,iconId:"comments",label:c}),r.createElement("div",{className:o.threadCount},Math.min(l,99)))};t.TestOnlyCommentsSidebarControl=l,l.displayName="UnconnectedCommentsPluginSidebarControl";const d=s.connect((function(e,t){const a={threadCount:0,areAnyThreadsUnread:!1},{file:n}=t.context.getPluginData();if(null==n)return a;const r=e.threads[n.fileId];if(null!=r)for(const e of Object.getOwnPropertyNames(r)){const t=r[e],n=t.comments.some(e=>!e.deleted);null==t.resolvedInfo&&n&&(++a.threadCount,a.areAnyThreadsUnread=a.areAnyThreadsUnread||!t.read)}return a}))(l);t.CommentsPluginSidebarControl=d}));
//# sourceMappingURL=sidebar_control.amd.min.js-vfldNQtC1.map