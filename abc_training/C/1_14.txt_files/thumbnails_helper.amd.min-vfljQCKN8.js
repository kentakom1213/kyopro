define(["require","exports","typescript/libraries/file-viewer/src/preview_audio_video/helper/image_helpers"],(function(e,t,r){"use strict";function n(e){const t={},r=e.text.split(/#xywh=/i);if(t.imageUrl=r[0],2===r.length){const e=r[1].split(/[ ,]+/);4===e.length&&(t.imageX=+e[0],t.imageY=+e[1],t.imageWidth=+e[2],t.imageHeight=+e[3])}return t}function i(e){return new Promise((t,r)=>{const n=[],i=new WebVTT.Parser(window,WebVTT.StringDecoder());i.oncue=function(e){n.push(e)},i.onparsingerror=function(e){r(e)},i.onflush=function(){t(n)},i.parse(e),i.flush()})}Object.defineProperty(t,"__esModule",{value:!0}),t.loadVtt=t.preloadThumbImage=t.parseVttCue=void 0,t.parseVttCue=n,t.preloadThumbImage=function(e){const t=n(e);return t.imageUrl?r.preloadImage(t.imageUrl):Promise.reject("Unable to get imageUrl from vtt cue")},t.loadVtt=function(e){return(t=e,new Promise((e,r)=>{const n=new XMLHttpRequest;n.withCredentials=!0,n.open("GET",t),n.onreadystatechange=()=>{n.readyState===XMLHttpRequest.DONE&&(200===n.status?e(n.responseText):r(new Error("Failed to retrieve vtt file")))},n.send()})).then(i);var t}}));
//# sourceMappingURL=thumbnails_helper.amd.min.js-vflLiUsr9.map