define(["require","exports","modules/clean/react/integrations/pdf_editor/document_message_bus/document_message_bus_factories","modules/clean/react/integrations/pdf_editor/redux/document_actions","modules/clean/react/integrations/pdf_editor/redux/features/application/application_slice","modules/clean/react/integrations/pdf_editor/redux/features/page_actions/page_actions_slice","modules/clean/react/integrations/pdf_editor/redux/features/thunks_across_multiple_slices","modules/clean/react/integrations/pdf_editor/redux/features/document_actions/document_actions_slice","modules/clean/react/integrations/pdf_editor/redux/features/sidebar_actions/sidebar_actions_slice","modules/clean/react/integrations/pdf_editor/redux/features/snackbar_actions/snackbar_actions_slice"],(function(e,t,a,s,n,r,i,o,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0;t.middleware=e=>{const t=a.createDocumentActionDispatcher(e);return({dispatch:e})=>(t.registerOnInitializedHandler(()=>{e(n.setApplicationInitialized(!0))}),t.registerOnReplyHandler(t=>{((e,t)=>{switch(t.kind){case"load_document_reply":e(r.setTotalPages(t.totalNumberOfPages)),e(n.setDocumentRendered(!0)),e(n.allowNewAction()),e(o.setFileDownloading(!1)),t.fileSizeInBytes&&e(o.setFileSizeInBytes(t.fileSizeInBytes));break;case"goto_document_page_reply":case"move_document_pages_reply":case"rotate_document_pages_reply":e(n.allowNewAction());break;case"remove_document_pages_reply":e(l.closeDeleteInProgressSnackbar()),e(l.openDeleteSuccessSnackbar()),e(r.setTotalPages(t.totalNumberOfPages)),t.fileSizeInBytes&&e(o.setFileSizeInBytes(t.fileSizeInBytes)),e(n.allowNewAction());break;case"insert_document_reply":e(l.closeInsertInProgressSnackbar()),e(l.openInsertSuccessSnackbar(t.totalNumberOfPages)),e(n.allowNewAction()),e(i.updateSidebarWithInsertPageReply(t.totalNumberOfPages)),t.fileSizeInBytes&&e(o.setFileSizeInBytes(t.fileSizeInBytes));break;case"extract_document_reply":e(o.saveDocumentWithExtractDocumentReply(t.documentData));break;case"create_document_page_thumbnail_reply":e(c.updateThumbnailWithCreateDocumentPageThumbnailReply(t));break;case"create_document_page_thumbnail_call_id_reply":e(c.setCallId(t));break;case"error_reply":e(l.closeDeleteInProgressSnackbar()),e(l.closeInsertInProgressSnackbar()),e(n.allowNewAction())}})(e,t),e(s.mapDocumentReplyToMessageBusReplyAction(t))}),e=>a=>{s.isMessageBusAction(a)?t.sendDocumentAction(s.mapMessageBusActionToDocumentAction(a)):e(a)})}}));
//# sourceMappingURL=document_proxy.min.js-vflOuKC9F.map