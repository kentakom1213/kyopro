define("prod_assets_web_modules/dig-components/breadcrumb",["exports","../tslib","../classnames","react","./icons","./typography","./hooks","./buttons","./menu","./icons/src","../focus-visible","../resize-observer-polyfill","./progress_indicators","../react-transition-group/CSSTransition","../common/extends","../common/Transition","react-dom","../common/_commonjsHelpers","./motion","./overlay","../@popperjs/core","./layer","./click_outside"],(function(e,r,n,a,t,i,o,s,l,c,d,u,v,g,m,f,h,p,b,_,w,E,D){"use strict";var k=a.createContext({size:"standard",inverse:!1,updateSegment:function(){}}),C=a.createContext(0),y={small:24,standard:32},B={small:18.875,standard:20.016},I="digBreadcrumbLink--hidden",N=function(e){return e.every((function(e){return!e.linkProps.children||0!==e.width}))},O=function(e){return e.current?e.current.getBoundingClientRect().width:0},L=function(e,r,n){var a=0;return N(e)?(e.forEach((function(e){a+=e.width})),0===a?0:(a+=(e.length-1)*B[n],r.length>0&&(a+=y[n]+B[n]),a)):0},R=function(e){var r=[];return a.Children.forEach(e,(function(e){a.isValidElement(e)&&r.push({item:e,width:0,linkProps:{}})})),r},S=function(e){var n=e.availableWidth,a=e.breadcrumbSegments,t=e.size,i=e.isRootOverflow,o=e.alwaysShowRoot,s=a,l=[],c=L(s,l,t);if(0===c)return{inline:[],overflow:[]};if(s.length>4){var d=i?0:1,u=r.__spreadArrays(s.slice(d,s.length-4+d));s=r.__spreadArrays(s.slice(0,d),s.slice(s.length-4+d)),l=l.concat(u),c=L(s,l,t)}for(;;)if(n>c){if(4===s.length||0===l.length)break;var v=l.length-1;1!==s.length||i||(v=0);var g=l[v];if(1===l.length){if(g.width>n-(c-y[t]))break}else if(g.width+B[t]>n-c)break;s=1===s.length||i?r.__spreadArrays([g],s):r.__spreadArrays(s.slice(0,1),[g],s.slice(1)),l=r.__spreadArrays(l.slice(0,v),l.slice(v+1)),c=L(s,l,t)}else{var m=!i&&o?2:1;if(s.length<=m)break;v=1,(2===s.length||i)&&(v=0),g=s[v],s=r.__spreadArrays(s.slice(0,v),s.slice(v+1)),l=0!==v||i?l.concat(g):[g].concat(l),c=L(s,l,t)}return{inline:s,overflow:l}},z=a.forwardRef((function(e,o){var s=e.id,l=e.className,c=e.children,d=e.withLeftIcon,u=e.withMenuItemIcon,v=e.isCurrentPath,g=void 0!==v&&v,m=e.href,f=e.onClick,h=e.onDrop,p=e.onDragEnter,b=e.onDragOver,_=e.onDragLeave,w=e._originalId,E=void 0===w?"":w,D=r.__rest(e,["id","className","children","withLeftIcon","withMenuItemIcon","isCurrentPath","href","onClick","onDrop","onDragEnter","onDragOver","onDragLeave","_originalId"]),y=a.useContext(k),B=y.size,N=y.updateSegment,L=y.inverse,R=a.useContext(C),S=g?"span":"a",z=g?void 0:0,M="standard"===B?i.Title:i.Text,P=a.useRef(null),T=D["aria-label"],x=a.useState(!1),H=x[0],A=x[1],W=n("dig-Breadcrumb-link",{"dig-Breadcrumb-link--current":g},{"dig-Breadcrumb-link--dragged-over":H&&!g},{"dig-Breadcrumb-link--inverse":L},l);a.useEffect((function(){s&&s.startsWith(I)&&N(R,{id:s,children:c,withLeftIcon:d,withMenuItemIcon:u,href:m,onClick:f,onDrop:h,onDragEnter:p,onDragOver:b,onDragLeave:_,"aria-label":T,_originalId:E},O(P))}),[s,c,d,u,m,f,h,p,b,_,R,N,P,T,E]);var U={onClick:f};if(!g)switch(typeof m){case"string":U.href=m;break;case"function":U.href="#",U.onClick=function(e){e.preventDefault(),m(e),f&&f(e)}}var j=a.useCallback((function(e){A(!0),b&&b(e)}),[b]),F=a.useCallback((function(e){A(!0),p&&p(e)}),[p]),V=a.useCallback((function(e){A(!1),_&&_(e)}),[_]),q=a.useCallback((function(e){A(!1),h&&h(e)}),[h]);return a.createElement(S,r.__assign(r.__assign(r.__assign({id:s,className:W,tabIndex:z,ref:o,"aria-current":g?"page":void 0},U),{onDrop:q,onDragEnter:F,onDragOver:j,onDragLeave:V}),D),a.createElement(M,{size:"small",className:"dig-Breadcrumb-link-content",color:g?"standard":"faint",inverse:L},a.createElement("span",{ref:P,className:"dig-Breadcrumb-link-inner"},d&&a.createElement(t.UIIcon,{className:"dig-Breadcrumb-link-icon",src:d,size:B}),a.createElement("span",{className:"dig-Breadcrumb-link-text"},c))))}));z.displayName="Link";var M=function(e){var r=e.className,t=a.useContext(k),o=t.size,s=t.inverse,l=n("dig-Breadcrumb-divider",r);return a.createElement(i.Text,{className:l,size:o,inverse:s,color:"faint","aria-hidden":"true"},"/")};M.displayName="BreadcrumbDivider";var P=function(e){var t=e.className,i=e.onDragOver,o=e.onDragEnter,s=e.onDragLeave,c=e.onDrop,d=r.__rest(e,["className","onDragOver","onDragEnter","onDragLeave","onDrop"]),u=a.useState(!1),v=u[0],g=u[1],m=n({"dig-Breadcrumb-overlfow-item--dragged-over":v},t),f=a.useCallback((function(e){g(!0),i&&i(e)}),[i]),h=a.useCallback((function(e){g(!0),o&&o(e)}),[o]),p=a.useCallback((function(e){g(!1),s&&s(e)}),[s]),b=a.useCallback((function(e){g(!1),c&&c(e)}),[c]);return a.createElement(l.Menu.ActionItem,r.__assign({tagName:"a",className:m,"aria-label":d["aria-label"],onDrop:b,onDragOver:f,onDragEnter:h,onDragLeave:p,role:"menuitem"},d))};P.displayName="BreadcrumbOverflowMenuItem";var T=function(e){var i=e.className,o=e.overflowItemsProps,d=e.overflowEventHandlers,u=r.__rest(e,["className","overflowItemsProps","overflowEventHandlers"]),v=a.useContext(k),g=v.size,m=v.inverse,f=n("dig-Breadcrumb-overflow",{"dig-Breadcrumb-overflow--inverse":m},i),h=a.useCallback((function(e,r){return d?{onDragOver:d.onDragOverTrigger?d.onDragOverTrigger(e):void 0,onDragEnter:d.onDragEnterTrigger?d.onDragEnterTrigger(e):void 0,onDragLeave:d.onDragLeaveTrigger?d.onDragLeaveTrigger(r):void 0}:{}}),[d]),p=a.useCallback((function(e,r){return d?{onDragOver:d.onDragOverContent?d.onDragOverContent(e):void 0,onDragEnter:d.onDragEnterContent?d.onDragEnterContent(e):void 0,onDragLeave:d.onDragLeaveContent?d.onDragLeaveContent(r):void 0}:{}}),[d]);return a.createElement(l.Menu.Wrapper,{className:f,onSelection:function(e,r){"function"==typeof e&&e(r)},inverse:m,shouldPropagateClickOutsideMouseEvents:!0},(function(e){var n=e.getContentProps,i=e.getTriggerProps,d=e.openMenu,v=e.closeMenu;return a.createElement(a.Fragment,null,a.createElement(s.IconButton,r.__assign(r.__assign(r.__assign({variant:"transparent",className:"dig-Breadcrumb-overflow-button","data-testid":"digBreadcrumbOverflowButton",size:"small",inverse:m},i()),h(d,v)),u),a.createElement(t.UIIcon,{src:c.MoreHorizontalLine,size:g})),a.createElement(l.Menu.Content,r.__assign(r.__assign({},n()),p(d,v)),a.createElement(l.Menu.Segment,null,o.map((function(e,r){var n=e.id,i=e.children,o=e.withMenuItemIcon,s=e.href,l=e.onClick,c=e.onDragOver,d=e.onDragEnter,u=e.onDragLeave,v=e.onDrop;return e&&a.createElement(P,{id:n,"aria-label":e["aria-label"],value:s,href:"string"==typeof s?s:void 0,onClick:l,onDragOver:c,onDragEnter:d,onDragLeave:u,onDrop:v,children:i,withLeftAccessory:o?a.createElement(t.UIIcon,{src:o}):void 0,key:"overflow-item-"+r})})))))}))};T.displayName="BreadcrumbOverflow";var x=function(e){var r=e.segments,n=e.isRootOverflow,t=e.overflowEventHandlers,i=[];if(r.inline.forEach((function(e,t){i.push(e.item),t!==r.inline.length-1&&(r.overflow.length>0&&!n&&0===t?i.push(a.createElement(M,{key:"divider-"+t,className:"dig-Breadcrumb-divider--overflowLeft"})):i.push(a.createElement(M,{key:"divider-"+t})))})),r.overflow.length>0){var o=2;(1===r.inline.length||n)&&(o=0),i.splice(o,0,a.createElement(M,{key:"divider--1",className:"dig-Breadcrumb-divider--overflowRight"})),i.splice(o,0,a.createElement(T,{overflowItemsProps:r.overflow.map((function(e){return e.linkProps})),overflowEventHandlers:t,key:"overflow"}))}return a.createElement(a.Fragment,null,i)};x.displayName="BreadcrumbRenderer";var H=a.forwardRef((function(e,t){var s=e.className,l=e.children,c=e.size,d=void 0===c?"standard":c,u=e.overflowEventHandlers,v=e.isRootOverflow,g=void 0!==v&&v,m=e.alwaysShowRoot,f=void 0!==m&&m,h=e.inverse,p=void 0!==h&&h,b=r.__rest(e,["className","children","size","overflowEventHandlers","isRootOverflow","alwaysShowRoot","inverse"]),_=o.useResizeObserver(),w=_.nodeRef,E=_.observerEntry,D=a.useState(!0),y=D[0],B=D[1],N=a.useState(!0),O=N[0],L=N[1],z=a.useState([]),M=z[0],P=z[1],T=a.useRef(null),H=n("dig-Breadcrumb",{"dig-Breadcrumb--small":"small"===d},{"dig-Breadcrumb--inverse":p},s),A={size:d,inverse:p,updateSegment:a.useCallback((function(e,n,a){P((function(t){return t.map((function(t,i){return i===e?r.__assign(r.__assign({},t),{width:Math.ceil(a),linkProps:r.__assign(r.__assign({},n),{id:n._originalId,_originalId:void 0})}):t}))}))}),[])},W="standard"===d?i.Title:i.Text;return a.useImperativeHandle(t,(function(){return e=T,{getBoundingClientRect:function(){return e.current?e.current.getBoundingClientRect():new DOMRect}};var e})),a.useEffect((function(){document.fonts?document.fonts.ready.then((function(){L(!1)})):L(!1)}),[]),a.useEffect((function(){B(!0)}),[l]),a.useEffect((function(){y&&(P(R(l)),B(!1))}),[l,y]),a.createElement(k.Provider,{value:A},!y&&a.createElement(W,{size:"small",className:"dig-Breadcrumb--widthCalcUtil","aria-hidden":"true"},a.Children.map(l,(function(e,r){if(a.isValidElement(e))return a.createElement(C.Provider,{value:r,key:"hidden-link-"+r},a.cloneElement(e,{id:I+"-"+r,_originalId:e.props.id}))}))),a.createElement("nav",r.__assign(r.__assign({className:H},b),{ref:w}),a.createElement("div",{className:"dig-Breadcrumb-inner",ref:T},!O&&a.createElement(x,{segments:S({availableWidth:E?E.contentRect.width:0,breadcrumbSegments:M,size:d,isRootOverflow:g,alwaysShowRoot:f}),isRootOverflow:g,overflowEventHandlers:u}))))}));H.Link=z,H.displayName="Breadcrumb",e.Breadcrumb=H,e.Link=z,e.buildBreadcrumb=S,e.calcBreadcrumbWidth=L,e.calcItemWidth=O,e.initSegments=R,e.isAllUpdated=N,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-dig-l.min.js-vfl5CWALJ.map