define(["require","exports","typescript/libraries/file-viewer/src/watermarking/plugin/utils/drawTextTile","typescript/libraries/file-viewer/src/watermarking/plugin/utils/drawImageTile","typescript/libraries/file-viewer/src/watermarking/plugin/utils/toRadAngle"],(function(t,e,i,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tilingFunc=void 0,e.tilingFunc=({scale:t,mode:e,imageWatermarkOptions:s,textWatermarkOptions:n})=>{let l=n;"image"===e&&(l=s);const{angle:o}=l,c=r.toRadAngle(o)%(Math.PI/2);let g,h,d;if("text"===e){const{text:e,size:a,fontFamily:r,color:s,opacity:l}=n,c=i.drawTextTile({text:e,size:a*t,fontFamily:r,color:s,opacity:l,angle:o});g=c.canvas,h=c.actualUnrotatedHeight,d=c.actualUnrotatedWidth}else{const{image:e,size:i,opacity:r}=s;if(!e)throw new Error("NO_TILE_INPUT");const n=a.drawImageTile({image:e,scale:i*t,opacity:r,angle:o});g=n.canvas,h=n.actualUnrotatedHeight,d=n.actualUnrotatedWidth}const u=Math.max(h,d);let p=u/2,w=u/2;"text"===e&&(p=2*h,w=n.lineHeight*h);const m=d+p,f=h+w;let y=0,x=0,M=0;return o%180==0?(y=m,x=f,M=p/-1.2):o%180==90?(y=f,x=m):o>0&&o<90||o>180&&o<270?(y=f/Math.sin(c),x=m*Math.sin(c),M=-m*Math.cos(c)):(o>90&&o<180||o>270&&o<360)&&(y=f/Math.cos(c),x=m*Math.cos(c),M=m*Math.sin(c)),{canvas:g,width:g.width,height:g.height,distanceX:y,distanceY:x,startX:-g.width/2,startY:-g.height/2,offsetXPerRow:M,offsetYPerCol:0}}}));
//# sourceMappingURL=tilingFunc.amd.min.js-vflGYIN43.map