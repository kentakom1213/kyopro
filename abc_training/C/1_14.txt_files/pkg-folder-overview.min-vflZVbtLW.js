define("typescript/libraries/comments2/src/l10n",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommentsStrings=void 0,t.getCommentsStrings=function(e){return{intl:e}}})),define("modules/clean/react/comments2/components/comments_translations",["require","exports","modules/core/i18n"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commentsMasterLocalization=void 0,t.commentsMasterLocalization={intl:r.intl}})),define("modules/clean/react/comments2/data/mentions_api",["require","exports","tslib","lodash","modules/clean/contacts/bloodhound_contacts_v2","modules/clean/contacts/data_v2","modules/clean/react/comments2/transforms"],(function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mentionsApi=t.MentionsApiImpl=void 0,n=r.__importStar(n);class a{constructor(e,t=!1){this.cache={},this.filterContact=e=>{const t=!!e.group_id,r=!this.allowMentionSelf&&e.email===this.user.email;return!(t||r)},this.updateCache=(e,t,r)=>{let n;const o=t.map(s.contactToIMentionUser);if(r){n=[...this.cache[e]||[],...o]}else n=o;return this.cache=Object.assign(Object.assign({},this.cache),{[e]:n}),this.cache},this.user=e,this.allowMentionSelf=t,this.dataSource=new i.ContactsDataSourceV2(e,this.filterContact)}query(e,t,r){this.dataSource.search(e,r=>{t(this.updateCache(e,r,!1))},n=>{(r||t)(this.updateCache(e,n,!0))})}getMatchesWithStarterSuggestions(){const e=o.BloodhoundContactsV2.getAll(this.user).filter(this.filterContact).map(s.contactToIMentionUser),t=n.sortBy(e.slice(0,50),e=>e.name||e.email);return this.cache=Object.assign(Object.assign({},this.cache),{"":t}),this.cache}}t.MentionsApiImpl=a,t.mentionsApi=function(e,t){return e?new a(e,t):{cache:{},query:()=>{},getMatchesWithStarterSuggestions:()=>({})}}})),define("modules/clean/react/comments2/transforms",["require","exports","tslib","modules/core/user_i18n"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contactToIMentionUser=t.sharingTextAndUsersToICommentContent=t.dbxUserToIUser=void 0,n=r.__importStar(n),t.dbxUserToIUser=function(e){return{id:e.account_id,name:{display:e.display_name,initials:n.getInitials(e.display_name),public:n.getShortName(e.display_name)},photoUrl:e.photo_circle_url}},t.sharingTextAndUsersToICommentContent=function(e,t){if(!t.length)return{metadata:[],text:e};const r=[],o=[];let i=0;for(const e of t){let t,s;"accountId"in e?(t=n.getShortName(e.displayName),s={type:"id",identifier:e.accountId}):(t=e.email,s={type:"email",identifier:e.email}),t&&(t="@"+t,r.push(t),o.push({location:{start:i,end:i+t.length},type:"mention",user:s}),i+=t.length+1)}return r.push(e),{text:r.join(" "),metadata:o}},t.contactToIMentionUser=function(e){return{id:e.dbx_account_id,email:e.email,name:{display:e.name,initials:n.getInitials(e.name),public:n.getShortName(e.name)},photoUrl:e.photo_url||e.avatar_url}}})),define("modules/clean/react/folder_overview/content_references",["require","exports","tslib","react-redux","react","typescript/component_libraries/retrieval-components/src/pinned-item/index","modules/clean/browse_uri_interface","modules/clean/react/browse/models","modules/clean/react/folder_overview/data/action_creators","modules/clean/react/folder_overview/data/selectors","modules/clean/react/folder_overview/logging","modules/clean/react/icon/file_folder_icon","modules/clean/react/icon/folder_icon","modules/clean/web_user_action_events","modules/core/browser","modules/core/i18n"],(function(e,t,r,n,o,i,s,a,c,l,u,p,d,m,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderOverviewContentReferences=t.FolderOverviewContentReferencesComponent=void 0,o=r.__importDefault(o),c=r.__importStar(c),l=r.__importStar(l),f=r.__importStar(f);const h={removeContentReferences:c.removeContentReferences};class y extends o.default.PureComponent{constructor(){super(...arguments),this.handlePinnedItemUnpin=e=>{const{folderFileId:t}=this.props;t&&this.props.removeContentReferences({folderFileId:t,fileIds:[e.file_id],componentNamespace:this.props.componentNamespace}),u.logFolderOverviewAction(m.WebUserActionLogEvent.FOLDER_OVERVIEW_UNPIN,this.props.user.id,e)},this.handlePinnedItemClick=e=>{u.logFolderOverviewAction(m.WebUserActionLogEvent.FOLDER_OVERVIEW_PIN_CLICK,this.props.user.id,e),void 0!==e.ns_id?this.props.onNavigateToFileOrFolder(e):f.redirect(s.href_for_file(this.props.user,e))}}render(){const{user:e,pinnedItems:t,isReadOnly:r}=this.props;return t&&t.length?o.default.createElement("div",{className:"folder-overview__content-references"},t.map(t=>{if(t.isDeleted||!t.fq_path)return null;let n={className:"folder-overview__content-reference",filename:a.File.getFilename(t),fqPath:t.fq_path,onClick:()=>this.handlePinnedItemClick(t),url:s.href_for_file(e,t),subtitle:a.File.getCategoryDescription(t)};if(r||(n=Object.assign(Object.assign({},n),{menuOptions:r?void 0:[{key:"unpin",label:g.intl.formatMessage({id:"LrpqA7",defaultMessage:"Unpin"})}],onMenuOptionClick:e=>{switch(e){case"unpin":this.handlePinnedItemUnpin(t)}},menuLabel:""})),t.is_dir)return o.default.createElement(i.PinnedItem,Object.assign({},n,{key:t.file_id,isFolder:!0,folderIcon:d.convertLegacyFolderIconToSpectrum(t.icon,"large")}));const c=Object.assign(Object.assign({},n),{thumbnailUrl:p.getThumbnailUrlForItem(t.thumbnail_url_tmpl,256)});return o.default.createElement(i.PinnedItem,Object.assign({key:t.file_id},c))})):null}}t.FolderOverviewContentReferencesComponent=y,y.displayName="FolderOverviewContentReferencesComponent";const v=n.connect(()=>{const e=l.makeFolderFileIdSelector(),t=l.makePinnedItemsSelector();return(r,n)=>({user:l.user(r),folderFileId:e(r,n),pinnedItems:t(r,n)})},h);t.FolderOverviewContentReferences=v(y)})),define("modules/clean/react/folder_overview/description",["require","exports","tslib","classnames","draft-js","lodash","react","react-redux","typescript/libraries/comments2/src/components/folder_overview_editor/index","typescript/libraries/comments2/src/components/folder_overview_utils/index","spectrum/icon_action/index","modules/clean/filepath/filepath","modules/clean/react/comments2/components/comments_translations","modules/clean/react/comments2/data/mentions_api","modules/clean/react/folder_overview/api","modules/clean/react/folder_overview/constants","modules/clean/react/folder_overview/data/action_creators","modules/clean/react/folder_overview/data/selectors","modules/clean/react/folder_overview/examples_modal","modules/clean/react/folder_overview/logging","modules/clean/react/folder_overview/placeholder","modules/clean/react/folder_overview/utils","modules/clean/react/snackbar","modules/clean/referrer_cleansing_redirect","modules/clean/sharing/browse_exports","modules/clean/web_user_action_events","modules/core/browser_detection","modules/core/exception","modules/core/i18n"],(function(e,t,r,n,o,i,s,a,c,l,u,p,d,m,f,g,h,y,v,b,_,S,C,E,w,x,T,k,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderOverviewDescription=t.FolderOverviewDescriptionComponent=void 0,n=r.__importDefault(n),i=r.__importStar(i),s=r.__importDefault(s),p=r.__importStar(p),f=r.__importStar(f),h=r.__importStar(h),y=r.__importStar(y),T=r.__importStar(T);const O={addLoadedComponent:h.addLoadedComponent,updateFolderData:h.updateFolderDataCache,saveDescriptionDraft:h.saveDescriptionDraft,setDescriptionHasFocus:h.setDescriptionHasFocus};class L extends s.default.PureComponent{constructor(e){super(e),this.linkPromptHasFocus=()=>!(!document.activeElement||"link-prompt-input"!==document.activeElement.className),this.immediatelySaveDescriptionDraft=()=>{this.delayedSaveDescriptionDraft.cancel(),this.throttledUpdateDescription.cancel(),this.handleDescriptionUpdated(),this.saveDescriptionDraft()},this.saveDescriptionDraft=()=>{const{hasUnsavedDraft:e,saveDescriptionDraft:t,folderFileId:r,componentNamespace:n,user:o,isInRightRail:i}=this.props;e&&(t({folderFileId:r,componentNamespace:n,isInRightRail:i}),b.logFolderOverviewAction(x.WebUserActionLogEvent.FOLDER_OVERVIEW_DESCRIPTION_SAVE,o.id,null,{action_surface:this.loggingActionSurface,retrieval_source:this.loggingRetrievalSource}))},this.handleBeforeUnload=e=>{this.immediatelySaveDescriptionDraft(),this.props.hasUnsavedDraft&&(e.preventDefault(),e.returnValue="")},this.handleDescriptionMention=e=>"email"===e.type&&e.identifier===this.props.user.email||"id"===e.type&&e.identifier===this.props.user.id.toString()?Promise.resolve({mentionedUserHasAccess:!0,shouldShowSharePopup:!1}):this.props.user.cdm_tmf_path&&p.paths_are_equal(this.props.user.cdm_tmf_path,this.props.path)?(C.Snackbar.fail(g.ERROR_SHARE_MEMBER_FOLDER,"folder-overview-mention"),Promise.resolve({mentionedUserHasAccess:!1,shouldShowSharePopup:!1})):f.getFolderAccess({userId:this.props.user.id,sharedFolderId:this.props.sharedFolderId,accountEmail:"email"===e.type?e.identifier:void 0,accountId:"id"===e.type?e.identifier:void 0}).then(e=>({mentionedUserHasAccess:e.has_access,shouldShowSharePopup:!e.has_access})).catch(e=>{const t=this.props.canShareFolder;return t||C.Snackbar.fail(g.ERROR_SHARE_NO_PERMISSION,"folder-overview-mention"),{mentionedUserHasAccess:!1,shouldShowSharePopup:t}}),this.handleDescriptionShare=(e,t,r,n)=>{w.asyncShowPrefilledShareModal({user:this.props.user,sharePrefillEmails:[e.identifier],content:{fqPath:this.props.sharedFolderPath,isFolder:!0},extras:{onSuccessSharing:()=>{this.handleDescriptionMention(e).then(({mentionedUserHasAccess:e})=>e&&n())},recipientMessage:this.generateShareMessage(t)}})},this.generateShareMessage=e=>this.props.sharedFolderPath&&!p.paths_are_equal(this.props.sharedFolderPath,this.props.path)?e&&e.length?M.intl.formatMessage(g.SHARING_MODAL_MESSAGE_PARENT_FOLDER,{user_name:e,folder_name:S.pathFromSharingFolder(this.props.sharedFolderPath,this.props.path)}):M.intl.formatMessage(g.SHARING_MODAL_MESSAGE_PARENT_FOLDER_NO_NAME,{folder_name:S.pathFromSharingFolder(this.props.sharedFolderPath,this.props.path)}):e&&e.length?M.intl.formatMessage(g.SHARING_MODAL_MESSAGE_SAME_FOLDER,{user_name:e}):g.SHARING_MODAL_MESSAGE_SAME_FOLDER_NO_NAME,this.stateFromProps=e=>{try{return{editorState:e.content?o.EditorState.createWithContent(o.convertFromRaw(e.content)):o.EditorState.createEmpty()}}catch(t){return k.reportException({err:t,tags:["folder-overview","browse"],severity:"user-error",exc_extra:{description:e.content}}),{editorState:o.EditorState.createEmpty()}}},this.handleDescriptionUpdated=()=>{let e=void 0;const t=o.convertToRaw(this.state.editorState.getCurrentContent()),r=l.isEmptyDescription(t);!this.props.content&&r||(e=t),this.props.updateFolderData({fileId:this.props.folderFileId,folderData:{descriptionDraft:e&&!r?JSON.stringify(e):""}}),this.delayedSaveDescriptionDraft()},this.handleEditorStateChange=e=>{if(this.props.isReadOnly)return;const t=e.getSelection().getHasFocus()||this.linkPromptHasFocus(),r=this.props.descriptionHasFocus,n=this.state.editorState.getCurrentContent()!==e.getCurrentContent();this.props.setDescriptionHasFocus({componentNamespace:this.props.componentNamespace,descriptionHasFocus:t,folderFileId:this.props.folderFileId}),this.setState({editorState:e}),!t&&r?this.immediatelySaveDescriptionDraft():n&&this.throttledUpdateDescription()},this.handleOpenLink=e=>{E.safe_open_tab_and_redirect(e)},this.handleMentionsQueryUpdated=e=>{this.mentionsApi&&(e.trim().length?this.mentionsApi.query(e,e=>{this.setState({mentionsQueryCache:this.fixNamesForMentionsQueryCache(e)})}):this.setState({mentionsQueryCache:this.fixNamesForMentionsQueryCache(this.mentionsApi.getMatchesWithStarterSuggestions())}))},this.fixNamesForMentionsQueryCache=e=>{const t={};return Object.keys(e).forEach(r=>{t[r]=e[r].map(e=>Object.assign(Object.assign({},e),{name:Object.assign(Object.assign({},e.name),{public:e.name.display||e.name.public})}))}),t},this.handleShare=(e,t,r)=>{const n=e.identifier;this.handleDescriptionShare(e,this.getNameFromMentionsCache(n),t,r)},this.getNameFromMentionsCache=e=>{const t=Object.keys(this.state.mentionsQueryCache);for(const r of t)for(const t of this.state.mentionsQueryCache[r])if(t.email===e)return t.name.display;return""},this.shouldShowPlaceholder=()=>{if(this.props.shouldHidePlaceholder)return!1;const{editorState:e}=this.state,t=e.getCurrentContent();return!t.hasText()&&"unstyled"===t.getFirstBlock().getType()&&!e.getSelection().getHasFocus()},this.setDraftRef=e=>{this.draftRef=e},this.handlePlaceholderContainerClick=e=>{e.preventDefault(),e.stopPropagation(),this.draftRef&&this.draftRef.focusEditor()},this.handleFolderExamplesButtonClick=e=>{e&&e.stopPropagation(),v.OverviewExamplesModal.show();const t="search-sidebar"===this.props.componentNamespace?x.RetrievalSourceValue.SEARCH:x.RetrievalSourceValue.BROWSE;b.logFolderOverviewAction(x.WebUserActionLogEvent.FOLDER_OVERVIEW_EXAMPLES_CLICK,this.props.user.id,null,{retrieval_source:t})},this.getToolbarScrollContainerEl=()=>this.props.limitedWidth?null:document.documentElement,this.handleTaskChecked=(e,t)=>{this.props.setDescriptionHasFocus({componentNamespace:this.props.componentNamespace,descriptionHasFocus:!0,folderFileId:this.props.folderFileId}),t&&b.logFolderOverviewAction(x.WebUserActionLogEvent.FOLDER_OVERVIEW_TASK_COMPLETED,this.props.user.id,null,b.makeOverviewResourceExtras({folderFileId:this.props.folderFileId,retrievalSource:this.loggingRetrievalSource,action_surface:this.loggingActionSurface,loggingFileId:this.props.loggingFileId})),this.immediatelySaveDescriptionDraft()},this.state=this.stateFromProps(e),this.delayedSaveDescriptionDraft=i.debounce(this.saveDescriptionDraft,g.DESCRIPTION_SAVE_DELAY_MS),this.throttledUpdateDescription=i.throttle(this.handleDescriptionUpdated,100),e.isReadOnly||(this.mentionsApi=m.mentionsApi(e.user,!0))}componentDidMount(){this.props.addLoadedComponent({componentNamespace:this.props.componentNamespace,component:"draftjs"}),window.addEventListener("beforeunload",this.handleBeforeUnload)}UNSAFE_componentWillReceiveProps(e){(!p.paths_are_equal(e.path,this.props.path)&&(e.folderFileId||e.folderNsId)||!this.props.folderNsId&&!this.props.folderFileId&&e.folderNsId)&&this.immediatelySaveDescriptionDraft(),e.descriptionKey===this.props.descriptionKey||this.state.editorState.getSelection().getHasFocus()||this.linkPromptHasFocus()||this.setState(this.stateFromProps(e)),this.mentionsApi||e.isReadOnly||(this.mentionsApi=m.mentionsApi(this.props.user))}componentWillUnmount(){window.removeEventListener("beforeunload",this.handleBeforeUnload),this.props.hasUnsavedDraft&&this.immediatelySaveDescriptionDraft()}get editorFeatures(){return{restylingWithFixedToolbar:!0,tasks:!0,mentions:!0}}get loggingRetrievalSource(){return"search-sidebar"===this.props.componentNamespace?x.RetrievalSourceValue.SEARCH:x.RetrievalSourceValue.BROWSE}get loggingActionSurface(){return"BROWSE"===this.props.componentNamespace?x.ActionSurfaceLogValue.CENTER_PANE:x.ActionSurfaceLogValue.RIGHT_SIDEBAR}render(){const{isReadOnly:e,showReadOnlyIcon:t,author:r,showExamplesInPlaceholder:o,isInRightRail:a,tooltipElement:l}=this.props,{editorState:p}=this.state,m=this.shouldShowPlaceholder(),f=d.commentsMasterLocalization;return s.default.createElement(s.default.Fragment,null,l,s.default.createElement("div",{className:"folder-overview__description-container"},e&&t&&s.default.createElement(u.IconAction,{name:"permissions",className:"folder-overview__inline-readonly-icon"}),s.default.createElement("div",{className:n.default({"folder-overview__description":!0,"folder-overview__placeholder":m,"folder-overview__fixed-toolbar":this.editorFeatures.restylingWithFixedToolbar}),onClick:m?this.handlePlaceholderContainerClick:i.noop},m&&s.default.createElement(_.FolderOverviewPlaceholder,{onExampleButtonClick:this.handleFolderExamplesButtonClick,showExamplesAsButton:!0,showExamples:!e&&o,isReadOnly:this.props.isReadOnly,isSpace:this.props.isSpace,isInRightRail:a}),s.default.createElement(c.FolderOverviewEditor,{author:r,features:this.editorFeatures,localization:f,editorState:p,readOnly:e,onEditorStateChange:this.handleEditorStateChange,onOpenLink:this.handleOpenLink,onMentionsQueryUpdated:this.handleMentionsQueryUpdated,enableEmailMention:!0,mentionShareFlowHandlers:{onMention:this.handleDescriptionMention,onShare:this.handleShare},mentionsMatches:this.state.mentionsQueryCache,shareableResourceName:this.props.sharedFolderName,toolbarButtonOnboarding:this.handleFolderExamplesButtonClick,setDraftRef:this.setDraftRef,getToolbarScrollContainerEl:this.getToolbarScrollContainerEl,limitedWidth:this.props.limitedWidth,toolbarHeightWithMargin:0,toolbarTopMargin:this.props.toolbarTopMargin,isMac:T.mac,hideAllToolbars:T.iOS||this.props.hideAllToolbars,onTaskChecked:this.handleTaskChecked}))))}}t.FolderOverviewDescriptionComponent=L,L.displayName="FolderOverviewDescriptionComponent";const P=a.connect(()=>{const e=y.makeSharedFolderPathSelector(),t=y.makeIsSpaceSelector(),r=y.makeFolderFileIdSelector(),n=y.makeFolderNsIdSelector(),o=y.makeSharedFolderIdSelector(),i=y.makeDescriptionContentSelector(),s=y.makeLoggingFileIdSelector(),a=y.makeDescriptionHasFocusSelector(),c=y.makeSharedFolderNameSelector(),l=y.makeHasUnsavedDescriptionDraftSelector();return(u,p)=>({user:y.user(u),author:y.descriptionAuthorSelector(u),folderFileId:r(u,p),folderNsId:n(u,p),sharedFolderId:o(u,p),sharedFolderPath:e(u,p),content:i(u,p),sharedFolderName:c(u,p),hasUnsavedDraft:l(u,p),descriptionHasFocus:a(u,p),loggingFileId:s(u,p),isSpace:t(u,p)})},O);t.FolderOverviewDescription=P(L)})),define("modules/clean/react/folder_overview/examples_modal",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/overview-examples/index","spectrum/modal/index","modules/clean/logging/hive/schemas/web-modal-activity","modules/clean/react/components/modal","modules/clean/web_modal_activity_logger","modules/core/i18n"],(function(e,t,r,n,o,i,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewExamplesModal=void 0,n=r.__importDefault(n),a=r.__importStar(a);const u={header:l.intl.formatMessage({id:"F7yotX",defaultMessage:"Overview examples to inspire you"}),examples:{"team-space":{title:l.intl.formatMessage({id:"O1Rhla",defaultMessage:"Team Space"}),subtitle:l.intl.formatMessage({id:"1G2/ot",defaultMessage:"A virtual gathering place for your team"})},"project-space":{title:l.intl.formatMessage({id:"VXM7Tc",defaultMessage:"Project Space"}),subtitle:l.intl.formatMessage({id:"3RMNFv",defaultMessage:"Coordinate project work in one place"})},"personal-space":{title:l.intl.formatMessage({id:"9GwZlG",defaultMessage:"Personal Space"}),subtitle:l.intl.formatMessage({id:"SqvHOe",defaultMessage:"A space for your own stuff"})}},teamSpace:{title:l.intl.formatMessage({id:"O1Rhla",defaultMessage:"Team Space"}),paragraph:n.default.createElement(n.default.Fragment,null,l.intl.formatMessage({id:"vyU6bP",defaultMessage:"Welcome to the team! Here’s who you should know. And read the <blue>project doc</blue> to get started."},{blue:e=>n.default.createElement(o.BlueText,null,e)})),header:l.intl.formatMessage({id:"IYiHJp",defaultMessage:"Team"}),lead:n.default.createElement(n.default.Fragment,null,l.intl.formatMessage({id:"UdPKgS",defaultMessage:"Lead: <blue>@angela</blue>"},{blue:e=>n.default.createElement(o.BlueText,null,e)})),design:n.default.createElement(n.default.Fragment,null,l.intl.formatMessage({id:"weIeek",defaultMessage:"Design: <blue>@bob</blue>"},{blue:e=>n.default.createElement(o.BlueText,null,e)})),eng:n.default.createElement(n.default.Fragment,null,l.intl.formatMessage({id:"n9Od3w",defaultMessage:"Eng: <blue>@rick</blue>, <blue>@karen</blue>, <blue>@mary</blue>"},{blue:e=>n.default.createElement(o.BlueText,null,e)})),maryTask:n.default.createElement(n.default.Fragment,null,l.intl.formatMessage({id:"cktSyi",defaultMessage:"<blue>@mary</blue>, add your photo to the directory! {emoji}"},{blue:e=>n.default.createElement(o.BlueText,null,e),emoji:n.default.createElement(n.default.Fragment,null,"📷")})),pinnedItems:[{title:l.intl.formatMessage({id:"S4kv4M",defaultMessage:"Directory"}),age:l.intl.formatMessage({id:"D3IxOv",defaultMessage:"Pinned 5 days ago"})},{title:l.intl.formatMessage({id:"TXLkCC",defaultMessage:"Meetings Notes"}),age:l.intl.formatMessage({id:"8Yy3df",defaultMessage:"Pinned 3 days ago"})}]},projectSpace:{title:l.intl.formatMessage({id:"VXM7Tc",defaultMessage:"Project Space"}),paragraph:l.intl.formatMessage({id:"yMtPEx",defaultMessage:"For our Sept 2019 issue, let’s try streamlining our process with the following two folders."}),sections:[{header:l.intl.formatMessage({id:"IqMdhu",defaultMessage:"Drafts"}),paragraph:l.intl.formatMessage({id:"ZBskvc",defaultMessage:"Everyone, put your drafts here. Create a subfolder with your name."})},{header:l.intl.formatMessage({id:"ZysizF",defaultMessage:"Final"}),paragraph:n.default.createElement(n.default.Fragment,null,l.intl.formatMessage({id:"AQ10W0",defaultMessage:"<blue>@angela</blue> put final version here once approved"},{blue:e=>n.default.createElement(o.BlueText,null,e)}))}],pinnedItems:[{title:l.intl.formatMessage({id:"3c3ixc",defaultMessage:"To retouch"}),age:l.intl.formatMessage({id:"D3IxOv",defaultMessage:"Pinned 5 days ago"})},{title:l.intl.formatMessage({id:"cdao0h",defaultMessage:"To reprint"}),age:l.intl.formatMessage({id:"8Yy3df",defaultMessage:"Pinned 3 days ago"})}]},personalSpace:{title:l.intl.formatMessage({id:"9GwZlG",defaultMessage:"Personal Space"}),paragraph:l.intl.formatMessage({id:"3qaRMB",defaultMessage:"Here are all the photos from our recent vacation to Hawaii, and a few to-do items to prep for the photo book!"}),header:l.intl.formatMessage({id:"0SFVaR",defaultMessage:"Stuff to do:"}),tasks:[l.intl.formatMessage({id:"LViFNI",defaultMessage:"Split into folders for each island"}),l.intl.formatMessage({id:"1/F8qd",defaultMessage:"Ask Jessica about retouching issues"})],pinnedItems:[{title:l.intl.formatMessage({id:"3c3ixc",defaultMessage:"To retouch"}),age:l.intl.formatMessage({id:"D3IxOv",defaultMessage:"Pinned 5 days ago"})},{title:l.intl.formatMessage({id:"cdao0h",defaultMessage:"To reprint"}),age:l.intl.formatMessage({id:"8Yy3df",defaultMessage:"Pinned 3 days ago"})}]}};class p extends n.default.PureComponent{constructor(){super({}),this.handleRequestClose=()=>{this.logger.log(s.ModalEventName.CLOSE),this.setState({isOpen:!1})},this.state={isOpen:!0}}componentDidMount(){this.logger=new c.WebModalActivityLogger(s.ModalName.FOLDER_OVERVIEW_EXAMPLES),this.logger.log(s.ModalEventName.SHOW)}render(){return n.default.createElement(i.Modal,{width:820,open:this.state.isOpen,ariaLabel:l.intl.formatMessage({id:"xK+xtZ",defaultMessage:"Folder Overview examples"}),onRequestClose:this.handleRequestClose,appElement:document.getElementById("embedded-app"),shouldFocusAfterRender:!0,displayCloseButton:!0,className:"fo-ex__modal"},n.default.createElement(o.OverviewExamples,{frameStyle:"web",strings:u}))}static show(){a.Modal.showInstance(n.default.createElement(p,null))}}t.OverviewExamplesModal=p,p.displayName="OverviewExamplesModal"})),define("modules/clean/react/folder_overview/last_edit",["require","exports","tslib","react-redux","react","typescript/component_libraries/spaces-components/src/last_edit/index","modules/clean/datetime/datetime","modules/clean/react/components/css","modules/clean/react/folder_overview/constants","modules/clean/react/folder_overview/data/action_creators","modules/clean/react/folder_overview/data/selectors","modules/clean/react/folder_overview/data/types","modules/clean/react/folder_overview/utils","modules/core/i18n"],(function(e,t,r,n,o,i,s,a,c,l,u,p,d,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderOverviewLastEdit=t.FolderOverviewLastEditComponent=void 0,o=r.__importDefault(o),l=r.__importStar(l),u=r.__importStar(u);const f={reloadDescription:l.reloadDescription};class g extends o.default.PureComponent{constructor(e){super(e),this.stateFromProps=(e=this.props)=>({message:this.createMessage(e),conflictPopup:this.createConflictPopup(e)}),this.onTimeout=()=>{this.setState(this.stateFromProps()),this.updateTimer=setTimeout(this.onTimeout,3e4)},this.createMessage=e=>{if(!e.lastModifiedTime||e.isFolderOverviewEmpty&&e.isInRightRail)return"";const t=s.ago(1e3*e.lastModifiedTime,!1);return e.isFolderOverviewEmpty?e.lastModifiedUserId===e.user.account_id?m.intl.formatMessage(c.DESCRIPTION_LAST_EDIT_EMPTY_YOU,{time_ago:t}):e.lastModifiedUser?m.intl.formatMessage(c.DESCRIPTION_LAST_EDIT_EMPTY,{time_ago:t,name:e.lastModifiedUser.name.display_name}):"":e.lastModifiedUserId===e.user.account_id?m.intl.formatMessage(c.DESCRIPTION_LAST_EDIT_YOU,{time_ago:t}):e.lastModifiedUser?m.intl.formatMessage(c.DESCRIPTION_LAST_EDIT,{time_ago:t,name:e.lastModifiedUser.name.display_name}):""},this.handleLastEditDismiss=()=>{this.props.reloadDescription({folderFileId:this.props.folderFileId,componentNamespace:this.props.componentNamespace})},this.createConflictPopup=e=>{if(e.descriptionSaveState===p.DescriptionSaveState.CONFLICT){if(e.lastModifiedUserId===e.user.account_id)return{title:c.CONFLICT_POPUP_TITLE_YOU,message:c.CONFLICT_POPUP_CONTENT_YOU,dismissButtonLabel:c.CONFLICT_POPUP_BUTTON,onDismissHandler:this.handleLastEditDismiss,userInitials:d.userInitials(e.user),userPhotoUrl:e.user.photo_url};if(e.lastModifiedUser)return{title:m.intl.formatMessage(c.CONFLICT_POPUP_TITLE,{user:e.lastModifiedUser.name.display_name}),message:c.CONFLICT_POPUP_CONTENT,dismissButtonLabel:c.CONFLICT_POPUP_BUTTON,onDismissHandler:this.handleLastEditDismiss,userInitials:d.userInitials(e.lastModifiedUser),userPhotoUrl:e.lastModifiedUser.profile_photo_url}}},this.state=this.stateFromProps(e)}componentDidMount(){this.updateTimer=setTimeout(this.onTimeout,3e4)}componentWillUnmount(){clearTimeout(this.updateTimer)}UNSAFE_componentWillReceiveProps(e){this.setState(this.stateFromProps(e))}render(){return!this.state.message||this.props.isInRightRail&&this.props.descriptionHasFocus?null:o.default.createElement(i.LastEditComponent,{lastEditMessage:this.state.message,conflictPopup:this.state.conflictPopup,isEditorFocused:this.props.descriptionHasFocus,userEditingMessage:c.FOLDER_OVERVIEW_EDITOR_EDITING})}}t.FolderOverviewLastEditComponent=g,g.displayName="FolderOverviewLastEditComponent";const h=n.connect(()=>{const e=u.makeFolderFileIdSelector(),t=u.makeLastModifiedTimeSelector(),r=u.makeLastModifiedUserSelector(),n=u.makeLastModifiedUserIdSelector(),o=u.makeDescriptionSaveStateSelector(),i=u.makeIsFolderOverviewEmptySelector(),s=u.makeDescriptionHasFocusSelector();return(a,c)=>({user:u.user(a),folderFileId:e(a,c),lastModifiedTime:t(a,c),lastModifiedUser:r(a,c),lastModifiedUserId:n(a,c),descriptionSaveState:o(a,c),isFolderOverviewEmpty:i(a,c),descriptionHasFocus:s(a,c)})},f);t.FolderOverviewLastEdit=h(a.requireCssWithComponent(g,["/static/js/typescript/component_libraries/spaces-components/src/index-vflqS-4WW.css"]))})),define("modules/clean/react/folder_overview/pin_to_modal",["require","exports","tslib","react","spectrum/modal/index","typescript/component_libraries/retrieval-components/src/folder-list/index","modules/clean/filepath/filepath","modules/clean/logging/hive/schemas/web-modal-activity","modules/clean/react/folder_overview/constants","modules/clean/react/components/modal","modules/clean/ux_analytics_modal_tracking","modules/clean/ux_analytics/utils","modules/clean/viewer","modules/clean/web_modal_activity_logger","modules/core/i18n"],(function(e,t,r,n,o,i,s,a,c,l,u,p,d,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderOverviewPinToModal=void 0,n=r.__importDefault(n),s=r.__importStar(s),l=r.__importStar(l);class g extends n.default.PureComponent{constructor(e){super(e),this.makeFoldersFromProps=(e=this.props)=>{const t=s.normalize(e.path).split("/"),r=[];let n="";return t.forEach(t=>{n=s.normalize(`${n}/${t}`),r.push({path:n,name:s.paths_are_equal("/",t)?s.filename("",d.Viewer.get_root_name(e.user)):t,icon:e.user.is_cdm_member&&s.paths_are_equal(n,e.user.cdm_tmf_path)?"folder_team_member-small":"folder-small",isClickable:!e.isCurrentPathReadOnly||!s.paths_are_equal(n,e.path),hasSubfolders:!1,subtitle:s.paths_are_equal(n,e.path)?f.intl.formatMessage({id:"y4e6b/",defaultMessage:"This folder"}):void 0})}),r.reverse(),r},this.close=()=>{this.setState({isOpen:!1}),p.dispatchModalClosed()},this.handleSuccess=()=>{this.logger.log(a.ModalEventName.SUCCESS),this.props.onFolderSelected(this.state.selectedPath),this.close()},this.handleCancel=()=>{this.close()},this.handleReady=()=>{this.logger.log(a.ModalEventName.READY),p.dispatchModalOpened()},this.handleRequestClose=()=>{this.logger.log(a.ModalEventName.CLOSE),this.close()},this.handlePrimaryButtonClick=e=>{this.logger.log(a.ModalEventName.PRIMARY_CLICK,{path:e})},this.handleSecondaryButtonClick=()=>{this.logger.log(a.ModalEventName.SECONDARY_CLICK)},this.handleFolderSelected=e=>{this.setState({selectedPath:e})},this.handlePrimaryAction=()=>{this.handlePrimaryButtonClick(),this.handleSuccess()},this.handleSecondaryAction=()=>{this.handleSecondaryButtonClick(),this.handleCancel()},this.state={isOpen:!0,selectedPath:s.normalize(e.isCurrentPathReadOnly?s.parent_dir(e.path):e.path),folders:this.makeFoldersFromProps(e)}}componentDidMount(){this.logger=new m.WebModalActivityLogger(a.ModalName.FOLDER_OVERVIEW_PIN_TO),this.logger.log(a.ModalEventName.SHOW)}get title(){return 1===this.props.files.length?f.intl.formatMessage(c.PIN_TO_MODAL_TITLE_SINGLE,{name:s.filename(this.props.files[0].fq_path)}):f.intl.formatMessage(c.PIN_TO_MODAL_TITLE_MULTIPLE,{num:this.props.files.length})}render(){return n.default.createElement(o.UtilityModal,{className:"folder-overview__pin-to-modal",onReady:this.handleReady,primaryAction:f.intl.formatMessage({id:"nJGEFH",defaultMessage:"Pin"}),secondaryAction:f.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"}),onPrimaryAction:this.handlePrimaryAction,onSecondaryAction:this.handleSecondaryAction,title:this.title,ariaLabel:this.title,open:this.state.isOpen,onRequestClose:this.handleRequestClose,appElement:document.getElementById("embedded-app"),shouldRequestCloseOnActions:!1,bodyId:"folder-overview-pin-to-modal",shouldFocusAfterRender:!0},n.default.createElement(i.FolderList,{folders:this.state.folders,onFolderSelected:this.handleFolderSelected,selectedPath:this.state.selectedPath}),n.default.createElement(u.UXAnalyticsModalTracking,{id:"folder-overview-pin-to"}))}static show(e){l.Modal.showInstance(n.default.createElement(g,Object.assign({},e)))}}t.FolderOverviewPinToModal=g,g.displayName="FolderOverviewPinToModal"})),define("typescript/component_libraries/retrieval-components/src/folder-list/index",["require","exports","tslib","react","classnames","spectrum/media_table/index","spectrum/table/index","spectrum/icon_content/index","spectrum/icon_arrow/index","typescript/component_libraries/retrieval-components/src/truncated-string/index"],(function(e,t,r,n,o,i,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderListRow=t.FolderList=void 0,n=r.__importDefault(n),o=r.__importDefault(o);class u extends n.default.PureComponent{constructor(e){super(e),this.handleSelect=e=>{this.props.onFolderSelected(e.path)},this.handleHover=e=>{this.setState({focusedPath:e.path})},this.state={}}render(){const e=this.props,{folders:t,selectedPath:o,onFolderSelected:i,ref:a,contentOverride:c,header:l}=e,u=r.__rest(e,["folders","selectedPath","onFolderSelected","ref","contentOverride","header"]);return n.default.createElement(s.Table,Object.assign({columnFlex:["1 1","0 0 64px"],"aria-rowcount":t.length,"aria-colcount":1},u),l,n.default.createElement(s.TableBody,{className:"rc-folder-list"},c||t.map((e,t)=>n.default.createElement(p,{key:t,folder:e,index:t,onFolderSelect:this.handleSelect,onHover:this.handleHover,isSelected:e.path===o,isFocused:e.path===this.state.focusedPath,autoFocus:e.path===o}))))}}t.FolderList=u,u.displayName="FolderList";class p extends n.default.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onFolderSelect(this.props.folder,this.props.index)},this.handleMouseOver=()=>{this.props.onHover(this.props.folder,this.props.index)},this.handleFocus=()=>{this.props.onHover(this.props.folder,this.props.index)},this.handleKeyDown=e=>{switch(e.keyCode){case 13:this.props.onFolderSelect(this.props.folder,this.props.index)}}}get rowProps(){const e=this.props,{folder:t,isSelected:n,isFocused:i,index:s,onFolderSelect:a,onHover:c}=e,l=r.__rest(e,["folder","isSelected","isFocused","index","onFolderSelect","onHover"]);let u=Object.assign(Object.assign({},l),{className:o.default({"rc-folder-list__row":!0,"rc-folder-list__row--read-only":!t.isClickable,"rc-folder-list__row--focused":i,"rc-folder-list__row--selected":n}),variant:n?"selected":"default",role:"row",doubleLine:!!t.subtitle});return t.isClickable&&(u=Object.assign(Object.assign({},u),{onClick:this.handleClick,onMouseOver:this.handleMouseOver,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,tabIndex:0})),u}render(){const{folder:e}=this.props,t=this.rowProps,{ref:o}=t,s=r.__rest(t,["ref"]);return n.default.createElement(i.MediaRow,Object.assign({},s),n.default.createElement(i.MediaCell,{key:e.path,icon:n.default.createElement(a.IconContent,{name:e.icon,disabled:!e.isClickable}),title:n.default.createElement(l.TruncatedString,{text:e.name,variant:l.TruncatedStringVariant.TRUNCATED_STRING_END}),subtitle:e.subtitle}),n.default.createElement(i.MediaCell,{key:"has_subdirs",icon:e.hasSubfolders&&e.isClickable?n.default.createElement(c.IconArrow,{name:"right"}):void 0}))}}t.FolderListRow=p,p.displayName="FolderListRow"})),define("typescript/component_libraries/retrieval-components/src/overview-examples/index",["require","exports","tslib","classnames","react","typescript/component_libraries/retrieval-components/src/overview-examples/personal_space","typescript/component_libraries/retrieval-components/src/overview-examples/project_space","typescript/component_libraries/retrieval-components/src/overview-examples/team_space","typescript/component_libraries/retrieval-components/src/overview-examples/icons","typescript/component_libraries/retrieval-components/src/overview-examples/selector","typescript/component_libraries/retrieval-components/src/overview-examples/components"],(function(e,t,r,n,o,i,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlueText=t.OverviewExamples=void 0,n=r.__importDefault(n);const p=[{id:"team-space",icon:(o=r.__importDefault(o)).default.createElement(c.IconTeam,null)},{id:"project-space",icon:o.default.createElement(c.IconProject,null)},{id:"personal-space",icon:o.default.createElement(c.IconPersonal,null)}];class d extends o.default.PureComponent{constructor(e){super(e),this.handleSetExample=e=>{this.setState({example:e})},this.state={example:e.initialExample||"team-space"}}render(){return o.default.createElement("div",{className:"fo-ex__split-view-container"},o.default.createElement("div",{className:"fo-ex__split-view"},o.default.createElement(l.ExampleSelector,{header:this.props.strings.header,activeItem:this.state.example,items:p,strings:this.props.strings.examples,onItemClick:this.handleSetExample})),o.default.createElement("div",{className:n.default(["fo-ex__split-view",`fo-ex__split-view--${this.state.example}`])},"team-space"===this.state.example&&o.default.createElement(a.TeamSpaceExample,{strings:this.props.strings.teamSpace,frameStyle:this.props.frameStyle}),"project-space"===this.state.example&&o.default.createElement(s.ProjectSpaceExample,{strings:this.props.strings.projectSpace,frameStyle:this.props.frameStyle}),"personal-space"===this.state.example&&o.default.createElement(i.PersonalSpaceExample,{strings:this.props.strings.personalSpace,frameStyle:this.props.frameStyle})))}}t.OverviewExamples=d,d.displayName="OverviewExamples",Object.defineProperty(t,"BlueText",{enumerable:!0,get:function(){return u.BlueText}})})),define("typescript/component_libraries/retrieval-components/src/overview-examples/base_example",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/overview-examples/components"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseExample=void 0,n=r.__importStar(n),t.BaseExample=e=>n.createElement("div",{className:"fo-ex__base-example-container"},n.createElement("div",{className:"fo-ex__base-example-window"},n.createElement(o.Sidebar,null),n.createElement("div",{className:"fo-ex__base-example-window-content"},n.createElement(o.TopBar,{variant:e.topBarVariant,frameStyle:e.frameStyle}),e.children,n.createElement(o.GhostContent,null)))),t.BaseExample.displayName="BaseExample"})),define("typescript/component_libraries/retrieval-components/src/overview-examples/components",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/overview-examples/images"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlueText=t.ParagraphText=t.CheckboxedText=t.BulletedText=t.PinnedContent=t.GhostContent=t.TopBar=t.Sidebar=void 0,n=r.__importStar(n),t.Sidebar=()=>n.createElement("div",{className:"fo-ex__sidebar"},n.createElement("div",{className:"fo-ex__sidebar-nav-button"})),t.Sidebar.displayName="Sidebar",t.TopBar=e=>n.createElement("div",{className:"fo-ex__top-bar"},n.createElement("div",{className:"fo-ex__top-bar-search-bar"},n.createElement(o.SearchIcon,null)),"desktop"===e.frameStyle&&("single"===e.variant?n.createElement(o.FaceAndShare,null):n.createElement(o.FacepileAndShare,null)),"web"===e.frameStyle&&n.createElement(o.FaceAndBell,null)),t.TopBar.displayName="TopBar",t.GhostContent=()=>n.createElement("div",{className:"fo-ex__ghost-content"},n.createElement("div",null,n.createElement(o.GhostContentLeft,null)),n.createElement(o.GhostContentRight,null)),t.GhostContent.displayName="GhostContent",t.PinnedContent=e=>n.createElement("div",{className:"fo-ex__pinned-content"},"file"===e.variant?n.createElement(o.PinnedFile,null):n.createElement(o.PinnedFolder,null),n.createElement("div",{className:"fo-ex__pinned-content-text"},n.createElement("div",{className:"fo-ex__pinned-content-title"},e.title),n.createElement("div",{className:"fo-ex__pinned-content-subtitle"},e.subtitle))),t.PinnedContent.displayName="PinnedContent",t.BulletedText=({children:e})=>n.createElement("div",{className:"fo-ex__listed-text"},n.createElement("div",{className:"fo-ex__listed-text-bullet"},"•"),n.createElement("div",null,e)),t.BulletedText.displayName="BulletedText",t.CheckboxedText=({children:e})=>n.createElement("div",{className:"fo-ex__listed-text"},n.createElement("div",{className:"fo-ex__listed-text-checkbox"},n.createElement(o.CheckboxIcon,null)),n.createElement("div",null,e)),t.CheckboxedText.displayName="CheckboxedText",t.ParagraphText=({children:e})=>n.createElement("div",{className:"fo-ex__paragraph"},e),t.ParagraphText.displayName="ParagraphText",t.BlueText=({children:e})=>n.createElement("span",{className:"fo-ex__blue-text"},e),t.BlueText.displayName="BlueText"})),define("typescript/component_libraries/retrieval-components/src/overview-examples/icons",["require","exports","tslib","react"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconTeam=t.IconProject=t.IconPersonal=void 0,n=r.__importStar(n),t.IconPersonal=e=>n.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4991 9C14.4991 10.3807 13.3798 11.5 11.9991 11.5C10.6184 11.5 9.49907 10.3807 9.49907 9C9.49907 7.61929 10.6184 6.5 11.9991 6.5C13.3798 6.5 14.4991 7.61929 14.4991 9ZM13.9987 12.4651C15.1945 11.7735 15.9991 10.4807 15.9991 9C15.9991 6.79086 14.2082 5 11.9991 5C9.78994 5 7.99907 6.79086 7.99907 9C7.99907 10.48 8.80288 11.7723 9.99776 12.4641C9.22356 12.6427 8.55735 12.9256 7.98655 13.2841C6.97642 13.9184 6.30805 14.7622 5.86864 15.5898C5.43125 16.4136 5.21612 17.2292 5.1092 17.833C5.05544 18.1366 5.02822 18.3914 5.01439 18.5734C5.00747 18.6645 5.00387 18.7378 5.00201 18.7903C5.00107 18.8165 5.00057 18.8376 5.0003 18.8532L5.00005 18.8723L5.00001 18.8787L5 18.8811L5 18.882C5 18.8825 5 18.8829 5.75 18.883C6.5 18.8831 6.5 18.8835 6.5 18.8838L6.50008 18.8791C6.5002 18.8723 6.50046 18.8604 6.50106 18.8436C6.50226 18.8099 6.50478 18.7567 6.51008 18.687C6.52069 18.5473 6.54232 18.3425 6.58622 18.0945C6.67462 17.5953 6.85003 16.9401 7.19349 16.2932C7.53494 15.6501 8.03776 15.0231 8.78424 14.5544C9.52813 14.0872 10.5571 13.75 11.996 13.75C13.4349 13.75 14.4645 14.0872 15.2093 14.5545C15.9566 15.0234 16.4605 15.6506 16.8029 16.2939C17.1473 16.941 17.3236 17.5963 17.4127 18.0955C17.4569 18.3435 17.4789 18.5483 17.4897 18.688C17.495 18.7578 17.4976 18.8109 17.4989 18.8446C17.4995 18.8614 17.4998 18.8734 17.4999 18.8801L17.5 18.8848C17.5 18.8845 17.5 18.8841 18.25 18.883C19 18.8819 19 18.8815 19 18.881L19 18.88L19 18.8777L18.9999 18.8713L18.9997 18.8522C18.9994 18.8366 18.9988 18.8155 18.9979 18.7893C18.9959 18.7368 18.9922 18.6635 18.9852 18.5724C18.9711 18.3904 18.9435 18.1356 18.8894 17.832C18.7816 17.2282 18.5654 16.4128 18.127 15.5891C17.6865 14.7616 17.0172 13.9181 16.0065 13.2839C15.4364 12.9262 14.7713 12.6438 13.9987 12.4651Z",fill:"#1D2737"})),t.IconProject=e=>n.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("mask",{id:"path-1-inside-1",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.2 3H7.8C8.33032 3 8.80392 3.24283 9.11568 3.62336L9.46974 3.2694C9.76268 2.97655 10.2375 2.97661 10.5304 3.26955C10.8233 3.56248 10.8232 4.03735 10.5303 4.33021L9.5 5.36018V9.3C9.5 10.2389 8.73888 11 7.8 11H3.2C2.26111 11 1.5 10.2389 1.5 9.3V4.7C1.5 3.76111 2.26112 3 3.2 3ZM8 4.7V4.73874L5.68352 7.05459L4.51408 5.95371C4.21248 5.66979 3.73782 5.68412 3.45391 5.98572C3.16999 6.28732 3.18432 6.76198 3.48592 7.0459L5.18514 8.64551C5.48029 8.92336 5.9428 8.91641 6.22948 8.62982L8 6.85978V9.3C8 9.41046 7.91046 9.5 7.8 9.5H3.2C3.08954 9.5 3 9.41046 3 9.3V4.7C3 4.58954 3.08954 4.5 3.2 4.5H7.8C7.91046 4.5 8 4.58954 8 4.7ZM12 6.5C12 6.22386 12.2239 6 12.5 6H21.5C21.7761 6 22 6.22386 22 6.5V7C22 7.27614 21.7761 7.5 21.5 7.5H12.5C12.2239 7.5 12 7.27614 12 7V6.5ZM3.2 13H7.8C8.73889 13 9.5 13.7611 9.5 14.7V19.3C9.5 20.2389 8.73888 21 7.8 21H3.2C2.26111 21 1.5 20.2389 1.5 19.3V14.7C1.5 13.7611 2.26112 13 3.2 13ZM3.2 14.5C3.08954 14.5 3 14.5895 3 14.7V19.3C3 19.4105 3.08954 19.5 3.2 19.5H7.8C7.91046 19.5 8 19.4105 8 19.3V14.7C8 14.5895 7.91046 14.5 7.8 14.5H3.2ZM12 16.5C12 16.2239 12.2239 16 12.5 16H21.5C21.7761 16 22 16.2239 22 16.5V17C22 17.2761 21.7761 17.5 21.5 17.5H12.5C12.2239 17.5 12 17.2761 12 17V16.5Z"})),n.createElement("path",{d:"M9.11568 3.62336L7.95537 4.57398L9.00496 5.85509L10.1762 4.68417L9.11568 3.62336ZM9.46974 3.2694L10.5303 4.33021L10.5303 4.33021L9.46974 3.2694ZM10.5304 3.26955L11.5912 2.20903L11.5912 2.20903L10.5304 3.26955ZM10.5303 4.33021L11.5908 5.39101L11.5908 5.39101L10.5303 4.33021ZM9.5 5.36018L8.43948 4.29938L8 4.73874V5.36018H9.5ZM8 4.73874L9.06052 5.79955L9.5 5.36018V4.73874H8ZM5.68352 7.05459L4.65535 8.14678L5.71492 9.14423L6.74403 8.1154L5.68352 7.05459ZM4.51408 5.95371L3.48592 7.0459L3.48592 7.0459L4.51408 5.95371ZM3.45391 5.98572L4.54609 7.01389L4.5461 7.01389L3.45391 5.98572ZM3.48592 7.0459L4.51408 5.95371L4.51408 5.95371L3.48592 7.0459ZM5.18514 8.64551L4.15697 9.7377L4.15697 9.7377L5.18514 8.64551ZM6.22948 8.62982L5.16896 7.56901L5.16896 7.56901L6.22948 8.62982ZM8 6.85978H9.5V3.23915L6.93948 5.79897L8 6.85978ZM7.8 1.5H3.2V4.5H7.8V1.5ZM10.276 2.67275C9.69156 1.95939 8.79882 1.5 7.8 1.5V4.5C7.86182 4.5 7.91628 4.52627 7.95537 4.57398L10.276 2.67275ZM8.40923 2.2086L8.05517 2.56256L10.1762 4.68417L10.5303 4.33021L8.40923 2.2086ZM11.5912 2.20903C10.7126 1.33023 9.28803 1.33004 8.40923 2.2086L10.5303 4.33021C10.2373 4.62306 9.76245 4.623 9.4696 4.33006L11.5912 2.20903ZM11.5908 5.39101C12.4696 4.51245 12.4698 3.08783 11.5912 2.20903L9.4696 4.33006C9.17674 4.03713 9.17681 3.56226 9.46974 3.2694L11.5908 5.39101ZM10.5605 6.42099L11.5908 5.39101L9.46974 3.2694L8.43948 4.29938L10.5605 6.42099ZM11 9.3V5.36018H8V9.3H11ZM7.8 12.5C9.56731 12.5 11 11.0673 11 9.3H8C8 9.41046 7.91046 9.5 7.8 9.5V12.5ZM3.2 12.5H7.8V9.5H3.2V12.5ZM0 9.3C0 11.0673 1.43268 12.5 3.2 12.5V9.5C3.08954 9.5 3 9.41046 3 9.3H0ZM0 4.7V9.3H3V4.7H0ZM3.2 1.5C1.43269 1.5 0 2.93268 0 4.7H3C3 4.58954 3.08954 4.5 3.2 4.5V1.5ZM9.5 4.73874V4.7H6.5V4.73874H9.5ZM6.74403 8.1154L9.06052 5.79955L6.93948 3.67794L4.623 5.99379L6.74403 8.1154ZM3.48592 7.0459L4.65535 8.14678L6.71168 5.9624L5.54225 4.86152L3.48592 7.0459ZM4.5461 7.01389C4.26217 7.31549 3.78752 7.32982 3.48592 7.0459L5.54225 4.86152C4.63745 4.00976 3.21348 4.05276 2.36172 4.95756L4.5461 7.01389ZM4.51408 5.95371C4.81568 6.23763 4.83001 6.71229 4.54609 7.01389L2.36172 4.95756C1.50996 5.86236 1.55295 7.28633 2.45775 8.13809L4.51408 5.95371ZM6.2133 7.55332L4.51408 5.95371L2.45775 8.13809L4.15697 9.7377L6.2133 7.55332ZM5.16896 7.56901C5.45563 7.28242 5.91815 7.27547 6.2133 7.55332L4.15697 9.7377C5.04243 10.5713 6.42998 10.5504 7.28999 9.69062L5.16896 7.56901ZM6.93948 5.79897L5.16896 7.56901L7.28999 9.69062L9.06052 7.92058L6.93948 5.79897ZM9.5 9.3V6.85978H6.5V9.3H9.5ZM7.8 11C8.73888 11 9.5 10.2389 9.5 9.3H6.5C6.5 8.58203 7.08203 8 7.8 8V11ZM3.2 11H7.8V8H3.2V11ZM1.5 9.3C1.5 10.2389 2.26112 11 3.2 11V8C3.91797 8 4.5 8.58203 4.5 9.3H1.5ZM1.5 4.7V9.3H4.5V4.7H1.5ZM3.2 3C2.26112 3 1.5 3.76111 1.5 4.7H4.5C4.5 5.41797 3.91797 6 3.2 6V3ZM7.8 3H3.2V6H7.8V3ZM9.5 4.7C9.5 3.76112 8.73889 3 7.8 3V6C7.08203 6 6.5 5.41797 6.5 4.7H9.5ZM12.5 4.5C11.3954 4.5 10.5 5.39543 10.5 6.5H13.5C13.5 7.05229 13.0523 7.5 12.5 7.5V4.5ZM21.5 4.5H12.5V7.5H21.5V4.5ZM23.5 6.5C23.5 5.39543 22.6046 4.5 21.5 4.5V7.5C20.9477 7.5 20.5 7.05229 20.5 6.5H23.5ZM23.5 7V6.5H20.5V7H23.5ZM21.5 9C22.6046 9 23.5 8.10457 23.5 7H20.5C20.5 6.44771 20.9477 6 21.5 6V9ZM12.5 9H21.5V6H12.5V9ZM10.5 7C10.5 8.10457 11.3954 9 12.5 9V6C13.0523 6 13.5 6.44771 13.5 7H10.5ZM10.5 6.5V7H13.5V6.5H10.5ZM7.8 11.5H3.2V14.5H7.8V11.5ZM11 14.7C11 12.9327 9.56732 11.5 7.8 11.5V14.5C7.91046 14.5 8 14.5895 8 14.7H11ZM11 19.3V14.7H8V19.3H11ZM7.8 22.5C9.56731 22.5 11 21.0673 11 19.3H8C8 19.4105 7.91046 19.5 7.8 19.5V22.5ZM3.2 22.5H7.8V19.5H3.2V22.5ZM0 19.3C0 21.0673 1.43268 22.5 3.2 22.5V19.5C3.08954 19.5 3 19.4105 3 19.3H0ZM0 14.7V19.3H3V14.7H0ZM3.2 11.5C1.43269 11.5 0 12.9327 0 14.7H3C3 14.5895 3.08954 14.5 3.2 14.5V11.5ZM4.5 14.7C4.5 15.418 3.91797 16 3.2 16V13C2.26112 13 1.5 13.7611 1.5 14.7H4.5ZM4.5 19.3V14.7H1.5V19.3H4.5ZM3.2 18C3.91797 18 4.5 18.582 4.5 19.3H1.5C1.5 20.2389 2.26111 21 3.2 21V18ZM7.8 18H3.2V21H7.8V18ZM6.5 19.3C6.5 18.582 7.08203 18 7.8 18V21C8.73889 21 9.5 20.2389 9.5 19.3H6.5ZM6.5 14.7V19.3H9.5V14.7H6.5ZM7.8 16C7.08203 16 6.5 15.418 6.5 14.7H9.5C9.5 13.7611 8.73889 13 7.8 13V16ZM3.2 16H7.8V13H3.2V16ZM12.5 14.5C11.3954 14.5 10.5 15.3954 10.5 16.5H13.5C13.5 17.0523 13.0523 17.5 12.5 17.5V14.5ZM21.5 14.5H12.5V17.5H21.5V14.5ZM23.5 16.5C23.5 15.3954 22.6046 14.5 21.5 14.5V17.5C20.9477 17.5 20.5 17.0523 20.5 16.5H23.5ZM23.5 17V16.5H20.5V17H23.5ZM21.5 19C22.6046 19 23.5 18.1046 23.5 17H20.5C20.5 16.4477 20.9477 16 21.5 16V19ZM12.5 19H21.5V16H12.5V19ZM10.5 17C10.5 18.1046 11.3954 19 12.5 19V16C13.0523 16 13.5 16.4477 13.5 17H10.5ZM10.5 16.5V17H13.5V16.5H10.5Z",fill:"#1D2737",mask:"url(#path-1-inside-1)"})),t.IconTeam=e=>n.createElement("svg",Object.assign({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.49908 9.7998C6.49908 10.6282 5.8275 11.2998 4.99908 11.2998C4.17065 11.2998 3.49908 10.6282 3.49908 9.7998C3.49908 8.97138 4.17065 8.2998 4.99908 8.2998C5.8275 8.2998 6.49908 8.97138 6.49908 9.7998ZM6.18747 12.5552C7.25321 12.095 7.99908 11.0345 7.99908 9.7998C7.99908 8.14295 6.65593 6.7998 4.99908 6.7998C3.34222 6.7998 1.99908 8.14295 1.99908 9.7998C1.99908 11.0339 2.74427 12.094 3.80924 12.5546C3.16262 12.6755 2.61062 12.896 2.14303 13.1896C1.41402 13.6474 0.933089 14.2558 0.618643 14.8481C0.30622 15.4366 0.153591 16.0167 0.0779259 16.444C0.0397978 16.6594 0.0203896 16.8406 0.0104731 16.9711C0.00550503 17.0365 0.00289053 17.0896 0.00151604 17.1283C0.000828445 17.1476 0.000449896 17.1634 0.000243008 17.1754L4.4167e-05 17.1905L9.11951e-06 17.1958L2.14577e-06 17.198L0 17.1989C0 17.1993 0 17.1997 0.75 17.1998C1.5 17.1999 1.5 17.2003 1.5 17.2006L1.50002 17.2013L1.5 17.2013L1.5 17.2023L1.50002 17.2013L1.50057 17.1815C1.50128 17.1616 1.50282 17.1287 1.50616 17.0847C1.51287 16.9965 1.52668 16.8652 1.55495 16.7056C1.61209 16.3829 1.72499 15.9631 1.94349 15.5515C2.15997 15.1438 2.47536 14.7522 2.94072 14.46C3.40349 14.1694 4.05766 13.9498 4.99683 13.9498C5.74898 13.9498 6.32697 14.0902 6.77503 14.3062C7.00038 13.8961 7.29595 13.4762 7.68078 13.088C7.25705 12.8485 6.76237 12.6631 6.18747 12.5552ZM13.4991 9.7998C13.4991 10.6282 12.8275 11.2998 11.9991 11.2998C11.1706 11.2998 10.4991 10.6282 10.4991 9.7998C10.4991 8.97138 11.1706 8.2998 11.9991 8.2998C12.8275 8.2998 13.4991 8.97138 13.4991 9.7998ZM13.1876 12.5552C14.2533 12.0949 14.9991 11.0344 14.9991 9.7998C14.9991 8.14295 13.6559 6.7998 11.9991 6.7998C10.3422 6.7998 8.99907 8.14295 8.99907 9.7998C8.99907 11.0339 9.74427 12.094 10.8092 12.5546C10.1626 12.6755 9.61062 12.896 9.14303 13.1896C8.41402 13.6474 7.93309 14.2558 7.61864 14.8481C7.30622 15.4366 7.15359 16.0167 7.07793 16.444C7.0398 16.6594 7.02039 16.8406 7.01047 16.9711C7.00551 17.0365 7.00289 17.0896 7.00152 17.1283C7.00083 17.1476 7.00045 17.1634 7.00024 17.1754L7.00004 17.1905L7.00001 17.1958L7 17.198L7 17.1989C7 17.1993 7 17.1997 7.75 17.1998C8.5 17.1999 8.5 17.2003 8.5 17.2006L8.50002 17.2013L8.5 17.2013L8.5 17.2023L8.50002 17.2013L8.50057 17.1815C8.50128 17.1616 8.50282 17.1287 8.50616 17.0847C8.51287 16.9965 8.52668 16.8652 8.55495 16.7056C8.61209 16.3829 8.72499 15.9631 8.94349 15.5515C9.15997 15.1438 9.47536 14.7522 9.94072 14.46C10.4035 14.1694 11.0577 13.9498 11.9968 13.9498C12.936 13.9498 13.5906 14.1694 14.054 14.4601C14.52 14.7525 14.8361 15.1443 15.0532 15.5522C15.2724 15.9639 15.3859 16.3838 15.4435 16.7065C15.4719 16.8662 15.4859 16.9975 15.4928 17.0858C15.4962 17.1297 15.4977 17.1626 15.4985 17.1825L15.4991 17.2023L15.4991 17.2033L15.4991 17.2023L15.4991 17.2017C15.4991 17.2013 15.4991 17.2009 16.2491 17.1998C16.9991 17.1987 16.9991 17.1983 16.9991 17.1979L16.9991 17.1969L16.9991 17.1948L16.999 17.1895L16.9988 17.1744C16.9986 17.1624 16.9982 17.1466 16.9975 17.1272C16.996 17.0886 16.9933 17.0355 16.9883 16.9701C16.9782 16.8396 16.9585 16.6584 16.9201 16.4431C16.8439 16.0158 16.6905 15.4357 16.3773 14.8474C16.0622 14.2553 15.5806 13.6471 14.8512 13.1895C14.3841 12.8964 13.833 12.6762 13.1876 12.5552ZM19.0005 11.2998C19.8289 11.2998 20.5005 10.6282 20.5005 9.7998C20.5005 8.97138 19.8289 8.2998 19.0005 8.2998C18.1721 8.2998 17.5005 8.97138 17.5005 9.7998C17.5005 10.6282 18.1721 11.2998 19.0005 11.2998ZM22.0005 9.7998C22.0005 11.0343 21.2548 12.0946 20.1894 12.555C20.8351 12.676 21.3865 12.8963 21.8538 13.1895C22.5832 13.6471 23.0648 14.2553 23.3799 14.8474C23.6931 15.4357 23.8465 16.0158 23.9227 16.4431C23.9611 16.6584 23.9808 16.8396 23.9909 16.9701C23.9959 17.0355 23.9986 17.0886 24 17.1272C24.0007 17.1466 24.0011 17.1624 24.0014 17.1744L24.0016 17.1895L24.0016 17.1948L24.0016 17.1969L24.0016 17.1979C24.0016 17.1983 24.0016 17.1987 23.2516 17.1998C22.5016 17.2009 22.5016 17.2013 22.5017 17.2017L22.5017 17.2023L22.5016 17.2023L22.5011 17.1825C22.5003 17.1626 22.4987 17.1297 22.4953 17.0858C22.4885 16.9975 22.4745 16.8662 22.446 16.7065C22.3884 16.3838 22.275 15.9639 22.0558 15.5522C21.8387 15.1443 21.5226 14.7525 21.0566 14.4601C20.5932 14.1694 19.9386 13.9498 18.9994 13.9498C18.2466 13.9498 17.6688 14.0904 17.2213 14.3064C16.9957 13.8965 16.6999 13.4767 16.315 13.0886C16.7394 12.8485 17.2351 12.6626 17.8111 12.5548C16.7459 12.0943 16.0005 11.0341 16.0005 9.7998C16.0005 8.14295 17.3436 6.7998 19.0005 6.7998C20.6573 6.7998 22.0005 8.14295 22.0005 9.7998Z",fill:"#1D2737"}))})),define("typescript/component_libraries/retrieval-components/src/overview-examples/images",["require","exports","tslib","react"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedFolder=t.PinnedFile=t.SearchIcon=t.CheckboxIcon=t.GhostContentRight=t.GhostContentLeft=t.FacepileAndShare=t.FaceAndShare=t.FaceAndBell=void 0,n=r.__importStar(n),t.FaceAndBell=e=>n.createElement("svg",Object.assign({width:"36",height:"20",viewBox:"0 0 36 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("circle",{cx:"28",cy:"8",r:"8",fill:"#B7D3E9"}),n.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"#B7D3E9"})),t.FaceAndShare=e=>n.createElement("svg",Object.assign({width:"56",height:"20",viewBox:"0 0 56 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("rect",{opacity:"0.2",x:"24",width:"32",height:"16",rx:"3",fill:"#0D2484"}),n.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"#B7D3E9"})),t.FacepileAndShare=e=>n.createElement("svg",Object.assign({width:"82",height:"20",viewBox:"0 0 82 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("rect",{opacity:"0.2",x:"50",y:"2",width:"32",height:"16",rx:"3",fill:"#0D2484"}),n.createElement("circle",{cx:"34",cy:"10",r:"8",fill:"#B7D3E9"}),n.createElement("circle",{cx:"22",cy:"10",r:"9",fill:"#FEB0A6",stroke:"white",strokeWidth:"2"}),n.createElement("circle",{cx:"10",cy:"10",r:"9",fill:"#A3D29E",stroke:"white",strokeWidth:"2"})),t.GhostContentLeft=e=>n.createElement("svg",Object.assign({width:"122",height:"150",viewBox:"0 0 122 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0C0.89543 0 0 0.89543 0 2V4C0 5.10457 0.895428 6 2 6H120C121.105 6 122 5.10457 122 4V2C122 0.895431 121.105 0 120 0H2ZM0 23.5C0 22.6716 0.671573 22 1.5 22H5.93506C6.74387 22 7.51842 22.3266 8.08306 22.9057L8.12824 22.952C9.0693 23.9172 10.3602 24.4615 11.7082 24.4615H17.7C18.5284 24.4615 19.2 25.1331 19.2 25.9615V36.5C19.2 37.3284 18.5284 38 17.7 38H1.5C0.671572 38 0 37.3284 0 36.5V23.5ZM29 29C29 28.4477 29.4477 28 30 28H108C108.552 28 109 28.4477 109 29V31C109 31.5523 108.552 32 108 32H30C29.4477 32 29 31.5523 29 31V29ZM30 56C29.4477 56 29 56.4477 29 57V59C29 59.5523 29.4477 60 30 60H108C108.552 60 109 59.5523 109 59V57C109 56.4477 108.552 56 108 56H30ZM0 51.5C0 50.6716 0.671573 50 1.5 50H5.93506C6.74387 50 7.51842 50.3266 8.08306 50.9057L8.12824 50.952C9.0693 51.9172 10.3602 52.4615 11.7082 52.4615H17.7C18.5284 52.4615 19.2 53.1331 19.2 53.9615V64.5C19.2 65.3284 18.5284 66 17.7 66H1.5C0.671572 66 0 65.3284 0 64.5V51.5ZM30 84C29.4477 84 29 84.4477 29 85V87C29 87.5523 29.4477 88 30 88H108C108.552 88 109 87.5523 109 87V85C109 84.4477 108.552 84 108 84H30ZM0 79.5C0 78.6716 0.671573 78 1.5 78H5.93506C6.74387 78 7.51842 78.3266 8.08306 78.9057L8.12824 78.952C9.0693 79.9172 10.3602 80.4615 11.7082 80.4615H17.7C18.5284 80.4615 19.2 81.1331 19.2 81.9615V92.5C19.2 93.3284 18.5284 94 17.7 94H1.5C0.671572 94 0 93.3284 0 92.5V79.5ZM30 112C29.4477 112 29 112.448 29 113V115C29 115.552 29.4477 116 30 116H108C108.552 116 109 115.552 109 115V113C109 112.448 108.552 112 108 112H30ZM0 107.5C0 106.672 0.671573 106 1.5 106H5.93506C6.74387 106 7.51842 106.327 8.08306 106.906L8.12824 106.952C9.0693 107.917 10.3602 108.462 11.7082 108.462H17.7C18.5284 108.462 19.2 109.133 19.2 109.962V120.5C19.2 121.328 18.5284 122 17.7 122H1.5C0.671572 122 0 121.328 0 120.5V107.5ZM30 140C29.4477 140 29 140.448 29 141V143C29 143.552 29.4477 144 30 144H108C108.552 144 109 143.552 109 143V141C109 140.448 108.552 140 108 140H30ZM0 135.5C0 134.672 0.671573 134 1.5 134H5.93506C6.74387 134 7.51842 134.327 8.08306 134.906L8.12824 134.952C9.0693 135.917 10.3602 136.462 11.7082 136.462H17.7C18.5284 136.462 19.2 137.133 19.2 137.962V148.5C19.2 149.328 18.5284 150 17.7 150H1.5C0.671572 150 0 149.328 0 148.5V135.5Z",fill:"#E8EAEB"})),t.GhostContentRight=e=>n.createElement("svg",Object.assign({width:"88",height:"122",viewBox:"0 0 88 122",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("rect",{x:"56",y:"34",width:"32",height:"4",rx:"1",fill:"#E8EAEB"}),n.createElement("rect",{x:"56",y:"62",width:"32",height:"4",rx:"1",fill:"#E8EAEB"}),n.createElement("rect",{x:"56",y:"90",width:"32",height:"4",rx:"1",fill:"#E8EAEB"}),n.createElement("rect",{x:"56",y:"118",width:"32",height:"4",rx:"1",fill:"#E8EAEB"}),n.createElement("rect",{x:"56",width:"32",height:"16",rx:"3",fill:"#DDDFE1"}),n.createElement("rect",{x:"36",width:"16",height:"16",rx:"3",fill:"#F3F4F5"}),n.createElement("rect",{width:"32",height:"16",rx:"3",fill:"#F3F4F5"}),n.createElement("path",{d:"M56 3C56 1.34315 57.3431 0 59 0H72V16H59C57.3431 16 56 14.6569 56 13V3Z",fill:"#F3F4F5"})),t.CheckboxIcon=e=>n.createElement("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("rect",{x:"0.6",y:"0.6",width:"12.8",height:"12.8",rx:"2.4",fill:"white",stroke:"#DDDFE1",strokeWidth:"1.2"})),t.SearchIcon=e=>n.createElement("svg",Object.assign({width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.71348 3.6222C5.71348 4.77176 4.82633 5.70367 3.73199 5.70367C2.63765 5.70367 1.75051 4.77176 1.75051 3.6222C1.75051 2.47264 2.63765 1.54073 3.73199 1.54073C4.82633 1.54073 5.71348 2.47264 5.71348 3.6222ZM5.46023 6.16263C4.97325 6.52885 4.37658 6.7444 3.73199 6.7444C2.09048 6.7444 0.759766 5.34654 0.759766 3.6222C0.759766 1.89786 2.09048 0.5 3.73199 0.5C5.37351 0.5 6.70422 1.89786 6.70422 3.6222C6.70422 4.29375 6.50238 4.91578 6.15896 5.42501L8.12391 7.26409L7.42335 8L5.46023 6.16263Z",fill:"#C6C9CD"})),t.PinnedFile=e=>n.createElement("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 28.5H26C26.2761 28.5 26.5 28.2761 26.5 28V10H20V3.5H5.99564C5.72376 3.5 5.5 3.71959 5.5 4V28C5.5 28.2761 5.72386 28.5 6 28.5ZM28 28V10V9.41421C28 9.149 27.8948 8.89484 27.7073 8.7073L21.2925 2.2925C21.105 2.10496 20.8533 2 20.5881 2H20H5.99564C4.89107 2 4 2.89543 4 4V28C4 29.1046 4.89543 30 6 30H26C27.1046 30 28 29.1046 28 28ZM21 12H11V14H21V12ZM21 16.5H11V18.5H21V16.5ZM11 21H21V23H11V21Z",fill:"#DDDFE1"})),t.PinnedFolder=e=>n.createElement("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M0 5.2002C0 4.09563 0.89543 3.2002 2 3.2002L10.987 3.2002C11.5174 3.2002 12.0261 3.41091 12.4012 3.78598L15.1681 6.55287C15.5431 6.92794 16.0518 7.13866 16.5823 7.13866H29.5077C30.6123 7.13866 31.5077 8.03409 31.5077 9.13866V26.8002C31.5077 27.9048 30.6123 28.8002 29.5077 28.8002H2C0.89543 28.8002 0 27.9048 0 26.8002L0 5.2002Z",fill:"#92CEFF"}))})),define("typescript/component_libraries/retrieval-components/src/overview-examples/personal_space",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/overview-examples/base_example","typescript/component_libraries/retrieval-components/src/overview-examples/components"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalSpaceExample=void 0,n=r.__importDefault(n),t.PersonalSpaceExample=({strings:e,frameStyle:t})=>n.default.createElement(o.BaseExample,{topBarVariant:"single",frameStyle:t},n.default.createElement("div",{className:"fo-space-title"},e.title),n.default.createElement("div",{className:"fo-ex__example-section"},n.default.createElement(i.ParagraphText,null,e.paragraph)),n.default.createElement("div",{className:"fo-ex__header-text"},e.header),e.tasks.map(e=>n.default.createElement(i.CheckboxedText,null,e)),n.default.createElement("div",{className:"fo-ex__pinned-row"},e.pinnedItems.map(e=>n.default.createElement(i.PinnedContent,{variant:"folder",title:e.title,subtitle:e.age})))),t.PersonalSpaceExample.displayName="PersonalSpaceExample"})),define("typescript/component_libraries/retrieval-components/src/overview-examples/project_space",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/overview-examples/base_example","typescript/component_libraries/retrieval-components/src/overview-examples/components"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectSpaceExample=void 0,n=r.__importDefault(n),t.ProjectSpaceExample=({strings:e,frameStyle:t})=>n.default.createElement(o.BaseExample,{topBarVariant:"multiple",frameStyle:t},n.default.createElement("div",{className:"fo-space-title"},e.title),n.default.createElement("div",{className:"fo-ex__example-section"},n.default.createElement(i.ParagraphText,null,e.paragraph)),e.sections.map(({header:e,paragraph:t})=>[n.default.createElement("div",{className:"fo-ex__header-text"},e),n.default.createElement(i.ParagraphText,null,t)]),n.default.createElement("div",{className:"fo-ex__pinned-row"},e.pinnedItems.map(e=>n.default.createElement(i.PinnedContent,{variant:"folder",title:e.title,subtitle:e.age})))),t.ProjectSpaceExample.displayName="ProjectSpaceExample"})),define("typescript/component_libraries/retrieval-components/src/overview-examples/selector",["require","exports","tslib","classnames","react","spectrum/colorized_icon/index"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExampleSelector=void 0,n=r.__importDefault(n),o=r.__importStar(o);class s extends o.PureComponent{constructor(e){super(e),this.onMouseEnter=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})},this.state={isHovered:!1}}render(){const{isActive:e,icon:t,title:r,subtitle:s,onClick:a}=this.props,{isHovered:c}=this.state,l=n.default("fo-ex__selector-item",{"fo-ex__selector-item--active":e,"fo-ex__selector-item--hovered":!e&&c}),u=e?"#1D2737":c?"#707781":"#A5A9AF";return o.createElement("li",{className:l},o.createElement("button",{onClick:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o.createElement(i.ColorizedIcon,{color:u},t),o.createElement("div",{className:"fo-ex__selector-item-text"},o.createElement("div",{className:"fo-ex__selector-item-title"},r),o.createElement("div",{className:"fo-ex__selector-item-subtitle"},s))))}}s.displayName="SelectorItemElement";class a extends o.PureComponent{render(){const{header:e,strings:t,items:r,activeItem:n,onItemClick:i}=this.props,a=r.map(e=>{const r=t[e.id];return o.createElement(s,Object.assign({},e,{key:e.id,title:r.title,subtitle:r.subtitle,isActive:n===e.id,onClick:()=>i(e.id)}))});return o.createElement("div",{className:"fo-ex__selector-container"},o.createElement("div",{className:"fo-ex__selector-header"},e),o.createElement("ul",{className:"fo-ex__selector-items"},a))}}t.ExampleSelector=a,a.displayName="ExampleSelector"})),define("typescript/component_libraries/retrieval-components/src/overview-examples/team_space",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/overview-examples/base_example","typescript/component_libraries/retrieval-components/src/overview-examples/components"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TeamSpaceExample=void 0,n=r.__importDefault(n),t.TeamSpaceExample=({strings:e,frameStyle:t})=>n.default.createElement(o.BaseExample,{topBarVariant:"multiple",frameStyle:t},n.default.createElement("div",{className:"fo-space-title"},e.title),n.default.createElement("div",{className:"fo-ex__example-section"},n.default.createElement(i.ParagraphText,null,e.paragraph)),n.default.createElement("div",{className:"fo-ex__header-text"},e.header),n.default.createElement(i.BulletedText,null,e.lead),n.default.createElement(i.BulletedText,null,e.design),n.default.createElement(i.BulletedText,null,e.eng),n.default.createElement(i.CheckboxedText,null,e.maryTask),n.default.createElement("div",{className:"fo-ex__pinned-row"},e.pinnedItems.map(e=>n.default.createElement(i.PinnedContent,{variant:"folder",title:e.title,subtitle:e.age})))),t.TeamSpaceExample.displayName="TeamSpaceExample"})),define("typescript/component_libraries/retrieval-components/src/pinned-item/index",["require","exports","tslib","react","classnames","typescript/component_libraries/retrieval-components/src/thumbnail-icon/index","typescript/component_libraries/retrieval-components/src/truncated-string/index","spectrum/icon_content/index","spectrum/overflow_button/index","spectrum/popover/index"],(function(e,t,r,n,o,i,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedItem=void 0,n=r.__importDefault(n),o=r.__importDefault(o);const u=e=>!!e.isFolder;t.PinnedItem=e=>n.default.createElement("div",{className:o.default(["rc-pinned-item__wrapper",e.className])},n.default.createElement("a",{className:"rc-pinned-item",href:e.url,onClick:t=>{t.preventDefault(),e.onClick()},"data-fqpath":e.fqPath,"data-isdir":u(e),tabIndex:0},n.default.createElement("div",{className:"rc-pinned-item__file-icon"},u(e)?n.default.createElement("span",null,n.default.createElement(a.IconContent,{name:e.folderIcon})):n.default.createElement(i.ThumbnailIcon,{path:e.filename,variant:"large",thumbnailUrl:e.thumbnailUrl})),n.default.createElement("div",{className:"rc-pinned-item__info"},n.default.createElement(s.TruncatedString,{text:e.filename,className:"rc-pinned-item__name",variant:u(e)?s.TruncatedStringVariant.TRUNCATED_STRING_LAST_WORD:s.TruncatedStringVariant.TRUNCATED_STRING_FILE_EXTENSION}),n.default.createElement("span",{className:"rc-pinned-item__subtitle"},e.subtitle))),(e=>"menuOptions"in e)(e)?n.default.createElement(l.Popover,{className:"rc-pinned-item__menu-button",onSelection:e.onMenuOptionClick},n.default.createElement(l.PopoverTrigger,null,n.default.createElement(c.OverflowButton,{tagName:"span","aria-label":e.menuLabel,size:"small"})),n.default.createElement(l.PopoverContent,{attachment:"left"},n.default.createElement(n.default.Fragment,null,e.menuOptions.map(({key:e,label:t,isDisabled:r})=>n.default.createElement(l.PopoverContentItem,{key:e,value:e,disabled:r},t))))):null)})),define("typescript/component_libraries/retrieval-components/src/thumbnail-icon/index",["require","exports","tslib","react","spectrum/file_icon/index"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbnailIcon=void 0,n=r.__importDefault(n);class i extends n.default.PureComponent{constructor(e){super(e),this.addEventListeners=()=>{this.thumbnail&&(this.removeEventListeners(),this.thumbnail.addEventListener("load",this.handleImageLoaded),this.thumbnail.addEventListener("error",this.handleImageError))},this.removeEventListeners=()=>{this.thumbnail&&(this.thumbnail.removeEventListener("load",this.handleImageLoaded),this.thumbnail.removeEventListener("error",this.handleImageError))},this.handleImageLoaded=()=>{this.setState({thumbnailLoadingState:"loaded"}),this.removeEventListeners()},this.handleImageError=()=>{this.setState({thumbnailLoadingState:"error"})},this.setThumnailRef=e=>{this.thumbnail=e,this.addEventListeners()},this.className=()=>["rc-thumbnail-icon",`rc-thumbnail-icon--${this.props.variant||"small"}`,this.props.className].join(" "),this.state={thumbnailLoadingState:this.props.thumbnailUrl?"loading":"loaded"}}componentWillReceiveProps(e){this.props.thumbnailUrl!==e.thumbnailUrl&&(this.removeEventListeners(),this.setState({thumbnailLoadingState:e.thumbnailUrl?"loading":"loaded"}),e.thumbnailUrl&&this.addEventListeners())}componentWillUnmount(){this.removeEventListeners()}render(){return n.default.createElement("div",{className:this.className()},"loading"===this.state.thumbnailLoadingState?n.default.createElement("img",{key:"loader",src:this.props.thumbnailUrl,ref:this.setThumnailRef,className:"rc-thumbnail-icon__loader","aria-hidden":!0}):null,this.props.thumbnailUrl&&"loaded"===this.state.thumbnailLoadingState?n.default.createElement("img",{src:this.props.thumbnailUrl}):null,this.props.thumbnailUrl&&"loaded"===this.state.thumbnailLoadingState?null:n.default.createElement(o.FileIcon,{key:"thumbnail",path:this.props.path,variant:this.props.variant,className:"rc-thumbnail-icon__file-icon"}))}}t.ThumbnailIcon=i,i.displayName="ThumbnailIcon"})),define("typescript/component_libraries/retrieval-components/src/truncated-string/index",["require","exports","tslib","react","classnames","spectrum/tooltip/index","spectrum/dimensions/index"],(function(e,t,r,n,o,i,s){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.TruncatedString=t.TruncatedStringVariantClass=t.TruncatedStringVariant=void 0,n=r.__importDefault(n),o=r.__importDefault(o),(a=t.TruncatedStringVariant||(t.TruncatedStringVariant={})).TRUNCATED_STRING_END="TRUNCATED_STRING_END",a.TRUNCATED_STRING_START="TRUNCATED_STRING_START",a.TRUNCATED_STRING_MIDDLE="TRUNCATED_STRING_MIDDLE",a.TRUNCATED_STRING_LAST_WORD="TRUNCATED_STRING_LAST_WORD",a.TRUNCATED_STRING_FILE_EXTENSION="TRUNCATED_STRING_FILE_EXTENSION",a.TRUNCATED_STRING_EMAIL="TRUNCATED_STRING_EMAIL",t.TruncatedStringVariantClass={[t.TruncatedStringVariant.TRUNCATED_STRING_END]:"rc-truncated-string--end",[t.TruncatedStringVariant.TRUNCATED_STRING_START]:"rc-truncated-string--start",[t.TruncatedStringVariant.TRUNCATED_STRING_MIDDLE]:"rc-truncated-string--middle",[t.TruncatedStringVariant.TRUNCATED_STRING_LAST_WORD]:"rc-truncated-string--last-word",[t.TruncatedStringVariant.TRUNCATED_STRING_FILE_EXTENSION]:"rc-truncated-string--file-extension",[t.TruncatedStringVariant.TRUNCATED_STRING_EMAIL]:"rc-truncated-string--email"};class c extends n.default.PureComponent{constructor(e){super(e),this.setCalculator=e=>{this.calculator=e},this.setWrapper=e=>{this.wrapper=e},this.updateTooltip=()=>{if(!this.calculator||!this.wrapper)return;const e=this.calculator.getBoundingClientRect().width,t=this.wrapper.getBoundingClientRect().width;this.setState({showTooltip:e>t})},this.debouncedUpdateTooltip=()=>{"clearTimeout"in window&&"setTimeout"in window&&(this.updateTooltipTimeout&&clearTimeout(this.updateTooltipTimeout),this.updateTooltipTimeout=setTimeout(()=>this.updateTooltip(),50))},this.calculatePiecesFromProps=(e=this.props)=>{const{text:r,variant:n}=e;switch(n){case t.TruncatedStringVariant.TRUNCATED_STRING_END:case t.TruncatedStringVariant.TRUNCATED_STRING_START:default:return[r];case t.TruncatedStringVariant.TRUNCATED_STRING_MIDDLE:{const e=Math.floor(2*r.length/3),t=r.indexOf(" ",e);return t>-1?[r.substr(0,t),r.substr(t)]:[r]}case t.TruncatedStringVariant.TRUNCATED_STRING_LAST_WORD:{const e=r.trim().split(" "),t=e.pop();return[e.join(" "),t].filter(e=>!!e)}case t.TruncatedStringVariant.TRUNCATED_STRING_FILE_EXTENSION:{const e=r.trim().split(".");if(e.length<=1)return[r];const t=e.pop();return[e.join("."),"."+t]}case t.TruncatedStringVariant.TRUNCATED_STRING_EMAIL:{const e=r.trim().split("@");if(2!==e.length)return[r];const t=e.pop();return[e.pop(),"@"+t]}}},this.state={pieces:this.calculatePiecesFromProps(e),showTooltip:!1}}componentDidMount(){this.updateTooltip()}componentWillReceiveProps(e){this.setState({pieces:this.calculatePiecesFromProps(e),showTooltip:!1})}componentDidUpdate(){}render(){const{className:e,variant:r,text:a}=this.props,{pieces:c,showTooltip:l}=this.state;return n.default.createElement(i.Tooltip,{positioning:"below",tooltipContent:a,showOnMouseMove:l,wrapperClassName:"rc-truncated-string__tooltip"},n.default.createElement(s.Dimensions,null,()=>(this.debouncedUpdateTooltip(),n.default.createElement("span",{className:o.default(["rc-truncated-string",e,t.TruncatedStringVariantClass[r]]),ref:this.setWrapper},n.default.createElement("span",{className:"rc-truncated-string__calculator","aria-hidden":!0,ref:this.setCalculator},a),c.map((e,t)=>n.default.createElement("span",{key:t,className:o.default({"rc-truncated-string__piece":!0,"rc-truncated-string__piece--last-piece":0!==t&&t===c.length-1})},e))))))}}t.TruncatedString=c,c.displayName="TruncatedString"})),define("typescript/libraries/comments2/src/components/comment_avatar/index",["require","exports","tslib","react","spectrum/avatar/index","dig-components/avatar","spectrum/avatar/index","dig-components/icons","dig-components/icons/src"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeletedDIGCommentAvatar=t.DeletedCommentAvatar=t.DIGCommentAvatar=t.BasicCommentAvatar=t.CommentAvatar=void 0,n=r.__importStar(n);const l=({user:e,children:t})=>n.createElement("div",{className:"sc-comment-avatar",role:"img","aria-label":e?e.name.display:""},t);t.CommentAvatar=n.memo(({user:e})=>n.createElement(l,{user:e},n.createElement(t.BasicCommentAvatar,{user:e}))),t.CommentAvatar.displayName="CommentAvatar",t.BasicCommentAvatar=n.memo(({user:{photoUrl:e,name:{display:t,initials:r}}})=>e?n.createElement(o.Avatar,{src:e,alt:t}):n.createElement(o.AvatarInitials,{backgroundColor:s.avatarColorForUserIdentifier(t)},r)),t.BasicCommentAvatar.displayName="BasicCommentAvatar",t.DIGCommentAvatar=n.memo(({user:{photoUrl:e,name:{display:t,initials:r}}})=>n.createElement(i.Avatar,{src:e,alt:t,size:"small",backgroundColor:s.avatarColorForUserIdentifier(t),hasNoOutline:!0,className:"sc-comment-dig-avatar"},r)),t.DIGCommentAvatar.displayName="DIGCommentAvatar",t.DeletedCommentAvatar=n.memo(()=>n.createElement(l,null,n.createElement("div",{className:"sc-comment-deleted-avatar mc-avatar"},n.createElement("svg",{width:"26px",height:"26px",viewBox:"0 0 26 26",version:"1.1"},n.createElement("g",{id:"deleted-comment",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M17.4350288,7 L19.4350288,5 L20.8492424,6.41421356 L7.41421356,19.8492424 L6,18.4350288 L7.49843982,16.936589 C6.63661796,16.7140255 6,15.9313578 6,15 L6,9 C6,7.8954305 6.8954305,7 8,7 L17.4350288,7 Z M9.43502884,15 L15.4350288,9 L8,9 L8,15 L9.43502884,15 Z M20,9.26345597 L20,15 C20,16.1045695 19.1045695,17 18,17 L16,17 L13.7071068,19.2928932 C13.3165825,19.6834175 12.6834175,19.6834175 12.2928932,19.2928932 L11.131728,18.131728 L12.5459415,16.7175144 L13,17.1715729 L15.1715729,15 L16,15 L18,15 L18,11.263456 L20,9.26345597 Z",id:"Combined-Shape",fill:"#637282",fillRule:"nonzero"})))))),t.DeletedCommentAvatar.displayName="DeletedCommentAvatar",t.DeletedDIGCommentAvatar=n.memo(()=>n.createElement("div",{className:"sc-deleted-comment-avatar-wrapper"},n.createElement(a.UIIcon,{src:c.DeleteLine,size:"small",className:"sc-deleted-comment-icon"}))),t.DeletedDIGCommentAvatar.displayName="DeletedDIGCommentAvatar"})),define("typescript/libraries/comments2/src/components/comment_editor/components/active_macro_chrome_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveMacroChromeComponent=void 0,n=r.__importStar(n);class i extends o.EditorComponent{getPosition(){const{scrollClassName:e}=this.props,{macroRef:t}=this.status.macro;if(!t)return{};const r=t.getBoundingClientRect();let n=t.offsetParent;for(;n&&!n.classList.contains(e);)n=n.offsetParent;if(!n)return{};const o=n.getBoundingClientRect();return{top:r.bottom-o.top}}render(){const{active:e,macroRef:t,isVisible:r}=this.status.macro,{placeholderMessage:o}=this.props;if(!(e&&e.chrome&&t&&r))return n.createElement("div",null);const i=e.chrome;return n.createElement("div",{className:"active-macro-chrome",style:this.getPosition()},n.createElement(i,{placeholderMessage:o}))}}t.ActiveMacroChromeComponent=i})),define("typescript/libraries/comments2/src/components/comment_editor/components/active_macro_span_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveMacroSpanComponent=void 0,n=r.__importStar(n);class i extends o.EditorComponent{render(){const{triggers:e}=this,{children:t,style:r,className:o}=this.props;return n.createElement("span",{className:"active-macro",ref:e.macro.updateMacroRef},n.createElement("span",{className:o,style:r},t))}}t.ActiveMacroSpanComponent=i})),define("typescript/libraries/comments2/src/components/comment_editor/components/atomic_block_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","typescript/libraries/comments2/src/components/comment_editor/components/sticker_component"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AtomicBlockComponent=void 0,n=r.__importStar(n);class s extends o.EditorComponent{render(){const{block:e,contentState:t}=this.props,r=t.getEntity(e.getEntityAt(0)).getData();return"sticker"===r.type?n.createElement(i.StickerComponent,Object.assign({sticker:r},this.props)):null}}t.AtomicBlockComponent=s})),define("typescript/libraries/comments2/src/components/comment_editor/components/draft_component",["require","exports","tslib","react","draft-js","typescript/libraries/comments2/src/components/comment_editor/components/readonly_draft_component","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","dig-components/typography"],(function(e,t,r,n,o,i,s,a){"use strict";var c;Object.defineProperty(t,"__esModule",{value:!0}),t.DraftComponent=void 0,n=r.__importStar(n),(function(e){e[e.ENTER=13]="ENTER",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN"})(c||(c={}));const l=[c.ESC,c.SPACE,c.UP,c.RIGHT,c.DOWN];class u extends s.EditorComponent{constructor(){super(...arguments),this.scrollClassName="sc-comment-editor-draft",this.onChange=e=>{this.triggers.draft.change(e)},this.handleReturn=(e,t)=>{const{lineBreakModifierKeyCodes:r,submitModifierKeyCodes:n}=this.props,o=((e,t)=>{if(0===t.length)return!0;for(const r of t)if(e[r])return!0;return!1})(e,n),i=((e,t)=>{if(0===t.length)return!0;for(const r of t)if(e[r])return!0;return!1})(e,r);if(0===n.length&&r.length>0&&!i&&!this.status.macro.active||n.length>0&&o){return!(""===t.getCurrentContent().getPlainText().trim())&&this.triggers.comment&&(this.blurEditor(),this.status.draft.containerPostOnBlur||this.triggers.comment.post(t)),"handled"}const s=this.triggers.draft.returnKey(e).editorState;return!i||s!==t||this.status.macro.active?(e.preventDefault(),"handled"):"not-handled"},this.onScroll=e=>{if(!this.status.macro.macroRef)return;const{updateVisibility:t}=this.triggers.macro,r=e.target;t(this.getMacroVisibilityFromScrollEl(r))},this.keyBindingFn=e=>{const{customKeyBinding:t}=this.props;if(this.isNavigationalKeyboardEvent(e)){const{suggestion:t}=this.status;if(!this.isVacuousSuggestion(t)&&(this.triggers.draft.key(e),t!==this.status.suggestion))return e.preventDefault(),null}return t?t(e):o.getDefaultKeyBinding(e)},this.handleKeyCommand=(e,t)=>this.triggers.draft.keyCommand(e).editorState===t?"not-handled":"handled",this.handleBeforeInput=(e,t)=>this.triggers.draft.input(e).editorState===t?"not-handled":"handled",this.handlePastedText=(e,t,r)=>{let n=this.triggers.draft.pasteText(e).editorState;return t&&n===r&&(n=this.triggers.draft.pasteHTML({text:e,html:t}).editorState),n===r?"not-handled":"handled"},this.handleCompositionStart=e=>{this.triggers.draft.compositionStart(e)},this.handleCompositionEnd=e=>{this.triggers.draft.compositionEnd(e)},this.onKeyDown=e=>{if(this.isNavigationalKeyboardEvent(e)){const{suggestion:t}=this.status;this.triggers.draft.key(e),this.status.suggestion!==t&&e.preventDefault()}else e.which===c.SPACE?this.triggers.draft.key(e):e.which===c.ENTER&&this.status.macro.active&&e.preventDefault()},this.onMouseDown=e=>{const{handleFocus:t}=this.props;t&&t(e)},this.onMouseUp=e=>{const{handleFocus:t}=this.props;t&&t(e)&&this.onFocus(e)},this.onFocus=e=>{const{handleFocus:t}=this.props;if(t&&!t(e))return e.preventDefault(),void e.stopPropagation();this.triggers.macro.updateVisibility(this.getMacroVisibilityFromScrollEl(this.getScrollEl(e.target))),this.triggers.draft.focus(e)},this.onBlur=e=>{this.triggers.macro.updateVisibility(!1),this.props.handleBlur&&this.props.handleBlur(this.status.draft.editorState,this.triggers.comment),this.triggers.draft.blur(e)},this.onTab=e=>{this.triggers.draft.key(e)},this.blockRendererFn=e=>{const t=e.getType();return t&&this.status.draft.blockRenderers[t]?this.status.draft.blockRenderers[t](e):void 0},this.setDraftRef=e=>{this.editor=e}}blurEditor(){this.editor&&this.editor.blur()}focusEditor(){this.editor&&window.setTimeout(()=>{var e;return null===(e=this.editor)||void 0===e?void 0:e.focus()})}getMacroVisibilityFromScrollEl(e){if(!this.status.macro.macroRef)return!1;const t=e.getBoundingClientRect(),r=this.status.macro.macroRef.getBoundingClientRect();return r.bottom<t.bottom&&r.top>t.top}getScrollEl(e){if(null===e)throw new Error("Unable to find scroll element");return e.classList.contains(this.scrollClassName)?e:this.getScrollEl(e.parentElement)}isVacuousSuggestion({totalSuggestions:e}){return 0===e}isNavigationalKeyboardEvent({which:e}){return l.indexOf(e)>-1}componentDidMount(){this.props.shouldFocus&&this.editor&&this.focusEditor()}componentDidUpdate({shouldFocus:e}){this.props.shouldFocus&&!e&&this.editor&&this.focusEditor()}get accessibilityProps(){const{macro:e,suggestion:t}=this.status,{active:r,isVisible:n}=e,{selectedIndex:o}=t,i=!(!r||!r.chrome)&&n;return{role:"combobox",ariaAutocomplete:"list",ariaExpanded:i,ariaActiveDescendantID:-1!==o&&i?`mentions-option-${o}`:""}}render(){const{editorState:e,readOnly:t,isComposing:r}=this.status.draft,{annotation:o,spellCheck:s,a11yEditorLabel:c,useV2Design:l,disabled:u,placeholder:p}=this.props,d=Object.assign({ariaLabel:c,readOnly:t||!!u,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onTab:this.onTab,handleReturn:this.handleReturn,keyBindingFn:this.keyBindingFn,handleKeyCommand:this.handleKeyCommand,handleBeforeInput:this.handleBeforeInput,handlePastedText:this.handlePastedText,blockRendererFn:this.blockRendererFn},this.accessibilityProps),m=""===e.getCurrentContent().getPlainText()&&!r?n.createElement(a.Text,{className:"sc-comment-editor-placeholder",tabIndex:-1,"aria-hidden":!0,color:"disabled",size:l?"small":"standard"},p||""):void 0;return n.createElement("div",{className:this.scrollClassName,onScroll:this.onScroll,onKeyDown:this.onKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},n.createElement(i.ReadonlyDraftComponent,Object.assign({draftRef:this.setDraftRef},d,{annotation:l?void 0:o,editorPlaceholder:m,spellCheck:s})))}}t.DraftComponent=u,u.defaultProps={submitModifierKeyCodes:["metaKey","ctrlKey"],lineBreakModifierKeyCodes:[]}})),define("typescript/libraries/comments2/src/components/comment_editor/components/mention_span_component",["require","exports","tslib","react","classnames"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MentionSpanComponent=void 0,n=r.__importStar(n),o=r.__importDefault(o),t.MentionSpanComponent=function(e){const t=e.contentState.getEntity(e.entityKey),r=t&&t.getData().pending,i=o.default("sc-comment-editor-mention",{pending:r});return n.createElement("span",{className:i,"data-entity-key":e.entityKey,"data-editor":e.editorKey},e.children)}})),define("typescript/libraries/comments2/src/components/comment_editor/components/mention_suggestions_list_component",["require","exports","tslib","react","react-dom","classnames","typescript/libraries/comments2/src/components/comment_avatar/index","typescript/libraries/comments2/src/components/comment_editor/draft_utils","typescript/libraries/comments2/src/components/comment_editor/core/editor_component"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MentionSuggestionsListComponent=t.MentionsListItem=void 0,n=r.__importStar(n),o=r.__importStar(o),i=r.__importDefault(i);class l extends n.Component{render(){const{className:e,indexAsProp:t,onClick:r,children:o,selected:s}=this.props,a=i.default("sc-comment-editor-mentions-suggestion",e);return n.createElement("li",{role:"option","aria-selected":s?"true":void 0,id:`mentions-option-${t}`,key:t},n.createElement("button",{className:a,onClick:r,onMouseDown:e=>e.preventDefault()},n.createElement("div",null,o)))}}t.MentionsListItem=l,l.displayName="MentionsListItem";class u extends c.EditorComponent{constructor(){super(...arguments),this.containerRef=null,this.mentionsListItemRefs={},this.onContainerRef=e=>{this.containerRef=e},this.onMentionsListItemRef=e=>{e&&(this.mentionsListItemRefs[e.props.indexAsProp]=e)},this.onUserClick=e=>{this.triggers.suggestion.updateSelectedIndex(e),this.triggers.macro.apply(null)},this.onEmailClick=()=>{this.triggers.macro.apply(null)}}renderInactive(){return n.createElement("span",null)}renderNoResults(){return n.createElement("div",{className:"sc-comment-editor-mentions-list-container"},n.createElement("div",{className:"sc-comment-editor-mentions-list-header"},this.props.placeholderMessage?this.localization.intl.formatMessage(this.props.placeholderMessage):this.localization.intl.formatMessage({id:"FBlHqR",defaultMessage:"@mention someone to share this file."})))}renderEmptyResults(e){const t=a.parseEmail(e.content.substring(1));return n.createElement("div",{className:"sc-comment-editor-mentions-list-container sc-mentions-empty-results"},n.createElement("div",{className:"sc-comment-editor-mentions-list-header"},this.localization.intl.formatMessage({id:"vdBwOw",defaultMessage:"No Users Found"})),t&&n.createElement("ul",{className:"sc-comment-editor-mentions-list"},n.createElement(l,{className:"sc-comment-editor-mentions-suggestion-selected",indexAsProp:-1,onClick:this.onEmailClick},this.localization.intl.formatMessage({id:"l08JFQ",defaultMessage:"Invite {user_name}"},{user_name:t[0]}))))}componentDidMount(){this.lastKnownSelectedIndex=this.status.suggestion.selectedIndex}componentDidUpdate(){const{selectedIndex:e}=this.status.suggestion;if(this.lastKnownSelectedIndex!==e&&e in this.mentionsListItemRefs&&this.containerRef){const t=o.findDOMNode(this.mentionsListItemRefs[e]),r=t.getBoundingClientRect(),n=this.containerRef.getBoundingClientRect();r.top<n.top?t.scrollIntoView({behavior:"smooth",block:"start"}):r.bottom>n.bottom&&t.scrollIntoView({behavior:"smooth",block:"end"}),this.lastKnownSelectedIndex=e}}render(){const{status:e}=this,t=e.macro,{users:r}=e.mentionSuggestions,{active:o}=t;if(!o)return this.renderInactive();if(null===r)return this.renderNoResults();if(!r.length)return this.renderEmptyResults(o);const a=e.suggestion.selectedIndex;return n.createElement("div",{className:"sc-comment-editor-mentions-list-container",contentEditable:!1,ref:this.onContainerRef},n.createElement("div",{className:"sc-comment-editor-mentions-list-header"},this.localization.intl.formatMessage({id:"e6Shp6",defaultMessage:"Searching contacts…"})),n.createElement("ul",{className:"sc-comment-editor-mentions-list",role:"listbox",id:"mentions-listbox"},r.map((e,t)=>{const r=a===t,o=i.default({"sc-comment-editor-mentions-suggestion-selected":r});return n.createElement(l,{key:t,indexAsProp:t,className:o,onClick:()=>this.onUserClick(t),ref:this.onMentionsListItemRef,selected:r},n.createElement(s.BasicCommentAvatar,{user:e}),n.createElement("div",{className:"sc-comment-editor-mentions-user"},n.createElement("div",{className:"sc-comment-editor-mentions-name",title:e.name.display},e.name.display),n.createElement("div",{className:"sc-comment-editor-mentions-email",title:e.email},e.email)))})))}}t.MentionSuggestionsListComponent=u})),define("typescript/libraries/comments2/src/components/comment_editor/components/readonly_draft_component",["require","exports","tslib","react","draft-js","typescript/libraries/comments2/src/components/comment/separator","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","typescript/libraries/comments2/src/components/comment_editor/components/atomic_block_component"],(function(e,t,r,n,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadonlyDraftComponent=void 0;const c=(n=r.__importStar(n)).memo(({annotation:e})=>n.createElement("div",{className:"sc-comment-editor-prefix"},e,e&&n.createElement(i.Separator,null)));c.displayName="EditorPrefix";const l=()=>{};class u extends s.EditorComponent{constructor(){super(...arguments),this.blockRendererFn=e=>"atomic"===e.getType()?{component:a.AtomicBlockComponent,editable:!1}:void 0,this.blockStyleFn=e=>`sc-comment-editor-${e.getType()}-block`}render(){const{editorKey:e,editorState:t,readOnly:r}=this.status.draft,{annotation:i,editorPlaceholder:s}=this.props,a=Object.assign({editorKey:e,editorState:t,readOnly:r,onChange:l,blockRendererFn:this.blockRendererFn,blockStyleFn:this.blockStyleFn},this.props);return n.createElement("div",null,n.createElement(c,{annotation:i}),s,n.createElement(o.Editor,Object.assign({},a,{ref:e=>{var t,r;null===(r=(t=this.props).draftRef)||void 0===r||r.call(t,e)}})))}}t.ReadonlyDraftComponent=u})),define("typescript/libraries/comments2/src/components/comment_editor/components/sticker_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerComponent=void 0,n=r.__importStar(n);class i extends o.EditorComponent{render(){const{sticker:e}=this.props,t=this.localization.intl.formatMessage({id:"nU3TuP",defaultMessage:"Sticker: {description}"},{description:e.description});return n.createElement("img",{className:"sc-comment-editor-sticker",src:e.url,title:t,alt:t})}}t.StickerComponent=i})),define("typescript/libraries/comments2/src/components/comment_editor/core/class_decorators",["require","exports"],(function(e,t){"use strict";function r(e){return function(t,r){return[...e,null].reverse().reduce((function({nodes:e,result:t},r){const n=e.shift();return{nodes:e,result:null!==r?Object.assign(Object.assign({},n),{[r]:t}):t}}),{nodes:e.reduce((function([e,...t],r){return[e[r]||{},e,...t]}),[t]),result:r}).result}}function n(e,t){return Object.assign({},e.reduce((function(e,r){return Object.assign(Object.assign({},e),{[r]:t(r)})}),{}))}Object.defineProperty(t,"__esModule",{value:!0}),t.plug=t.scaffold=void 0,t.scaffold=function(e){return n(Object.keys(e),(function(t){return{__place__:r(["composers",t]),on:n(e[t].evts,(function(o){return{__place__:r(["reducers",t,"evts",o]),update:n(e[t].values,(function(e){return{__place__:r(["reducers",t,"values",e,o])}}))}}))}}))},t.plug=function(e){return function(t,r){const n=t.scope;t.scope=function(){return e.__place__(n&&n.call(this)||{},t[r].bind(this))}}}})),define("typescript/libraries/comments2/src/components/comment_editor/core/composed_feature",["require","exports"],(function(e,t){"use strict";function r(e){const{value:t}=e.innerProps;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.ComposedFeature=void 0;class n{constructor(e,t,o){this.evts={},this.values={};const i=this;for(const r of t.evts)i.evts[r]=o=>n.reduceValue(e,t.values,r,o.innerProps.evt,i.values,o.innerProps.value,o.kernel),i.evts[r]=o.reduce((function(e,t){return function(n){const{innerProps:{evt:o,value:i},kernel:s}=n,a=t.evts&&t.evts[r],c=s.compose(e,{evt:o,value:i});if(void 0!==a){const e=s.compose(a,{evt:o,value:void 0!==c?c:i});if(void 0!==e)return e}return c}}),i.evts[r]);for(const s of t.values){const a=o.reduce((function(e,t){const r=t.values&&t.values[s];return void 0!==r?[...e,r]:e}),[]);i.values[s]={};for(const o in t.evts){const c=t.evts[o];i.values[s][c]=n.reducePartialReducers(e,s,c,a,r)}}}static reducePartialReducers(e,t,r,n,o){return n.reduce((function(n,o){return function(i){const{innerProps:{evt:s,value:a},kernel:c}=i,l=o[r];if(void 0!==l){const r=l;let o=c.compose(n,{evt:s,value:a});o=void 0!==o?c.compose((function(r){return Object.assign(Object.assign({},r.status[e]),{[t]:o})}))[t]:a;const i=c.compose(r,{evt:s,value:o});return void 0!==i?i:o}const u=c.compose(n,{evt:s,value:a});return void 0!==u?u:a}}),o)}static reduceValue(e,t,r,n,o,i,s){return t.reduce((function(t,a){const c=o[a],l=s.compose(c[r],{evt:n,value:i[a]});return void 0!==l?s.compose((function(r){return r.featureTriggers[e](Object.assign(Object.assign({},t),{[a]:l}))})):s.compose((function(t){return t.status[e]}))}),i)}}t.ComposedFeature=n})),define("typescript/libraries/comments2/src/components/comment_editor/core/composed_scope",["require","exports","typescript/libraries/comments2/src/components/comment_editor/core/composed_feature"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComposedScopeImpl=void 0;class n{constructor(e,t,r){this.composers={};for(const t in e)this.composers[t]=function(e){e.innerProps.initial&&e.kernel.compose(e.innerProps.initial,{prevStatus:e.status}),r.forEach((function(r){void 0!==r[t]&&e.kernel.compose(r[t],{prevStatus:e.status})}))};this.reducers=n.completeScopeReducers(e,t)}static create(e,t,r){return new n(e,t,r)}static completeScopeReducers(e,t){const n={};for(const o in e)n[o]={evts:{},values:{}},n[o]=new r.ComposedFeature(o,e[o],t.reduce((function(e,t){const r=t[o];return void 0!==r&&e.push(r),e}),[]));return n}}t.ComposedScopeImpl=n})),define("typescript/libraries/comments2/src/components/comment_editor/core/editor_component",["require","exports","tslib","react","prop-types"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorComponent=void 0,n=r.__importStar(n),o=r.__importDefault(o);class i extends n.Component{constructor(e){super(e)}get scope(){return this.context.scope}get container(){return this.context.container}get triggers(){return this.container.getTriggers(this.scope)}get status(){return this.container.getStatus()}get localization(){return this.context.localization}}t.EditorComponent=i,i.contextTypes={container:o.default.object,scope:o.default.object,localization:o.default.object}})),define("typescript/libraries/comments2/src/components/comment_editor/core/editor_container_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/utils","typescript/libraries/comments2/src/components/comment_editor/core/scope_container","typescript/libraries/comments2/src/components/comment_editor/core/scope_component","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","typescript/libraries/comments2/src/components/utils/shallow_equals"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorContainer=void 0,n=r.__importStar(n);class l extends a.EditorComponent{constructor(){super(...arguments),this._container=new i.ScopeContainerImpl({scopeNames:this.scopeNames,defaultStatus:this.createDefaultStatus()})}getLayerProps(e){return{}}UNSAFE_componentWillMount(){this.updateContainerStatus(this.props),this.subscribeToContainer()}UNSAFE_componentWillReceiveProps(e){c.shallowEquals(this.getLayerProps(this.props),this.getLayerProps(e))||(this.cachedScope=void 0),this.updateContainerStatus(e)}componentWillUnmount(){this.unsubscribeFromContainer()}updateContainerStatus(e){this.container.updateStatus(this.mapPropsToUpdates(e,this.container.getStatus()),this.scope)}reloadCachedScope(){return o.completeScopeFromLayers(this.scopeNames,this.mapPropsToLayers(this.props))}get container(){return this._container}get scope(){return this.cachedScope||(this.cachedScope=this.reloadCachedScope()),this.cachedScope}render(){return n.createElement(s.BaseScopeComponent,{scope:this.scope,container:this.container},this.props.children)}subscribeToContainer(){this.subscriptionHandle=this.container.subscribe(e=>{this.setState(e)})}unsubscribeFromContainer(){var e;null===(e=this.subscriptionHandle)||void 0===e||e.unsubscribe()}}t.EditorContainer=l})),define("typescript/libraries/comments2/src/components/comment_editor/core/scope_component",["require","exports","tslib","react","react","prop-types"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerScopeComponent=t.BaseScopeComponent=void 0,n=r.__importStar(n),i=r.__importDefault(i);class s extends o.Component{constructor(e){super(e),this.subscriptionHandle={unsubscribe:()=>{}},this.handleContainerStatus=e=>{this.setState({status:e})},this.subscribeToContainer(e.container)}UNSAFE_componentWillReceiveProps(e){e.container!==this.props.container&&this.subscribeToContainer(e.container)}subscribeToContainer(e){this.subscriptionHandle.unsubscribe(),this.subscriptionHandle=e.subscribe(this.handleContainerStatus)}componentWillUnmount(){var e;null===(e=this.subscriptionHandle)||void 0===e||e.unsubscribe()}getChildContext(){return{container:this.props.container,scope:this.props.scope}}render(){return n.createElement("div",null,this.props.children)}}function a(e,t){return n.createElement(s,Object.assign({},t),e.children)}t.BaseScopeComponent=s,s.childContextTypes={container:i.default.object,scope:i.default.object},t.InnerScopeComponent=a,a.contextTypes={container:i.default.object,scope:i.default.object}})),define("typescript/libraries/comments2/src/components/comment_editor/core/scope_container",["require","exports","typescript/libraries/comments2/src/components/comment_editor/core/status_container","typescript/libraries/comments2/src/components/comment_editor/core/utils"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScopeContainerImpl=void 0;class o extends r.StatusContainerImpl{constructor({scopeNames:e,defaultStatus:t}){super(t),this.scopeNames=e,this.memoizedCreateKernelAndTriggers=this.makeMemoizedCreateKernelAndTriggers()}makeMemoizedCreateKernelAndTriggers(){let e,t,r,n;return o=>(n!==o&&(e=this.createKernel(o),r=this.createFeatureTriggers(o),t=this.createTriggers(o,e,r),n=o),{kernel:e,triggers:t,featureTriggers:r})}createTriggers(e,t,r){return n.createTriggers(this.scopeNames,e,r||this.createFeatureTriggers(e),t||this.createKernel(e))}getTriggers(e){return this.memoizedCreateKernelAndTriggers(e).triggers}compose(e,t,r){const n=this.getStatus(),{kernel:o,featureTriggers:i,triggers:s}=this.memoizedCreateKernelAndTriggers(t);return e({status:n,triggers:s,innerProps:r,kernel:o,featureTriggers:i})}updateStatus(e,t){const r=this.createFeatureTriggers(t),n=this.getStatus();for(const t in e){const o=e[t];n[t]!==o&&r[t](o)}return this.getStatus()}createKernel(e){return{compose:(t,r)=>this.compose(t,e,r)}}createFeatureTriggers(e){const t={};for(const r in this.scopeNames)t[r]=t=>{const n=this.getStatus();return this.compose(e.composers[r],e,{prevStatus:n,initial:()=>{this.setStatus(Object.assign(Object.assign({},n),{[r]:t}))}}),t};return t}}t.ScopeContainerImpl=o})),define("typescript/libraries/comments2/src/components/comment_editor/core/status_container",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusContainerImpl=void 0;t.StatusContainerImpl=class{constructor(e){this.listeners=[],this.status=e}setStatus(e,t=!1){this.status=Object.assign(Object.assign({},this.status),e),t||this.listeners.forEach(e=>e(this.getStatus()))}getStatus(){return this.status}subscribe(e){return this.listeners.push(e),{unsubscribe:()=>this.listeners=this.listeners.filter(t=>t!==e)}}}})),define("typescript/libraries/comments2/src/components/comment_editor/core/types/index",["require","exports","typescript/libraries/comments2/src/components/comment_editor/core/types/base","typescript/libraries/comments2/src/components/comment_editor/core/types/reducers","typescript/libraries/comments2/src/components/comment_editor/core/types/scope","typescript/libraries/comments2/src/components/comment_editor/core/types/triggers","typescript/libraries/comments2/src/components/comment_editor/core/types/composer","typescript/libraries/comments2/src/components/comment_editor/core/types/components","typescript/libraries/comments2/src/components/comment_editor/core/types/container","typescript/libraries/comments2/src/components/comment_editor/core/types/scaffold"],(function(e,t,r,n,o,i,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLayer=t.FeatureScaffold=t.StatusContainer=t.SubscriptionHandle=t.ScopeContainer=t.ScopeComponent=t.ScopeComponentState=t.ScopeComponentProps=t.Composer=t.ComposerProps=t.Kernel=t.Trigger=t.FeatureTriggers=t.FeatureTrigger=t.ScopeTriggers=t.Triggers=t.FeatureNames=t.ScopeProps=t.Status=t.ScopeNames=t.Scope=t.Feature=t.PlugProps=t.FeatureReducers=t.ScopeComposer=t.ScopeComposerInnerProps=t.ComposedScope=t.ScopeComposers=t.PartialFeatureReducers=t.ValuesReducers=t.PartialValuesReducers=t.PartialReducers=t.PartialScopeReducers=t.ScopeReducers=t.Reducers=t.Reducer=t.Values=t.Events=t.Value=t.Evt=void 0,Object.defineProperty(t,"Evt",{enumerable:!0,get:function(){return r.Evt}}),Object.defineProperty(t,"Value",{enumerable:!0,get:function(){return r.Value}}),Object.defineProperty(t,"Events",{enumerable:!0,get:function(){return r.Events}}),Object.defineProperty(t,"Values",{enumerable:!0,get:function(){return r.Values}}),Object.defineProperty(t,"Reducer",{enumerable:!0,get:function(){return n.Reducer}}),Object.defineProperty(t,"Reducers",{enumerable:!0,get:function(){return n.Reducers}}),Object.defineProperty(t,"ScopeReducers",{enumerable:!0,get:function(){return n.ScopeReducers}}),Object.defineProperty(t,"PartialScopeReducers",{enumerable:!0,get:function(){return n.PartialScopeReducers}}),Object.defineProperty(t,"PartialReducers",{enumerable:!0,get:function(){return n.PartialReducers}}),Object.defineProperty(t,"PartialValuesReducers",{enumerable:!0,get:function(){return n.PartialValuesReducers}}),Object.defineProperty(t,"ValuesReducers",{enumerable:!0,get:function(){return n.ValuesReducers}}),Object.defineProperty(t,"PartialFeatureReducers",{enumerable:!0,get:function(){return n.PartialFeatureReducers}}),Object.defineProperty(t,"ScopeComposers",{enumerable:!0,get:function(){return n.ScopeComposers}}),Object.defineProperty(t,"ComposedScope",{enumerable:!0,get:function(){return n.ComposedScope}}),Object.defineProperty(t,"ScopeComposerInnerProps",{enumerable:!0,get:function(){return n.ScopeComposerInnerProps}}),Object.defineProperty(t,"ScopeComposer",{enumerable:!0,get:function(){return n.ScopeComposer}}),Object.defineProperty(t,"FeatureReducers",{enumerable:!0,get:function(){return n.FeatureReducers}}),Object.defineProperty(t,"PlugProps",{enumerable:!0,get:function(){return n.PlugProps}}),Object.defineProperty(t,"Feature",{enumerable:!0,get:function(){return o.Feature}}),Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ScopeNames",{enumerable:!0,get:function(){return o.ScopeNames}}),Object.defineProperty(t,"Status",{enumerable:!0,get:function(){return o.Status}}),Object.defineProperty(t,"ScopeProps",{enumerable:!0,get:function(){return o.ScopeProps}}),Object.defineProperty(t,"FeatureNames",{enumerable:!0,get:function(){return o.FeatureNames}}),Object.defineProperty(t,"Triggers",{enumerable:!0,get:function(){return i.Triggers}}),Object.defineProperty(t,"ScopeTriggers",{enumerable:!0,get:function(){return i.ScopeTriggers}}),Object.defineProperty(t,"FeatureTrigger",{enumerable:!0,get:function(){return i.FeatureTrigger}}),Object.defineProperty(t,"FeatureTriggers",{enumerable:!0,get:function(){return i.FeatureTriggers}}),Object.defineProperty(t,"Trigger",{enumerable:!0,get:function(){return i.Trigger}}),Object.defineProperty(t,"Kernel",{enumerable:!0,get:function(){return s.Kernel}}),Object.defineProperty(t,"ComposerProps",{enumerable:!0,get:function(){return s.ComposerProps}}),Object.defineProperty(t,"Composer",{enumerable:!0,get:function(){return s.Composer}}),Object.defineProperty(t,"ScopeComponentProps",{enumerable:!0,get:function(){return a.ScopeComponentProps}}),Object.defineProperty(t,"ScopeComponentState",{enumerable:!0,get:function(){return a.ScopeComponentState}}),Object.defineProperty(t,"ScopeComponent",{enumerable:!0,get:function(){return a.ScopeComponent}}),Object.defineProperty(t,"ScopeContainer",{enumerable:!0,get:function(){return c.ScopeContainer}}),Object.defineProperty(t,"SubscriptionHandle",{enumerable:!0,get:function(){return c.SubscriptionHandle}}),Object.defineProperty(t,"StatusContainer",{enumerable:!0,get:function(){return c.StatusContainer}}),Object.defineProperty(t,"FeatureScaffold",{enumerable:!0,get:function(){return l.FeatureScaffold}}),Object.defineProperty(t,"BaseLayer",{enumerable:!0,get:function(){return l.BaseLayer}})})),define("typescript/libraries/comments2/src/components/comment_editor/core/types/scaffold",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLayer=void 0;t.BaseLayer=class{}})),define("typescript/libraries/comments2/src/components/comment_editor/core/utils",["require","exports","typescript/libraries/comments2/src/components/comment_editor/core/composed_scope"],(function(e,t,r){"use strict";function n(e,t,r,n,o){const i={};for(const s of e)i[s]=function(e){return o.compose((function(i){const a=i.status[n],c=o.compose(t[s],{evt:e,value:a});return r(c)}))};return i}Object.defineProperty(t,"__esModule",{value:!0}),t.createTriggers=t.completeScopeFromLayers=t.completeScope=t.evtReducersToTriggers=void 0,t.evtReducersToTriggers=n,t.completeScope=function(e,t,n){return r.ComposedScopeImpl.create(e,t,n)},t.completeScopeFromLayers=function(e,t){const n=[],o=[];return t.forEach(e=>{const t=e.scope();t.reducers&&n.push(t.reducers),t.composers&&o.push(t.composers)}),r.ComposedScopeImpl.create(e,n,o)},t.createTriggers=function(e,t,r,o){let i={};for(const s in t.reducers)i=Object.assign(Object.assign({},i),{[s]:n(e[s].evts,t.reducers[s].evts,r[s],s,o)});return i}})),define("typescript/libraries/comments2/src/components/comment_editor/draft_utils",["require","exports","tslib","draft-js","punycode-web","immutable"],(function(e,t,r,n,o,i){"use strict";function s(e){const t=e.style,r=e.tagName.toLowerCase();let n=[];return(parseInt(t.fontWeight||"0",10)>=600||"bold"===t.fontWeight||"b"===r||"strong"===r)&&(n=[...n,"BOLD"]),"underline"!==t.textDecoration&&"u"!==r||(n=[...n,"UNDERLINE"]),"strikethrough"!==t.textDecoration&&"s"!==r&&"strike"!==r||(n=[...n,"STRIKETHROUGH"]),"italic"!==t.fontStyle&&"i"!==r&&"em"!==r||(n=[...n,"ITALIC"]),n}function a(e){const t=e.getSelection(),r=e.getCurrentContent(),n=t.getStartKey(),o=t.getEndKey(),i=r.getBlockMap();return i.toSeq().skipUntil((e,t)=>t===n).takeUntil((e,t)=>t===o).concat([[o,i.get(o)]]).toList()}Object.defineProperty(t,"__esModule",{value:!0}),t.trimTrailingWhitespace=t.getSelectionBlockTypes=t.getSelectionInlineStyle=t.getSelectedBlocksList=t.mergeBlockDataByKey=t.htmlToFragment=t.paperEmojiMapper=t.encodeUnicode=t.decodeUnicode=t.parseEmail=t.locationToSelection=t.findWithRegex=t.replaceText=t.replaceContent=t.hasFocus=t.contentIsEmpty=void 0,o=r.__importStar(o),t.contentIsEmpty=function(e){return 0===e.getCurrentContent().getPlainText().length},t.hasFocus=function(e){return e.getSelection().getHasFocus()},t.replaceContent=function(e,t){return n.EditorState.forceSelection(n.EditorState.push(e,t,"insert-fragment"),t.getSelectionAfter())},t.replaceText=function(e,t,r,o,i,s){return n.Modifier.replaceText(e,n.SelectionState.createEmpty(t).merge({anchorOffset:r,focusOffset:o}),i,void 0,s)},t.findWithRegex=function(e,t,r){let n,o,i,s=t.getText();for(;null!==(n=e.exec(s));)o=n.index,i=n[0].length,s=s.substring(o+i),r(o,o+i)},t.locationToSelection=function(e,r){let o=null,i=null;const s=e.start,a=e.end;let c=void 0,l=void 0,u=0;if(r.getBlockMap().forEach((e,r)=>{if(e&&"atomic"!==e.getType()){const n=t.decodeUnicode(e.getText());if(r&&null===o&&s<u+n.length){o=r;const e=s-u;c=t.encodeUnicode(n.slice(0,e)).length}if(r&&null===i&&a<=u+n.length){i=r;const e=a-u;l=t.encodeUnicode(n.slice(0,e)).length}u+=n.length}return o&&i}),!o||!i)throw new Error("Bad range");return n.SelectionState.createEmpty(o).merge({anchorKey:o,anchorOffset:c,focusKey:i,focusOffset:l})},t.parseEmail=function(e){return e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},t.decodeUnicode=e=>o.ucs2.decode(e),t.encodeUnicode=e=>o.ucs2.encode(e),t.paperEmojiMapper=function(e){if("img"===e.tagName.toLowerCase()){const t=e.getAttribute("data-emoji-ch");if(t){const e=document.createElement("span");return e.textContent=t,e}}return e},t.htmlToFragment=function({html:e,contentState:t,editorKey:r,elementMappers:o=[]}){const a=document.createElement("body");a.innerHTML=e;let c=[];const l=a.textContent||"",u=Array(l.length);let p=[0,0],d="";const m=(e="unstyled")=>{const t=u.slice(p[0],p[1]);c=[...c,(new n.ContentBlock).merge({type:e,key:n.genKey(),text:d,characterList:i.List(t)})],d="",p=[p[1],p[1]]},f=e=>a=>{switch(a.nodeType){case Node.TEXT_NODE:if(a.textContent){const t=n.CharacterMetadata.create(e),r=a.textContent;d+=r;for(let e=0;e<r.length;e++,p[1]++)u[p[1]]=t}break;case Node.ELEMENT_NODE:const c=o.reduce((e,t)=>t(e),a);if(c.childNodes.length){let n=e?e.style.toArray():[],o=e?e.entity:null;const a=c.tagName.toLowerCase(),l="true"===c.getAttribute("data-block")||-1!==["p","li","blockquote","pre",...[1,2,3,4,5,6].map(e=>`h${e}`)].indexOf(a);n=[...n,...s(c)],o=(function(e,t,r){if(e.hasAttribute("data-entity-key")&&e.getAttribute("data-editor")===r){const r=e.getAttribute("data-entity-key");try{return t.getEntity(r),r}catch(e){}}return null})(c,t,r)||o;const u={style:i.OrderedSet(n)};o&&(u.entity=o),Array.from(c.childNodes).forEach(f(u)),l&&m()}}};return Array.from(a.childNodes).forEach(f()),0===c.length&&m(),i.OrderedMap(c.map(e=>[e.getKey(),e]))},t.mergeBlockDataByKey=(e,t,r,o=!1)=>{const i=e.getCurrentContent(),s=i.getBlockForKey(t).mergeIn(["data"],r),a=i.getBlockMap().merge({[t]:s}),c=e.getSelection(),l=n.EditorState.push(e,i.merge({blockMap:a}),"change-block-data");return o?l:n.EditorState.acceptSelection(l,c)},t.getSelectedBlocksList=a,t.getSelectionInlineStyle=function(e){const t={BOLD:!1,ITALIC:!1,UNDERLINE:!1,STRIKETHROUGH:!1},r=e.getSelection(),n=e.getCurrentContent(),o=r.getStartOffset(),i=n.getBlockForKey(r.getStartKey());return(r.isCollapsed()?e.getCurrentInlineStyle().toList().toJS():i.getInlineStyleAt(o).toArray()).forEach(e=>{e in t&&(t[e]=!0)}),t},t.getSelectionBlockTypes=function(e){const t=a(e);let r=null;return t.forEach(e=>{if(e){const t=e.getType();if(null===r)r=t;else if(r!==t)return r=null,!1}return!0}),r||"unstyled"},t.trimTrailingWhitespace=e=>{const t=e.getCurrentContent(),r=t.getLastBlock(),o=r.getKey(),i=r.getText(),s=i.trimRight(),a=new n.SelectionState({anchorKey:o,anchorOffset:0,focusKey:o,focusOffset:i.length}),c=n.Modifier.replaceText(t,a,s);return n.EditorState.push(e,c,"remove-range")}})),define("typescript/libraries/comments2/src/components/comment_editor/layers/interaction",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js"],(function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionLayer=void 0;class a extends i.BaseLayer{updateEditorState(e){return e.innerProps.evt}handleKeyCommand(e){const{evt:t,value:r}=e.innerProps,n=s.RichUtils.handleKeyCommand(r,t);return n||r}handleCompositionStart(){return!0}handleCompositionEnd(){return!1}setFocused(){return!0}setBlurred(){return!1}}t.InteractionLayer=a,r.__decorate([n.plug(o.into.draft.on.change.update.editorState)],a.prototype,"updateEditorState",null),r.__decorate([n.plug(o.into.draft.on.keyCommand.update.editorState)],a.prototype,"handleKeyCommand",null),r.__decorate([n.plug(o.into.draft.on.compositionStart.update.isComposing)],a.prototype,"handleCompositionStart",null),r.__decorate([n.plug(o.into.draft.on.compositionEnd.update.isComposing)],a.prototype,"handleCompositionEnd",null),r.__decorate([n.plug(o.into.draft.on.focus.update.isFocused)],a.prototype,"setFocused",null),r.__decorate([n.plug(o.into.draft.on.blur.update.isFocused)],a.prototype,"setBlurred",null)})),define("typescript/libraries/comments2/src/components/comment_editor/layers/macro",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","typescript/libraries/comments2/src/components/comment_editor/components/active_macro_span_component","draft-js","typescript/libraries/comments2/src/components/comment_editor/draft_utils"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MacroLayer=void 0;class l extends i.BaseLayer{constructor(e){super(),this.options=e}addDecorators(e){const{value:t}=e.innerProps;return[...t,{strategy:this.findActiveMacros.bind(this,this.options.type),component:s.ActiveMacroSpanComponent,props:this.options.spanProps}]}checkForActiveMacro(e){const{kernel:t,triggers:r}=e,n=this.onMacro,{delimiter:o,type:i}=this.options,s=e.status.draft.editorState,a=s.getSelection();if(a.isCollapsed()){const c=s.getCurrentContent(),l=a.getAnchorKey(),u=c.getBlockForKey(l),p=a.getAnchorOffset(),d=u.getEntityAt(p)||u.getEntityAt(p-1);if(null!==d&&c.getEntity(d).getType()===i){let s="",a=-1,c=-1;u.findEntityRanges((function(e){return e.getEntity()===d}),(function(e,t){a=e,c=t,s=u.getText().substring(e,t)}));const p=e.status.macro.active;(p&&p.entityKey!==d||s.length&&(!p||p.content!==s))&&r.macro.update(t.compose(n,{delimiter:o,content:s,entityKey:d,blockKey:l,macroStartOffset:a,macroEndOffset:c,type:i})||null)}else r.macro.update(null),r.macro.updateVisibility(!0)}}applyMacroOnRightArrow(e){const{status:t,innerProps:{evt:r}}=e,n=t.macro;if(n.active&&39===r.which&&n.active.type===this.options.type){e.innerProps.value.getSelection().getAnchorOffset()>=n.active.endOffset&&(e.triggers.macro.apply(null),r.preventDefault())}}applyMacroOnReturn(e){const{triggers:t,status:r}=e,n=r.macro;n.active&&n.active.type===this.options.type&&t.macro.apply(null)}insertMacro(e){const{delimiter:t}=this.options,{status:r,innerProps:{value:n}}=e;if(r.macro.active)return n;const o=n.getSelection(),i=n.getCurrentContent().getBlockForKey(o.getAnchorKey()).getText(),s=o.getStartOffset();function a(e,t,r){const n=e.getSelection();return c.replaceContent(e,c.replaceText(e.getCurrentContent(),n.getFocusKey(),n.getStartOffset(),n.getEndOffset(),t,r))}let l=n;0!==s&&" "!==i.substr(s-1,1)&&(l=a(n," "));const u=l.getCurrentContent().createEntity(this.options.type,"MUTABLE");return a(l,t,u.getLastCreatedEntityKey())}updateActiveMacroEntity(e){const{delimiter:t}=this.options,{evt:r,value:n}=e.innerProps,o=n.getSelection(),i=n.getCurrentContent(),s=i.getBlockForKey(o.getAnchorKey());if(t.lastIndexOf(r)===t.length-1){const l=s.getText(),u=o.getStartOffset(),p=o.getEndOffset(),d=s.getEntityAt(u)||s.getEntityAt(u-1);if(null!==d&&0===i.getEntity(d).getType().indexOf("macro: ")){const e=a.Modifier.replaceText(i,o,r,void 0,d);return c.replaceContent(n,e)}{const o=e.kernel.compose(this.onDelimiter,{text:l,startOffset:u,endOffset:p,input:r,delimiter:t});if(void 0!==o){const e=i.createEntity(this.options.type,"MUTABLE").getLastCreatedEntityKey();return c.replaceContent(n,c.replaceText(i,s.getKey(),o.start,o.end,o.text,e))}}}const l=o.getAnchorOffset(),u=s.getEntityAt(l)||s.getEntityAt(l-1);if(null!==u&&i.getEntity(u).getType()===this.options.type){if(" "===r){let e=i;if(s.findEntityRanges((function(e){return e.getEntity()===u}),(function(t,n){const a=s.getText().substring(t,n);a.match(/\s/)&&(e=c.replaceText(i,o.getAnchorKey(),t,n,a+r))})),e!==i)return c.replaceContent(n,e)}const e=a.Modifier.replaceText(i,o,r,void 0,u);return c.replaceContent(n,e)}return n}updateActiveMacros(e){const{evt:t}=e.innerProps;return null===t?null:t&&t.type===this.options.type?t:void 0}updateMacroRef(e){const{active:t}=e.status.macro,{evt:r}=e.innerProps;return t&&t.type===this.options.type?r:void 0}updateVisibility(e){const{active:t}=e.status.macro,{evt:r}=e.innerProps;return t&&t.type!==this.options.type?void 0:r}applyMacro(e){const t=e.status.macro;t.active&&t.active.type===this.options.type&&e.kernel.compose(this.onAutoComplete)}findActiveMacros(e,t,r,n){t.findEntityRanges((function(t){const r=t.getEntity();return null!==r&&n.getEntity(r).getType()===e}),r)}}t.MacroLayer=l,r.__decorate([n.plug(o.into.draft.on.init.update.decorators)],l.prototype,"addDecorators",null),r.__decorate([n.plug(o.into.draft.on.change.update.editorState)],l.prototype,"checkForActiveMacro",null),r.__decorate([n.plug(o.into.draft.on.key.update.editorState)],l.prototype,"applyMacroOnRightArrow",null),r.__decorate([n.plug(o.into.draft.on.returnKey.update.editorState)],l.prototype,"applyMacroOnReturn",null),r.__decorate([n.plug(o.into.draft.on.insertMacro.update.editorState)],l.prototype,"insertMacro",null),r.__decorate([n.plug(o.into.draft.on.input.update.editorState),n.plug(o.into.draft.on.pasteText.update.editorState)],l.prototype,"updateActiveMacroEntity",null),r.__decorate([n.plug(o.into.macro.on.update.update.active)],l.prototype,"updateActiveMacros",null),r.__decorate([n.plug(o.into.macro.on.updateMacroRef.update.macroRef)],l.prototype,"updateMacroRef",null),r.__decorate([n.plug(o.into.macro.on.updateVisibility.update.isVisible)],l.prototype,"updateVisibility",null),r.__decorate([n.plug(o.into.macro.on.apply)],l.prototype,"applyMacro",null)})),define("typescript/libraries/comments2/src/components/comment_editor/layers/mentions_entity",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js","typescript/libraries/comments2/src/components/comment_editor/draft_utils","typescript/libraries/comments2/src/components/comment_editor/components/mention_span_component"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MentionsEntityLayer=void 0;class l extends i.BaseLayer{addDecorators(e){return[...e.innerProps.value,{strategy:function(e,t,r){e.findEntityRanges((function(e){const t=e.getEntity();return null!==t&&"mention"===r.getEntity(t).getType()}),t)},props:{editorKey:e.status.draft.editorKey},component:c.MentionSpanComponent}]}initMentions(e){const{value:t,evt:r}=e.innerProps,{mentions:n}=this.splitMentions(r.metadata);return s.EditorState.createWithContent(n.reduce((e,t)=>{const r=e.createEntity("mention","IMMUTABLE",{identifier:t.user.identifier,type:t.user.type}),n=r.getLastCreatedEntityKey(),o=a.locationToSelection(t.location,r);return s.Modifier.applyEntity(e,o,n)},t.getCurrentContent()))}postMentions(e){const{evt:t,value:r}=e.innerProps,n=this.getMentionMetadata(s.convertToRaw(t.getCurrentContent())),{other:o}=this.splitMentions(r.metadata);return Object.assign(Object.assign({},r),{metadata:[...o,...n]})}getMentionMetadata(e){const{blocks:t}=e,{metadata:r}=t.reduce((t,r)=>{const{metadata:n,pos:o}=t;return{metadata:[...n,...r.entityRanges.filter((function(t){return"mention"===e.entityMap[t.key].type})).map((function(t){const r=e.entityMap[t.key].data;return{type:"mention",user:{type:r.type,identifier:r.identifier},location:{start:o+t.offset,end:o+t.offset+t.length}}}))],pos:o+a.decodeUnicode(r.text).length}},{metadata:[],pos:0});return r}splitMentions(e){return e.reduce((e,t)=>"mention"===t.type?{mentions:[...e.mentions,t],other:e.other}:{mentions:e.mentions,other:[...e.other,t]},{mentions:[],other:[]})}}t.MentionsEntityLayer=l,r.__decorate([n.plug(o.into.draft.on.init.update.decorators)],l.prototype,"addDecorators",null),r.__decorate([n.plug(o.into.draft.on.populateWithComment.update.editorState)],l.prototype,"initMentions",null),r.__decorate([n.plug(o.into.comment.on.post.update.content)],l.prototype,"postMentions",null)})),define("typescript/libraries/comments2/src/components/comment_editor/layers/mentions_macro",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","draft-js","typescript/libraries/comments2/src/components/comment_editor/layers/macro","typescript/libraries/comments2/src/components/comment_editor/components/mention_suggestions_list_component","typescript/libraries/comments2/src/components/comment_editor/draft_utils"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMentionToRange=t.createMentionEntity=t.MentionsMacroLayer=void 0;class l extends s.MacroLayer{constructor(e){super({type:"macro: @",delimiter:"@",spanProps:{className:"active-mention"}}),this.mentionsOptions=e,this.onDelimiter=e=>{const{delimiter:t}=this.options,{text:r,startOffset:n,endOffset:o,input:i}=e.innerProps,s=n-t.length+i.length;if(r.substring(s,n)+i===t&&(0===s||" "===r.substr(s-1,1)))return{start:s,end:o,text:r.substring(s,n)+i}},this.onMacro=e=>{const{content:t,entityKey:r,blockKey:n,macroEndOffset:o,macroStartOffset:i}=e.innerProps,{type:s}=this.options,c=this.getQuery(t);return e.triggers.suggestion.updateTotalSuggestions(0),e.triggers.suggestion.updateSelectedIndex(-1),this.mentionsOptions.onMentionsQueryUpdated(c),{blockKey:n,entityKey:r,content:t,type:s,endOffset:o,startOffset:i,chrome:a.MentionSuggestionsListComponent}},this.onAutoComplete=e=>{window.setTimeout(()=>{this.completeMentionImpl(e)},0)},this.getSuggestedMentionUsers=e=>{const t=e.status.macro;if(!t.active)return;const r=e.status.mentionSuggestions,{content:n,type:o}=t.active;if(o===this.options.type){const e=this.getQuery(n);return r.userMap[e]}},this.getSelectedUser=e=>{const{status:t}=e,r=t.suggestion,{users:n}=t.mentionSuggestions;if(-1!==r.selectedIndex&&null!==n)return n[r.selectedIndex]}}updateUsers(e){return e.kernel.compose(this.getSuggestedMentionUsers)||null}triggerQueryUpdateOnSuggestions(e){const{userMap:t,users:r}=e.innerProps.prevStatus.mentionSuggestions,{userMap:n,users:o}=e.status.mentionSuggestions;t!==n&&e.triggers.mentionSuggestions.queryUpdate(null),r!==o&&o&&e.triggers.suggestion.updateTotalSuggestions(o.length)}triggerQueryUpdateOnMacro(e){e.triggers.mentionSuggestions.queryUpdate(null)}completeMentionImpl(e){const{status:t,triggers:r}=e,n=t.draft,o=t.macro,i=n.editorState.getCurrentContent();if(!o.active)return;const s=i.getBlockForKey(o.active.blockKey);function a(e,t){return e.entityKey===t.getEntity()}const l=e.kernel.compose(this.getSelectedUser);if(l){const e=l.name.public||l.email,t=l.email,i=function(e){return!!o.active&&a(o.active,e)},c=function(i,s){return o.active&&p({editorState:n.editorState,blockKey:o.active.blockKey,identifier:t,text:e,start:i,end:s},r,l)};s.findEntityRanges(i,c)}else{const e=o.active.content.substring(this.options.delimiter.length);if(c.parseEmail(e)&&!this.mentionsOptions.disableEmailMention){const t=function(e){return!!o.active&&a(o.active,e)},i=function(t,i){return o.active&&p({editorState:n.editorState,blockKey:o.active.blockKey,identifier:e,text:e,start:t,end:i},r,l)};s.findEntityRanges(t,i)}}}getQuery(e){const{delimiter:t}=this.options;return 0===e.indexOf(t)?e.substring(t.length):e}}function u(e){const{editorState:t,identifier:r,blockKey:n,start:o,end:s,text:a}=e,l={identifier:r,type:"email"},u=t.getCurrentContent().createEntity("mention","IMMUTABLE",l),p=u.getLastCreatedEntityKey(),d=c.replaceText(u,n,o,s,`@${a}`,p);return{editorState:c.replaceContent(t,i.Modifier.insertText(d,d.getSelectionAfter()," ")),mentionKey:p,mentionData:l}}function p(e,t,r){const{editorState:n,mentionKey:o,mentionData:i}=u(e);t.draft.change(n),t.mentionSuggestions.onApplyMentionToRange({mentionKey:o,mentionData:i,user:r})}t.MentionsMacroLayer=l,r.__decorate([n.plug(o.into.mentionSuggestions.on.queryUpdate.update.users)],l.prototype,"updateUsers",null),r.__decorate([n.plug(o.into.mentionSuggestions)],l.prototype,"triggerQueryUpdateOnSuggestions",null),r.__decorate([n.plug(o.into.macro.on.update)],l.prototype,"triggerQueryUpdateOnMacro",null),t.createMentionEntity=u,t.applyMentionToRange=p})),define("typescript/libraries/comments2/src/components/comment_editor/layers/scaffold",["require","exports","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/types","draft-js"],(function(e,t,r,n,o){"use strict";function i(){return{draft:{editorKey:o.genKey(),editorState:o.EditorState.createEmpty(),decorators:[],blockRenderers:{},placeholder:"",readOnly:!1,isComposing:!1,isFocused:!1,containerPostOnBlur:!1},comment:{content:{text:"",metadata:[]}},macro:{active:null,macroRef:null,isVisible:!0},suggestion:{selectedIndex:-1,totalSuggestions:0},mentionShareFlow:{popupProps:null},mentionSuggestions:{userMap:{}},container:{isFocused:!1},hyperlink:{linkPromptProps:null}}}function s(e,t){return Object.keys(t).reduce((function(t,r){if(!(r in e&&e[r]))throw new TypeError(`${r} is an unsupported feature`);return Object.assign(Object.assign({},t),{[r]:e[r]})}),{})}Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultStatus=t.filterSupportedFeatures=t.getCommentEditorDefaultStatus=t.into=void 0,t.into=r.scaffold(n.commentEditorNames),t.getCommentEditorDefaultStatus=i,t.filterSupportedFeatures=s,t.createDefaultStatus=function(e){return s(i(),e)}})),define("typescript/libraries/comments2/src/components/comment_editor/layers/style",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js","typescript/libraries/comments2/src/components/comment_editor/draft_utils"],(function(e,t,r,n,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleLayer=void 0;class c extends i.BaseLayer{initStyle(e){const{value:t,evt:r}=e.innerProps,{styles:n}=this.splitStyles(r.metadata);return s.EditorState.createWithContent(n.reduce((e,t)=>{const r=a.locationToSelection(t.location,e);return s.Modifier.applyInlineStyle(e,r,t.style.toUpperCase())},t.getCurrentContent()))}postStyles(e){const{evt:t,value:r}=e.innerProps,n=this.getStyleMetadata(s.convertToRaw(t.getCurrentContent())),{other:o}=this.splitStyles(r.metadata);return Object.assign(Object.assign({},r),{metadata:[...o,...n]})}getStyleMetadata(e){const{blocks:t}=e,{metadata:r}=t.reduce((e,t)=>{const{metadata:r,pos:n}=e;return{metadata:[...r,...t.inlineStyleRanges.map((function(e){return{type:"style",style:e.style.toLowerCase(),location:{start:n+e.offset,end:n+e.offset+e.length}}}))],pos:n+a.decodeUnicode(t.text).length}},{metadata:[],pos:0});return r}splitStyles(e){return e.reduce((e,t)=>"style"===t.type?{styles:[...e.styles,t],other:e.other}:{styles:e.styles,other:[...e.other,t]},{styles:[],other:[]})}}t.StyleLayer=c,r.__decorate([n.plug(o.into.draft.on.populateWithComment.update.editorState)],c.prototype,"initStyle",null),r.__decorate([n.plug(o.into.comment.on.post.update.content)],c.prototype,"postStyles",null)})),define("typescript/libraries/comments2/src/components/comment_editor/layers/suggestions",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionLayer=void 0;class s extends i.BaseLayer{handleArrowsAndEscape(e){const{triggers:t,status:r,innerProps:{evt:n}}=e;if(r.macro.active)switch(n.which){case 38:t.suggestion.up(1);break;case 40:t.suggestion.down(1);break;case 27:t.macro.update(null),t.macro.updateVisibility(!1)}}handleUp(e){const{totalSuggestions:t}=e.status.suggestion,{evt:r,value:n}=e.innerProps;return((Math.max(n,0)-r)%t+t)%t}handleDown(e){const{totalSuggestions:t}=e.status.suggestion,{evt:r,value:n}=e.innerProps;return(n+r)%t}updateIndex(e){const{evt:t}=e.innerProps;return t}updateTotalSuggestions(e){const{evt:t}=e.innerProps;if(t!==e.status.suggestion.totalSuggestions)return e.triggers.suggestion.updateSelectedIndex(-1),t}onMentionSuggestionsChange({status:e,triggers:t}){const{users:r}=e.mentionSuggestions;r&&t.suggestion.updateTotalSuggestions(r.length)}}t.SuggestionLayer=s,r.__decorate([n.plug(o.into.draft.on.key)],s.prototype,"handleArrowsAndEscape",null),r.__decorate([n.plug(o.into.suggestion.on.up.update.selectedIndex)],s.prototype,"handleUp",null),r.__decorate([n.plug(o.into.suggestion.on.down.update.selectedIndex)],s.prototype,"handleDown",null),r.__decorate([n.plug(o.into.suggestion.on.updateSelectedIndex.update.selectedIndex)],s.prototype,"updateIndex",null),r.__decorate([n.plug(o.into.suggestion.on.updateTotalSuggestions.update.totalSuggestions)],s.prototype,"updateTotalSuggestions",null),r.__decorate([n.plug(o.into.mentionSuggestions)],s.prototype,"onMentionSuggestionsChange",null)})),define("typescript/libraries/comments2/src/components/comment_editor/layers/text",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js"],(function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayer=void 0;class a extends i.BaseLayer{initText(e){const{evt:t}=e.innerProps;return s.EditorState.createWithContent(s.ContentState.createFromText(t.text))}postText(e){const{evt:t}=e.innerProps;return{metadata:[],text:t.getCurrentContent().getPlainText()}}}t.TextLayer=a,r.__decorate([n.plug(o.into.draft.on.populateWithComment.update.editorState)],a.prototype,"initText",null),r.__decorate([n.plug(o.into.comment.on.post.update.content)],a.prototype,"postText",null)})),define("typescript/libraries/comments2/src/components/comment_editor/layers/update",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js"],(function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateLayer=void 0;class a extends i.BaseLayer{triggerInit(e){const t=e.status.comment.content;if(e.innerProps.prevStatus.comment.content!==t){e.triggers.draft.init(null);const{editorState:r}=e.triggers.draft.populateWithComment(t);e.triggers.draft.change(r)}}triggerChange(e){const{editorState:t}=e.status.draft;e.innerProps.prevStatus.draft.editorState!==t&&e.triggers.draft.change(t)}addDecoratorsOnChange(e){const{value:t}=e.innerProps,{decorators:r}=e.status.draft;return null===t.getDecorator()?this.addDecorators(t,r):void 0}addDecorators(e,t){return s.EditorState.set(e,{decorator:new s.CompositeDecorator(t)})}}t.UpdateLayer=a,r.__decorate([n.plug(o.into.comment)],a.prototype,"triggerInit",null),r.__decorate([n.plug(o.into.draft)],a.prototype,"triggerChange",null),r.__decorate([n.plug(o.into.draft.on.change.update.editorState)],a.prototype,"addDecoratorsOnChange",null)})),define("typescript/libraries/comments2/src/components/comment_editor/types",["require","exports"],(function(e,t){"use strict";var r,n,o,i,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.commentEditorNames=t.SuggestionSelectionNames=t.MentionSuggestionNames=t.MacroNames=t.CommentNames=t.DraftNames=t.ContainerNames=void 0,(r=t.ContainerNames||(t.ContainerNames={})).evts=["focus","blur","updateFocus"],r.values=["isFocused"],(n=t.DraftNames||(t.DraftNames={})).evts=["init","populateWithComment","change","key","keyCommand","returnKey","input","pasteText","pasteHTML","insertMacro","focus","blur","compositionStart","compositionEnd","readOnly"],n.values=["editorKey","editorState","readOnly","decorators","isComposing","isFocused","blockRenderers"],(o=t.CommentNames||(t.CommentNames={})).evts=["cancel","post"],o.values=["content"],(i=t.MacroNames||(t.MacroNames={})).evts=["update","apply","updateMacroRef","updateVisibility"],i.values=["active","macroRef","isVisible"],(s=t.MentionSuggestionNames||(t.MentionSuggestionNames={})).evts=["queryUpdate","onApplyMentionToRange"],s.values=["userMap","users"],(a=t.SuggestionSelectionNames||(t.SuggestionSelectionNames={})).evts=["updateSelectedIndex","updateTotalSuggestions","up","down"],a.values=["selectedIndex","totalSuggestions"],t.commentEditorNames={draft:t.DraftNames,comment:t.CommentNames,macro:t.MacroNames,suggestion:t.SuggestionSelectionNames,mentionSuggestions:t.MentionSuggestionNames,container:t.ContainerNames}})),define("typescript/libraries/comments2/src/components/comment/separator",["require","exports","tslib","react"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0,n=r.__importStar(n),t.Separator=()=>n.createElement("span",{className:"sc-comment-separator"})})),define("typescript/libraries/comments2/src/components/utils/shallow_equals",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEquals=void 0,t.shallowEquals=function(e,t){for(let r in e)if(e[r]!==t[r])return!1;return!0}})),define("typescript/libraries/comments2/src/components/folder_overview_editor/index",["require","exports","tslib","typescript/libraries/comments2/src/components/folder_overview_editor/components/folder_overview_editor"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.__exportStar(n,t)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/contextual_toolbar_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","draft-js","typescript/libraries/comments2/src/components/folder_overview_editor/components/toolbar_component","typescript/libraries/comments2/src/components/folder_overview_editor/components/popover_component"],(function(e,t,r,n,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualToolbarComponent=void 0,n=r.__importStar(n);class c extends o.EditorComponent{constructor(e){super(e),this.popoverComponent=null,this.openLinkPrompt=()=>{const e=this.createPropsForLinkPrompt();this.triggers.hyperlink.updateLinkPromptProps(e)},this.createPropsForLinkPrompt=()=>{const e=this.popoverComponent&&this.popoverComponent.getCachedPosition();return e||null},this.setPopoverComponentRef=e=>{this.popoverComponent=e}}getPosition(){const e=i.getVisibleSelectionRect(window);return e&&0!==e.width?e:null}renderToolbar(){const e=this.container.getStatus().draft.editorState,t=this.localization.intl;return n.createElement(s.ToolbarComponent,{intl:t},n.createElement(s.ToolbarBoldButton,{intl:t,triggers:{draft:this.triggers.draft}}),n.createElement(s.ToolbarItalicButton,{intl:t,triggers:{draft:this.triggers.draft}}),n.createElement(s.ToolbarStrikeThroughButton,{state:e,intl:t,triggers:{draft:this.triggers.draft}}),n.createElement(s.ToolbarOpenLinkButton,{intl:t,triggers:{draft:this.triggers.draft},onClick:this.openLinkPrompt}),n.createElement(s.ToolbarDivider,{key:"-"}),n.createElement(s.ToolbarUnorderedListButton,{intl:t,state:e,triggers:{draft:this.triggers.draft}}),n.createElement(s.ToolbarOrderedListButton,{intl:t,state:e,triggers:{draft:this.triggers.draft}}))}render(){const{isVisible:e}=this.status.contextualToolbar,t=this.renderToolbar();return n.createElement(a.PopoverComponent,{ref:this.setPopoverComponentRef,popoverWidth:200,className:"sc-contextual-toolbar-popover",scrollClassName:this.props.scrollClassName,computeTargetPosition:this.getPosition,isVisible:e},t)}}t.ContextualToolbarComponent=c})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/contextual_toolbar_icons",["require","exports","tslib","react"],(function(e,t,r,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.toolbarSvgIcons=t.ToolbarActionIcon=void 0,n=r.__importStar(n),(o=t.ToolbarActionIcon||(t.ToolbarActionIcon={})).BOLD="BOLD",o.ITALIC="ITALIC",o.STRIKE_THROUGH="STRIKE_THROUGH",o.UNORDERED_LIST="UNORDERED_LIST",o.ORDERED_LIST="ORDERED_LIST",o.LINK="LINK",o.MENTION="MENTION",o.TASK="TASK",o.ONBOARDING="ONBOARDING",t.toolbarSvgIcons={[t.ToolbarActionIcon.BOLD]:()=>n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.515 5.875H7.875V17.6H12.17C13.3345 17.6 14.425 17.4117 15.2276 16.8818C16.0395 16.3458 16.54 15.4715 16.54 14.145C16.54 12.8378 15.6664 11.7421 14.3952 11.3592C14.8878 11.1875 15.2948 10.9225 15.5958 10.5634C15.9778 10.1079 16.18 9.51165 16.18 8.79C16.18 7.81243 15.767 7.07728 15.0952 6.59064C14.4281 6.10747 13.5147 5.875 12.515 5.875ZM9.52 10.705V7.25H12.44C13.0619 7.25 13.5709 7.38573 13.9217 7.657C14.2673 7.92431 14.475 8.33528 14.475 8.925C14.475 9.62281 14.2109 10.0582 13.8157 10.3252C13.4122 10.5976 12.8562 10.705 12.26 10.705H9.52ZM9.52 16.225V12.11H12.065C12.9643 12.11 13.6581 12.2484 14.1242 12.5562C14.5802 12.8573 14.835 13.3319 14.835 14.055C14.835 14.8889 14.5721 15.4202 14.1281 15.7489C13.6764 16.0833 13.0152 16.225 12.185 16.225H9.52Z"}))),[t.ToolbarActionIcon.ITALIC]:()=>n.createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10.75 17.75H9L12.5 5.75H14.25L10.75 17.75Z"})),[t.ToolbarActionIcon.STRIKE_THROUGH]:()=>n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},n.createElement("path",{d:"M10.1060324,10 L8.51882081,10 C8.46159424,9.74866009 8.435,9.48434783 8.435,9.21 C8.435,7.35 9.965,6 12.32,6 C14.75,6 16.01,7.29 16.115,9.24 L14.69,9.24 C14.555,8.115 13.91,7.11 12.305,7.11 C10.745,7.11 9.905,7.995 9.905,9.09 C9.905,9.44281227 9.9693552,9.74481781 10.1060324,10 Z M16.361,13.5 C16.4288,13.7826 16.46,14.088 16.46,14.415 C16.46,16.515 15.035,17.865 12.29,17.865 C9.635,17.865 8.12,16.44 8,14.415 L9.455,14.415 C9.62,15.645 10.475,16.74 12.32,16.74 C14.36,16.74 15.035,15.75 15.035,14.535 C15.035,14.1387272 14.9484809,13.7905206 14.7542791,13.5 L16.361,13.5 Z",id:"S-2"}),n.createElement("polygon",{id:"Line-2",fillRule:"nonzero",points:"5 12.5 5 11 20 11 20 12.5"}))),[t.ToolbarActionIcon.UNORDERED_LIST]:()=>n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},n.createElement("path",{d:"M9,17 L9,15.5 L19.5,15.5 L19.5,17 L9,17 Z M9,12.5 L9,11 L19.5,11 L19.5,12.5 L9,12.5 Z M9,8 L9,6.5 L19.5,6.5 L19.5,8 L9,8 Z",id:"Icon-Fill",fillRule:"nonzero"}),n.createElement("circle",{id:"Oval-2",cx:"5.5",cy:"7.25",r:"1.5"}),n.createElement("circle",{id:"Oval-2",cx:"5.5",cy:"11.75",r:"1.5"}),n.createElement("circle",{id:"Oval-2",cx:"5.5",cy:"16.25",r:"1.5"}))),[t.ToolbarActionIcon.ORDERED_LIST]:()=>n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},n.createElement("path",{d:"M9,17 L9,15.5 L19.5,15.5 L19.5,17 L9,17 Z M9,12.5 L9,11 L19.5,11 L19.5,12.5 L9,12.5 Z M9,8 L9,6.5 L19.5,6.5 L19.5,8 L9,8 Z",id:"Icon-Fill",fillRule:"nonzero"}),n.createElement("circle",{id:"Oval-2",cx:"5.75",cy:"11.75",r:"1"}),n.createElement("text",{id:"1",fontFamily:"AtlasGrotesk-Black, Atlas Grotesk",fontSize:"5px",fontWeight:"700"},n.createElement("tspan",{x:"4.42",y:"9"},"1")),n.createElement("text",{id:"3",fontFamily:"AtlasGrotesk-Black, Atlas Grotesk",fontSize:"5px",fontWeight:"700"},n.createElement("tspan",{x:"3.845",y:"18.25"},"3")))),[t.ToolbarActionIcon.LINK]:()=>n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5858 13.636L7.93936 13.2825L6.87869 12.2218L6.52514 12.5754C5.15831 13.9422 5.15831 16.1583 6.52514 17.5251C7.89198 18.892 10.1081 18.892 11.4749 17.5251L13.5962 15.4038C14.963 14.037 14.963 11.8209 13.5962 10.4541L12.5355 11.5147C13.3166 12.2958 13.3166 13.5621 12.5355 14.3431L10.4142 16.4645C9.63318 17.2455 8.36685 17.2455 7.5858 16.4645C6.80475 15.6834 6.80475 14.4171 7.5858 13.636ZM16.0711 7.97918C15.29 7.19814 14.0237 7.19814 13.2427 7.97918L11.1213 10.1005C10.3403 10.8816 10.3403 12.1479 11.1213 12.9289L10.0607 13.9896C8.69384 12.6228 8.69384 10.4067 10.0607 9.03985L12.182 6.91852C13.5488 5.55169 15.7649 5.55169 17.1317 6.91852C18.4986 8.28536 18.4986 10.5014 17.1317 11.8683L16.7782 12.2218L15.7175 11.1612L16.0711 10.8076C16.8521 10.0266 16.8521 8.76023 16.0711 7.97918Z"})),[t.ToolbarActionIcon.MENTION]:()=>n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.2598 4.875C10.0768 4.875 8.22867 5.63069 6.92609 6.9456C5.6236 8.26042 4.875 10.1259 4.875 12.3301C4.875 14.6028 5.60277 16.4717 6.91594 17.7725C8.22898 19.0732 10.1151 19.7939 12.4092 19.7939C13.5268 19.7939 14.6046 19.6345 15.4118 19.3565L15.4961 19.3274V17.9357L15.3188 18.0173C15.0586 18.1371 14.6379 18.2405 14.1252 18.3136C13.6152 18.3863 13.0234 18.4277 12.4268 18.4277C10.5731 18.4277 9.06 17.8328 8.01062 16.7866C6.96128 15.7405 6.36426 14.2318 6.36426 12.3828C6.36426 8.78842 8.78499 6.23242 12.1455 6.23242C13.8778 6.23242 15.3272 6.76702 16.3421 7.6823C17.3559 8.59665 17.9443 9.89817 17.9443 11.4512C17.9443 12.5209 17.7678 13.3891 17.4636 13.9849C17.1602 14.5791 16.7408 14.8857 16.25 14.8857C15.957 14.8857 15.7437 14.8027 15.6039 14.6647C15.4643 14.5269 15.3818 14.3185 15.3818 14.0352V8.75098H13.8047V9.70451C13.4001 9.00402 12.6193 8.58398 11.7324 8.58398C10.7944 8.58398 9.99484 8.97403 9.43186 9.6425C8.87017 10.3094 8.54883 11.2471 8.54883 12.3389C8.54883 13.4771 8.86255 14.441 9.42086 15.1229C9.9809 15.8069 10.7811 16.1992 11.7324 16.1992C12.7503 16.1992 13.5568 15.7259 13.9781 14.8715C14.1751 15.7126 14.9989 16.2783 16.0039 16.2783C17.0573 16.2783 17.9207 15.8021 18.5165 14.9576C19.1093 14.1171 19.4336 12.9181 19.4336 11.4688C19.4336 9.52831 18.6973 7.8771 17.4277 6.71186C16.1588 5.54736 14.365 4.875 12.2598 4.875ZM10.2051 12.374C10.2051 11.6217 10.3751 11.0388 10.6739 10.647C10.9693 10.2595 11.3993 10.0469 11.9521 10.0469C12.5136 10.0469 12.967 10.2682 13.2828 10.6625C13.6009 11.0596 13.7871 11.6424 13.7871 12.374C13.7871 13.1053 13.5989 13.6903 13.2775 14.0897C12.9583 14.4864 12.5004 14.71 11.9346 14.71C11.3966 14.71 10.9705 14.4943 10.6754 14.1027C10.3771 13.7071 10.2051 13.1214 10.2051 12.374Z"})),[t.ToolbarActionIcon.TASK]:()=>n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.8 6.5H14.2C15.0648 6.5 15.6232 6.50117 16.0482 6.53589C16.4557 6.56918 16.6068 6.6257 16.681 6.66349C16.9632 6.8073 17.1927 7.03677 17.3365 7.31901C17.3743 7.39318 17.4308 7.54426 17.4641 7.95175C17.4988 8.37676 17.5 8.93517 17.5 9.8V14.2C17.5 15.0648 17.4988 15.6232 17.4641 16.0482C17.4308 16.4557 17.3743 16.6068 17.3365 16.681C17.1927 16.9632 16.9632 17.1927 16.681 17.3365C16.6068 17.3743 16.4557 17.4308 16.0482 17.4641C15.6232 17.4988 15.0648 17.5 14.2 17.5H9.8C8.93517 17.5 8.37676 17.4988 7.95175 17.4641C7.54426 17.4308 7.39318 17.3743 7.31901 17.3365C7.03677 17.1927 6.8073 16.9632 6.66349 16.681C6.6257 16.6068 6.56918 16.4557 6.53589 16.0482C6.50117 15.6232 6.5 15.0648 6.5 14.2V9.8C6.5 8.93517 6.50117 8.37676 6.53589 7.95175C6.56918 7.54426 6.6257 7.39318 6.66349 7.31901C6.8073 7.03677 7.03677 6.8073 7.31901 6.66349C7.39318 6.6257 7.54426 6.56918 7.95175 6.53589C8.37676 6.50117 8.93517 6.5 9.8 6.5ZM5 9.8C5 8.11984 5 7.27976 5.32698 6.63803C5.6146 6.07354 6.07354 5.6146 6.63803 5.32698C7.27976 5 8.11984 5 9.8 5H14.2C15.8802 5 16.7202 5 17.362 5.32698C17.9265 5.6146 18.3854 6.07354 18.673 6.63803C19 7.27976 19 8.11984 19 9.8V14.2C19 15.8802 19 16.7202 18.673 17.362C18.3854 17.9265 17.9265 18.3854 17.362 18.673C16.7202 19 15.8802 19 14.2 19H9.8C8.11984 19 7.27976 19 6.63803 18.673C6.07354 18.3854 5.6146 17.9265 5.32698 17.362C5 16.7202 5 15.8802 5 14.2V9.8ZM11.8047 15.2569L16.2201 9.04361L14.7936 8.02989L10.9883 13.3847L9.27059 11.6089L8.01273 12.8256L10.4626 15.3583C10.6434 15.5453 10.8981 15.6421 11.1575 15.6225C11.4169 15.6029 11.6541 15.4689 11.8047 15.2569Z"})),[t.ToolbarActionIcon.ONBOARDING]:()=>n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 9.3951C8.5 7.45942 10.1803 6 12 6C13.8197 6 15.5 7.45942 15.5 9.3951C15.5 10.1162 15.3858 10.5218 15.2719 10.7766C15.154 11.0406 14.9943 11.2449 14.7109 11.567C14.6867 11.5944 14.6611 11.6232 14.6344 11.6534C14.368 11.9536 13.9833 12.3871 13.6745 12.9559C13.4312 13.404 13.2459 13.9082 13.1317 14.5H10.8692C10.7557 13.9057 10.5718 13.3985 10.3317 12.9472C10.0215 12.3642 9.63604 11.9208 9.36525 11.6093L9.36525 11.6093L9.29819 11.532C9.00841 11.1967 8.84514 10.9872 8.72526 10.7222C8.61177 10.4714 8.5 10.0814 8.5 9.3951ZM12 4.5C9.45933 4.5 7 6.52747 7 9.3951C7 11.1702 7.60617 11.8698 8.22154 12.5801C8.79806 13.2455 9.38265 13.9202 9.48444 15.4973C9.50222 15.7729 9.72386 16 10 16H14C14.2761 16 14.4977 15.7728 14.5156 15.4972C14.6167 13.9388 15.192 13.2877 15.7636 12.641C16.3841 11.9389 17 11.242 17 9.3951C17 6.52747 14.5407 4.5 12 4.5ZM9.5 18V17.5H14.5V18C14.5 19 13.108 19.5 12 19.5C10.892 19.5 9.5 19 9.5 18Z",fill:"black"}))}})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/fixed_toolbar_component",["require","exports","tslib","react","react-dom","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","typescript/libraries/comments2/src/components/folder_overview_editor/components/toolbar_component","classnames","typescript/libraries/comments2/src/components/folder_overview_editor/components/link_prompt_component"],(function(e,t,r,n,o,i,s,a,c){"use strict";function l(e){return(!!e.hyperlink.linkPromptProps||e.draft.isFocused||!!e.mentionShareFlow.popupProps)&&!e.draft.readOnly}Object.defineProperty(t,"__esModule",{value:!0}),t.FixedToolbarComponent=t.FixedToolbarElement=t.isFixedToolbarVisible=void 0,n=r.__importStar(n),o=r.__importStar(o),a=r.__importDefault(a),t.isFixedToolbarVisible=l;class u extends n.Component{constructor(e){super(e),this.scrollContainer=null,this.onScroll=()=>{this.props.isVisible&&this.scrollContainer&&this.updateToolbarScrollState()},this.openLinkPrompt=e=>{this.props.triggers.hyperlink.updateLinkPromptProps({top:0,left:0}),e.preventDefault(),e.stopPropagation()},this.state={toolbarScrollState:"scroll",top:0,left:0,width:0}}componentDidUpdate(e){this.props.isVisible&&!e.isVisible&&this.setOnScrollEventListener()}componentWillUnmount(){this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.onScroll)}isDocumentScrollContainer(){return!!this.scrollContainer&&"HTML"===this.scrollContainer.nodeName}setOnScrollEventListener(){this.scrollContainer=this.props.getScrollContainerEl?this.props.getScrollContainerEl():null,this.isDocumentScrollContainer()?(document.removeEventListener("scroll",this.onScroll),document.addEventListener("scroll",this.onScroll)):this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.onScroll),this.scrollContainer.addEventListener("scroll",this.onScroll)),this.updateToolbarScrollState()}getToolbarState(e,t,r){const{toolbarHeightWithMargin:n,toolbarTopMargin:o}=this.props;let i="scroll";const s=e-t;return s>r-n?i="hide":s+o>0&&(i="dock"),i}updateToolbarScrollState(){const{toolbarTopMargin:e}=this.props,t=this.props.getEditorContainerEl();if(!t)return;const r=t.getBoundingClientRect(),n=this.isDocumentScrollContainer()||!this.scrollContainer?0:this.scrollContainer.getBoundingClientRect().top,o=this.getToolbarState(n,r.top,r.height);this.setState({toolbarScrollState:o,top:n+e,left:r.left,width:r.width})}renderToolbar(){const{activeFormatting:e,editorState:t,localization:{intl:r},triggers:o}=this.props;return n.createElement(s.ToolbarComponent,{intl:r},n.createElement(s.ToolbarBoldButton,{active:e.bold,intl:r,triggers:{draft:o.draft}}),n.createElement(s.ToolbarItalicButton,{active:e.italic,intl:r,triggers:{draft:o.draft}}),n.createElement(s.ToolbarStrikeThroughButton,{active:e.strikethrough,shortcutEnabled:!0,state:t,intl:r,triggers:{draft:o.draft}}),n.createElement(s.ToolbarOpenLinkButton,{intl:r,shortcutEnabled:!0,triggers:{draft:o.draft},onClick:this.openLinkPrompt}),!this.props.limitedWidth&&n.createElement(s.ToolbarDivider,{key:"-1"}),n.createElement(s.ToolbarTaskButton,{active:e.task,intl:r,triggers:{draft:o.draft,task:o.task}}),n.createElement(s.ToolbarUnorderedListButton,{active:e.unorderedList,intl:r,state:t,triggers:{draft:o.draft}}),n.createElement(s.ToolbarOrderedListButton,{active:e.orderedList,intl:r,state:t,triggers:{draft:o.draft}}),n.createElement(s.ToolbarMentionButton,{triggers:{draft:o.draft},intl:r}),!this.props.limitedWidth&&[n.createElement(s.ToolbarSpacer,{key:"-"}),n.createElement(s.ToolbarDivider,{key:"-2"}),n.createElement(s.ToolbarDoneButton,{intl:r,onDone:this.props.onDone,triggers:{draft:o.draft}})],n.createElement(c.LinkPromptComponent,{focusEditor:this.props.focusEditor}))}isDocked(){return"dock"===this.state.toolbarScrollState}isVisible(){return this.props.isVisible&&"hide"!==this.state.toolbarScrollState}toolbarStyle(){return this.isDocked()?{top:this.state.top,left:this.state.left,position:"fixed",width:this.state.width}:{}}renderToolbarWithPosition(){const e=a.default("sc-folder-overview-fixed-toolbar",{docked:this.isDocked(),"limited-width":this.props.limitedWidth}),t=n.createElement("div",{className:e,style:this.toolbarStyle()},this.renderToolbar()),r=this.props.getScrollContainerEl&&this.props.getScrollContainerEl(),i=r&&r.offsetParent?r.offsetParent:document.body;return this.isDocked()&&r&&i?o.createPortal(t,i):t}render(){return this.isVisible()?n.createElement("span",null,this.renderToolbarWithPosition()):null}}t.FixedToolbarElement=u,u.displayName="FixedToolbarElement";class p extends i.EditorComponent{render(){const e=l(this.status);return n.createElement(u,Object.assign({activeFormatting:this.status.fixedToolbar.activeFormatting,localization:this.localization,editorState:this.status.draft.editorState,isVisible:e,triggers:this.triggers},this.props))}}t.FixedToolbarComponent=p})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/folder_overview_editor_container",["require","exports","typescript/libraries/comments2/src/components/comment_editor/types","typescript/libraries/comments2/src/components/comment_editor/layers/interaction","typescript/libraries/comments2/src/components/comment_editor/layers/text","typescript/libraries/comments2/src/components/comment_editor/layers/update","typescript/libraries/comments2/src/components/comment_editor/layers/style","typescript/libraries/comments2/src/components/comment_editor/core/editor_container_component","typescript/libraries/comments2/src/components/folder_overview_editor/layers/contextual_toolbar","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/folder_overview_editor/types","typescript/libraries/comments2/src/components/folder_overview_editor/layers/draft_callback","typescript/libraries/comments2/src/components/folder_overview_editor/layers/hyperlink","typescript/libraries/comments2/src/components/folder_overview_editor/layers/global_style","typescript/libraries/comments2/src/components/comment_editor/layers/mentions_entity","typescript/libraries/comments2/src/components/comment_editor/layers/mentions_macro","typescript/libraries/comments2/src/components/comment_editor/layers/suggestions","typescript/libraries/comments2/src/components/folder_overview_editor/layers/inline_toolbar","typescript/libraries/comments2/src/components/folder_overview_editor/layers/block_auto_format","typescript/libraries/comments2/src/components/folder_overview_editor/layers/task","typescript/libraries/comments2/src/components/folder_overview_editor/layers/mention_share_flow","typescript/libraries/comments2/src/components/folder_overview_editor/layers/accessibility","typescript/libraries/comments2/src/components/folder_overview_editor/layers/fixed_toolbar","typescript/libraries/comments2/src/components/folder_overview_editor/layers/plain_text_snippet"],(function(e,t,r,n,o,i,s,a,c,l,u,p,d,m,f,g,h,y,v,b,_,S,C,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderOverviewContainer=void 0;const w={draft:r.DraftNames,folderOverview:u.FolderOverviewNames,macro:r.MacroNames,mentionSuggestions:r.MentionSuggestionNames,suggestion:r.SuggestionSelectionNames,contextualToolbar:u.ContextualToolbarNames,inlineToolbar:u.InlineToolbarNames,fixedToolbar:u.FixedToolbarNames,hyperlink:u.HyperlinkNames,plainTextSnippet:u.PlainTextSnippetNames,globalStyle:u.GlobalStyleNames,task:u.TaskNames,mentionShareFlow:u.MentionShareFlowNames,accessibility:u.AccessibilityNames},x=()=>{};class T extends a.EditorContainer{get scopeNames(){return w}getLayerProps(e){const{features:{inlineToolbar:t,tasks:r,mentions:n,restylingWithFixedToolbar:o},mentionShareFlowHandlers:i=_.DefaultMentionShareFlowHandlers,onOpenLink:s=x,enableEmailMention:a,onEditorStateChange:c=x,onMentionsQueryUpdated:l=x,showPlainTextSnippetWhenNotFocused:u,onTaskChecked:p=x,hideAllToolbars:d=!1,onToolbarDone:m=x}=e;return{inlineToolbar:t,tasks:r,mentions:n,mentionShareFlowHandlers:i,restylingWithFixedToolbar:o,onOpenLink:s,enableEmailMention:a,onEditorStateChange:c,onMentionsQueryUpdated:l,showPlainTextSnippetWhenNotFocused:u,onTaskChecked:p,hideAllToolbars:d,onToolbarDone:m}}mapPropsToLayers(e){const{inlineToolbar:t,tasks:r,mentions:a,mentionShareFlowHandlers:l,onOpenLink:u,enableEmailMention:w,onEditorStateChange:x,onMentionsQueryUpdated:T,restylingWithFixedToolbar:k,showPlainTextSnippetWhenNotFocused:M,onTaskChecked:O,hideAllToolbars:L}=this.getLayerProps(e);return[new n.InteractionLayer,new o.TextLayer,new s.StyleLayer,new m.GlobalStyleLayer,!L&&new c.ContextualToolbarLayer,!L&&t&&new y.InlineToolbarLayer,new d.HyperlinkLayer({onOpenLink:u}),new f.MentionsEntityLayer,a&&new g.MentionsMacroLayer({onMentionsQueryUpdated:T,disableEmailMention:!w}),r&&new b.TaskLayer({onTaskChecked:O}),new v.BlockAutoFormatLayer,!L&&k&&new C.FixedToolbarLayer,new h.SuggestionLayer,new _.MentionShareFlowLayer(l),new p.DraftCallbackLayer({onEditorStateChange:x}),new i.UpdateLayer,new S.AccessibilityLayer,M&&new E.PlainTextSnippetLayer].filter(e=>!!e)}createDefaultStatus(){const e=l.createDefaultStatus(this.scopeNames);return Object.assign(Object.assign({},e),{draft:Object.assign(Object.assign({},e.draft),{readOnly:!!this.props.readOnly}),accessibility:{captureTab:!1}})}mapPropsToUpdates(e,t){let r={};const n=!!e.readOnly||!!t.mentionShareFlow.popupProps;return e.editorState!==t.folderOverview.editorState&&(r=Object.assign(Object.assign({},r),{folderOverview:Object.assign(Object.assign({},t.folderOverview),{editorState:e.editorState})})),n!==t.draft.readOnly&&(r=Object.assign(Object.assign({},r),{draft:Object.assign(Object.assign({},t.draft),{editorState:e.editorState?e.editorState:t.draft.editorState,readOnly:n})})),e.mentionsMatches!==t.mentionSuggestions.userMap&&(r=Object.assign(Object.assign({},r),{mentionSuggestions:Object.assign(Object.assign({},t.mentionSuggestions),{userMap:e.mentionsMatches||{}})})),r}}t.FolderOverviewContainer=T})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/folder_overview_editor",["require","exports","tslib","react","classnames","typescript/libraries/comments2/src/components/folder_overview_editor/components/folder_overview_editor_container","typescript/libraries/comments2/src/components/comment_editor/components/draft_component","prop-types","typescript/libraries/comments2/src/components/folder_overview_editor/components/contextual_toolbar_component","typescript/libraries/comments2/src/components/folder_overview_editor/components/link_prompt_component","typescript/libraries/comments2/src/components/folder_overview_editor/components/global_style_component","typescript/libraries/comments2/src/components/comment_editor/components/active_macro_chrome_component","typescript/libraries/comments2/src/components/folder_overview_editor/components/inline_toolbar_component","typescript/libraries/comments2/src/components/folder_overview_editor/components/mention_share_popover","typescript/libraries/comments2/src/components/folder_overview_editor/components/fixed_toolbar_component","typescript/libraries/comments2/src/components/folder_overview_editor/components/plain_text_snippet_component","draft-js"],(function(e,t,r,n,o,i,s,a,c,l,u,p,d,m,f,g,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderOverviewEditor=void 0,n=r.__importStar(n),o=r.__importDefault(o),a=r.__importDefault(a);const y={id:"FOLDER_OVERVIEW_MENTION_MATCHES_PLACEHOLDER",defaultMessage:"@mention someone to share this Space with them.",description:"Placeholder message in suggestions dropdown when user starts mention in Space overview editor"},v=(e,t)=>({descriptor:{id:"FOLDER_OR_FILE_OVERVIEW_MENTION_POPOVER_TITLE",defaultMessage:"Share “{shareable_resource_name}” with {user_name}?",description:"prompt message to share folder or file with a user"},values:{shareable_resource_name:t,user_name:e}}),b=e=>({descriptor:{id:"FOLDER_OVERVIEW_MENTION_POPOVER_MESSAGE",defaultMessage:"Share this folder with {user_name} so they can view its overview.",description:"message shown when user mentions another user with insufficient perms in a folder overview"},values:{user_name:e}}),_=e=>({descriptor:{id:"FILE_OVERVIEW_MENTION_POPOVER_MESSAGE",defaultMessage:"Share this file with {user_name} so they can view its overview.",description:"message shown when user mentions another user with insufficient perms in a file overview"},values:{user_name:e}});class S extends n.Component{constructor(){super(...arguments),this.editorContainerRef=n.createRef(),this.awaitingMouseUp=!1,this.getAccelShortcut=(e,t=!1)=>{const{localization:{intl:r},isMac:n}=this.props;return n?t?r.formatMessage({id:"pZ5e/J",defaultMessage:"⌘ + opt + {key}"},{key:e}):r.formatMessage({id:"3lp5F0",defaultMessage:"⌘ + {key}"},{key:e}):t?r.formatMessage({id:"4OVYKA",defaultMessage:"ctrl + alt + {key}"},{key:e}):r.formatMessage({id:"yi7qcS",defaultMessage:"ctrl + {key}"},{key:e})},this.getEditorContainerRef=()=>this.editorContainerRef.current,this.setDraftRef=e=>{this.props.setDraftRef&&this.props.setDraftRef(e),this.editorRef=e},this.blurEditor=()=>{this.editorRef&&this.editorRef.blurEditor()},this.focusEditor=()=>{this.editorRef&&this.editorRef.focusEditor()},this.dismissToolbar=()=>{this.focusEditor(),this.blurEditor(),this.props.onToolbarDone&&this.props.onToolbarDone()},this.handleFocus=e=>{if("mousedown"===e.type)return this.awaitingMouseUp=!0,!1;if("mouseup"===e.type)this.awaitingMouseUp=!1;else if("focus"===e.type)return!this.awaitingMouseUp;return!0},this.customKeyBinding=e=>{const{isMac:t}=this.props,r=t&&e.metaKey||!t&&e.ctrlKey;switch(e.keyCode){case 83:return r&&e.altKey?"strikethrough":null;case 75:return r&&!e.altKey?"create-link":null;default:return h.getDefaultKeyBinding(e)}}}getChildContext(){return{localization:this.props.localization,getAccelShortcut:this.getAccelShortcut}}renderDraftEditor(){const{annotation:e,localization:t,placeholder:r}=this.props,o=Object.assign({spellCheck:!0,a11yEditorLabel:t.intl.formatMessage({id:"Nv8qgA",defaultMessage:"Type notes, list, to-dos, and links here"}),annotation:e,shouldFocus:this.props.shouldFocus,customKeyBinding:this.customKeyBinding,handleFocus:this.handleFocus,placeholder:r},s.DraftComponent.defaultProps);return n.createElement(n.Fragment,null,this.props.showPlainTextSnippetWhenNotFocused&&n.createElement(g.PlainTextSnippetComponent,{focusEditor:this.focusEditor}),n.createElement(s.DraftComponent,Object.assign({},o,{ref:this.setDraftRef})))}render(){const{className:e,readOnly:t,shareableResourceName:r,limitedWidth:s,getToolbarScrollContainerEl:a,hideAllToolbars:g,isFileOverview:h}=this.props,S="number"==typeof this.props.toolbarHeightWithMargin?this.props.toolbarHeightWithMargin:48,{restylingWithFixedToolbar:C}=this.props.features,E="sc-folder-overview-interaction-container",w=o.default(e,"sc-folder-overview-editor",{"hide-invite-email-mention":!this.props.enableEmailMention,"fixed-toolbar-restyle":this.props.features.restylingWithFixedToolbar,"folder-overview-limited-width":!!s});return n.createElement("div",{className:w,ref:this.editorContainerRef},n.createElement(i.FolderOverviewContainer,Object.assign({},this.props),n.createElement(u.GlobalStyleComponent,{className:"sc-folder-overview-inner"},n.createElement("div",{className:E},C&&!g&&n.createElement(f.FixedToolbarComponent,{limitedWidth:!!s,toolbarHeightWithMargin:S,toolbarTopMargin:this.props.toolbarTopMargin||0,onDone:this.dismissToolbar,focusEditor:this.focusEditor,getEditorContainerEl:this.getEditorContainerRef,getScrollContainerEl:a}),this.renderDraftEditor(),!t&&n.createElement("div",null,n.createElement(p.ActiveMacroChromeComponent,{scrollClassName:E,placeholderMessage:h?void 0:y}),!C&&!g&&n.createElement(c.ContextualToolbarComponent,{scrollClassName:E}),r&&n.createElement(m.MentionSharePopoverComponent,{scrollClassName:E,limitedWidth:s,shareableResourceName:r,getCustomTitle:v,getCustomMessage:h?_:b}),!C&&!g&&n.createElement(d.InlineToolbarComponent,{scrollClassName:E,isMentionFeatureEnabled:this.props.features.mentions,isTaskFeatureEnabled:this.props.features.tasks,toolbarButtonOnboarding:this.props.toolbarButtonOnboarding}),!C&&!g&&n.createElement(l.LinkPromptComponent,{focusEditor:this.focusEditor}))))))}}t.FolderOverviewEditor=S,S.contextTypes={readOnlyCommentEditor:a.default.bool,container:a.default.object,scope:a.default.object,localization:a.default.object},S.childContextTypes={localization:a.default.object,getAccelShortcut:a.default.func},S.displayName="FolderOverviewEditor"})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/global_style_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","classnames"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalStyleComponent=void 0,n=r.__importStar(n),i=r.__importDefault(i);class s extends o.EditorComponent{render(){const e=this.container.getStatus().globalStyle.classNames,t=i.default(this.props.className,e);return n.createElement("div",{className:t},this.props.children)}}t.GlobalStyleComponent=s})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/inline_toolbar_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","typescript/libraries/comments2/src/components/folder_overview_editor/utils","typescript/libraries/comments2/src/components/folder_overview_editor/components/toolbar_component"],(function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineToolbarComponent=void 0,n=r.__importStar(n);class a extends o.EditorComponent{constructor(e){super(e),this.toolbarContainerRef=null,this.cachedPosition=null,this.setToolbarContainerRef=e=>{this.toolbarContainerRef=e},this.state={position:null}}getPosition(){const{scrollClassName:e}=this.props,t=window.getSelection();if(!t)return null;const r=0!==t.rangeCount&&t.getRangeAt(0),n=r&&r.startContainer,o=n&&n.parentElement&&n.parentElement.getBoundingClientRect();if(!this.toolbarContainerRef||!o)return null;const s=i.getOffsetParent(this.toolbarContainerRef,e);if(!s)return null;const a=s.getBoundingClientRect();return{top:o.top-a.top}}getPositionOrCachedValue(){const e=this.getSelection();if(this.cachedPosition&&this.selectionForCachedPosition==e)return this.cachedPosition;{const t=this.getPosition();return this.cachedPosition=t,this.selectionForCachedPosition=e,t}}UNSAFE_componentWillUpdate(){const e=this.status.draft.editorState.getSelection();this.status.inlineToolbar.props.isVisible&&this.state.selection!==e&&this.setState({selection:e,position:null},()=>{setTimeout(()=>{this.setState({position:this.getPositionOrCachedValue()})},0)})}getSelection(){return this.container.getStatus().draft.editorState.getSelection()}renderToolbar(e){const t=this.container.getStatus().draft.editorState,r=this.localization.intl,o=this.status.inlineToolbar.props.showOnlyMention;return n.createElement(s.ToolbarComponent,{position:e,intl:r},!o&&this.props.toolbarButtonOnboarding&&n.createElement(s.ToolbarOnboardingButton,{intl:r,onClick:this.props.toolbarButtonOnboarding,triggers:{draft:this.triggers.draft}}),!o&&n.createElement(s.ToolbarUnorderedListButton,{intl:r,state:t,triggers:{draft:this.triggers.draft}}),!o&&n.createElement(s.ToolbarOrderedListButton,{state:t,intl:r,triggers:{draft:this.triggers.draft}}),!o&&this.props.isTaskFeatureEnabled?n.createElement(s.ToolbarTaskButton,{intl:r,triggers:{draft:this.triggers.draft,task:this.triggers.task}}):null,this.props.isMentionFeatureEnabled?n.createElement(s.ToolbarMentionButton,{intl:r,triggers:{draft:this.triggers.draft}}):null)}render(){const{isVisible:e}=this.status.inlineToolbar.props,{position:t}=this.state,r=e&&t?this.renderToolbar(t):null;return n.createElement("div",{className:"sc-inline-toolbar-container",ref:this.setToolbarContainerRef},r)}}t.InlineToolbarComponent=a})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/link_prompt_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","dig-components/buttons"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkPromptComponent=void 0,n=r.__importStar(n);class s extends o.EditorComponent{constructor(){super(...arguments),this.linkContainerRef=null,this.handleClickOutside=e=>{this.linkContainerRef&&!this.linkContainerRef.contains(e.target)&&this.hideLinkPrompt()},this.setLinkPromptContainerRef=e=>{this.linkContainerRef=e},this.onSubmit=e=>{this.props.focusEditor(),this.triggers.hyperlink.createLink(e)}}componentDidMount(){document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)}hideLinkPrompt(){this.triggers.hyperlink.updateLinkPromptProps(null)}render(){const e=this.container.getStatus().hyperlink.linkPromptProps;return n.createElement(a,{onSubmit:this.onSubmit,linkProps:e,containerRef:this.setLinkPromptContainerRef})}}t.LinkPromptComponent=s;class a extends n.Component{constructor(e){super(e),this.inputRef=null,this.onEnterKey=e=>{13===(e.which||e.keyCode)&&this.canSubmit()&&(e.stopPropagation(),e.preventDefault(),this.props.onSubmit(this.state.inputValue))},this.onInputChange=e=>{this.setState({inputValue:e.currentTarget.value})},this.onCreateButtonClick=e=>{this.canSubmit()&&(this.props.onSubmit(this.state.inputValue),e.stopPropagation())},this.canSubmit=()=>!!this.state.inputValue,this.setInputRef=e=>{this.inputRef=e},this.state={inputValue:""}}UNSAFE_componentWillUpdate(e){const t=!!this.props.linkProps,r=!!e.linkProps;!t&&r&&this.componentWillShow()}componentDidUpdate(e){const t=!!this.props.linkProps,r=!!e.linkProps;t&&!r&&this.componentDidShow()}componentWillShow(){this.setState({inputValue:""})}componentDidShow(){this.inputRef&&this.inputRef.focus()}render(){if(!this.props.linkProps)return null;const{top:e,left:t}=this.props.linkProps,r={top:e,left:t};return n.createElement("div",{className:"sc-link-prompt",style:r,ref:this.props.containerRef,key:"linkprompt"},n.createElement("input",{className:"link-prompt-input",ref:this.setInputRef,onKeyPress:this.onEnterKey,placeholder:"Enter link URL",value:this.state.inputValue,onChange:this.onInputChange}),n.createElement(i.Button,{className:"submit-button",variant:"opacity",size:"small",disabled:!this.canSubmit(),onClick:this.onCreateButtonClick},"Create"))}}a.displayName="LinkPromptInput"})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/link_span_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/utils/url_utils"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkSpanComponent=void 0,n=r.__importStar(n);class i extends n.Component{constructor(){super(...arguments),this.onClick=e=>{const t=e.currentTarget.href;t&&o.isValidURL(t)&&(this.props.onOpenLink(t),e.preventDefault(),e.stopPropagation())},this.onMouseUp=e=>{e.preventDefault(),e.stopPropagation()},this.onMouseDown=e=>{e.preventDefault(),e.stopPropagation()}}getUrl(){const{url:e}=this.props.contentState.getEntity(this.props.entityKey).getData();return o.maybePreprendHttp(e)}render(){const e=this.getUrl();return n.createElement("a",{className:"sc-editor-href",href:e,onClick:this.onClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,title:e},this.props.children)}}t.LinkSpanComponent=i,i.displayName="LinkSpanComponent"})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/mention_share_popover",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component","typescript/libraries/comments2/src/components/folder_overview_editor/components/popover_component","spectrum/button/index","draft-js"],(function(e,t,r,n,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MentionSharePopoverComponent=void 0,n=r.__importStar(n);class c extends o.EditorComponent{constructor(){super(...arguments),this.getPosition=e=>{const t=this.container.getStatus().mentionShareFlow.popupProps,r=t&&t.mentionKey;if(!r)return null;const n=e.querySelectorAll(`[data-entity-key="${r}"]`)[0];return n?n.getBoundingClientRect():null},this.onClickOnCancel=()=>{this.closeSharePopup();const e=this.status.draft.editorState,t=a.EditorState.forceSelection(e,e.getSelection());this.triggers.draft.change(t)},this.onClickOnShare=()=>{const e=this.container.getStatus().mentionShareFlow.popupProps;e&&this.triggers.mentionShareFlow.onShare(e),this.closeSharePopup()},this.formatTitle=(e,t,r)=>{const{intl:n}=this.localization,{descriptor:o,values:i}=e(t,r);return n.formatMessage(o,i)},this.formatMessage=(e,t)=>{const{intl:r}=this.localization,{descriptor:n,values:o}=e(t);return r.formatMessage(n,o)}}closeSharePopup(){this.triggers.mentionShareFlow.updatePopupProps(null)}getUserString(e){return e&&e.user?e.user.name.public||e.user.email:e&&"email"==e.mentionData.type?e.mentionData.identifier:""}render(){const{getCustomTitle:e,getCustomMessage:t,shareableResourceName:r}=this.props,{popupProps:o}=this.status.mentionShareFlow,{intl:a}=this.localization,c=this.getUserString(o),l=e?this.formatTitle(e,c,r):a.formatMessage({id:"PPnGE0",defaultMessage:"Share folder with {user_name}?"},{user_name:c}),u=t?this.formatMessage(t,c):a.formatMessage({id:"d8Nac1",defaultMessage:"{user_name} is not yet a member of “{folder_name}”. If you don’t share this folder, they won’t be able to view its content"},{user_name:c,folder_name:r}),p=!!o;return n.createElement(i.PopoverComponent,{popoverWidth:300,className:"sc-mention-share-popover",scrollClassName:this.props.scrollClassName,limitedWidth:this.props.limitedWidth,computeTargetPosition:this.getPosition,isVisible:p},n.createElement("div",{className:"popup-title"},l),n.createElement("div",{className:"popup-message"},u),n.createElement("div",{className:"button-container"},n.createElement(s.Button,{className:"cancel-button",variant:"secondary",onClick:this.onClickOnCancel},a.formatMessage({id:"pv7yxv",defaultMessage:"Cancel"})),n.createElement(s.Button,{variant:"primary",onClick:this.onClickOnShare},a.formatMessage({id:"BZwQbv",defaultMessage:"Continue"}))))}}t.MentionSharePopoverComponent=c})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/plain_text_snippet_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/core/editor_component"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlainTextSnippetComponent=void 0,n=r.__importStar(n);class i extends o.EditorComponent{renderPlainTextSnippet(){const e=this.status.draft.editorState.getCurrentContent();return n.createElement("div",{className:"sc-folder-overview-plain-text-snippet sc-comment-editor-draft DraftEditor-root",onClick:this.props.focusEditor},e.getPlainText())}render(){return this.status.plainTextSnippet.show?this.renderPlainTextSnippet():null}}t.PlainTextSnippetComponent=i})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/popover_component",["require","exports","tslib","react","typescript/libraries/comments2/src/components/folder_overview_editor/utils","classnames"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverComponent=void 0,n=r.__importStar(n),i=r.__importDefault(i);class s extends n.Component{constructor(){super(...arguments),this.popoverContainerRef=null,this.cachedPosition=null,this.setPopoverContainerRef=e=>{this.popoverContainerRef=e}}getPosition(){const{scrollClassName:e}=this.props;if(!this.popoverContainerRef)return null;const t=o.getOffsetParent(this.popoverContainerRef,e);if(!t)return null;const r=this.props.computeTargetPosition(t);if(!this.popoverContainerRef||!r)return null;const n=t.getBoundingClientRect(),i=Math.round(r.left+r.width/2-n.left),s=10+this.props.popoverWidth/2,a=Math.min(Math.max(i,s),n.width-s),c={top:r.top-n.top,left:this.props.limitedWidth?0:a};return this.cachedPosition=c,c}getCachedPosition(){return this.cachedPosition}render(){const e=this.getPosition(),t=i.default("sc-popover",this.props.className),r=this.props.isVisible&&e?n.createElement("div",{className:t,style:e},this.props.children):null;return n.createElement("div",{className:"sc-popover-container",ref:this.setPopoverContainerRef},n.createElement(a,{transitionName:"popover"},r))}}t.PopoverComponent=s,s.displayName="PopoverComponent";class a extends n.Component{constructor(e){super(e),this.state={leave:!1,enter:!1,children:null}}cloneChildrenWithClass(e,t){return n.cloneElement(e,Object.assign(Object.assign({},e.props),{className:i.default(e.props.className,t)}))}UNSAFE_componentWillReceiveProps(e){this.props.children&&!e.children?this.setState({leave:!0,enter:!1,children:this.props.children}):e.children&&!this.props.children&&this.setState({leave:!1,enter:!0})}render(){let e="",t=this.props.children;return this.state.leave&&(e=`${this.props.transitionName}-leave`,this.delayedResetTransitionState(),t=this.state.children),this.state.enter&&(e=`${this.props.transitionName}-enter`,this.delayedResetTransitionState()),t?this.cloneChildrenWithClass(t,e):null}delayedResetTransitionState(){this.resetTransitionStateTimeout&&clearTimeout(this.resetTransitionStateTimeout),this.resetTransitionStateTimeout=setTimeout(()=>{this.setState({leave:!1,enter:!1})},200)}}a.displayName="TransitionGroup"})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/task_block",["require","exports","tslib","react","draft-js","classnames","dig-components/controls","typescript/libraries/comments2/src/components/comment_editor/core/editor_component"],(function(e,t,r,n,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskComponent=void 0,n=r.__importStar(n),i=r.__importDefault(i);class c extends a.EditorComponent{constructor(){super(...arguments),this.handleMouseDown=e=>{this.status.draft.readOnly||(e.stopPropagation(),e.preventDefault())},this.handleMouseUp=e=>{this.status.draft.readOnly||(this.props.blockProps.onToggleChecked(),e.stopPropagation(),e.preventDefault())},this.handleClick=e=>{this.status.draft.readOnly||(e.stopPropagation(),e.preventDefault())}}render(){const{block:e,offsetKey:t,blockProps:r}=this.props,a=0===this.props.block.getLength(),c=i.default("task-block",{checked:r.checked,readonly:this.status.draft.readOnly,"empty-block":a});return n.createElement("div",{className:c,"data-offset-key":t,"data-key":e.getKey()},n.createElement("div",{className:"task-block-checkbox-wrapper",suppressContentEditableWarning:!0,contentEditable:!1},n.createElement("div",{className:"task-block-clickable-div",onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseDown:this.handleMouseDown}),n.createElement(s.Checkbox,{className:"task-block-checkbox",checked:r.checked}),a?n.createElement("div",{className:"sc-comment-editor-placeholder task-placeholder"},this.localization.intl.formatMessage({id:"NPxYv8",defaultMessage:"Create a to-do and assign it @someone"})):null),n.createElement("div",{className:"checkable-list-item-block__text"},n.createElement(o.EditorBlock,Object.assign({},this.props))))}}t.TaskComponent=c})),define("typescript/libraries/comments2/src/components/folder_overview_editor/components/toolbar_component",["require","exports","tslib","react","prop-types","draft-js","typescript/libraries/comments2/src/components/folder_overview_editor/components/contextual_toolbar_icons","dig-components/tooltips","classnames"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarComponent=t.ToolbarOnboardingButton=t.ToolbarOpenLinkButton=t.ToolbarTaskButton=t.ToolbarDoneButton=t.ToolbarMentionButton=t.ToolbarOrderedListButton=t.ToolbarUnorderedListButton=t.ToolbarStrikeThroughButton=t.ToolbarItalicButton=t.ToolbarBoldButton=t.ToolbarSpacer=t.ToolbarDivider=void 0,n=r.__importStar(n),o=r.__importDefault(o),c=r.__importDefault(c);const l=e=>{const t=s.toolbarSvgIcons[e.icon];return n.createElement(t,{key:e.icon})},u=e=>n.createElement("div",{className:"sc-toolbar-button-tooltip-content"},n.createElement("div",{className:"sc-toolbar-button-tooltip-content__message"},e.message),e.shortcut&&n.createElement("div",{className:"sc-toolbar-button-tooltip-content__shortcut"},e.shortcut)),p=e=>n.createElement("div",null,e),d=(e,t)=>n.createElement("div",null,n.createElement("span",null,t),n.createElement("span",null," "),n.createElement("span",null,e.formatMessage({id:"u28O+d",defaultMessage:"space"})));function m(e,t=""){return c.default("toolbar-button",{"toolbar-button--active":e.active,[t]:!!t})}t.ToolbarDivider=e=>n.createElement("div",{className:"toolbar-divider",key:e.key}),t.ToolbarSpacer=e=>n.createElement("div",{className:"toolbar-spacer",key:e.key});class f extends n.Component{constructor(){super(...arguments),this.triggerRef=n.createRef()}}f.displayName="ToolbarButton";class g extends f{constructor(e){super(e),this.handleClick=e=>{e.stopPropagation(),this.props.triggers.draft.keyCommand("bold")},this.state={show:!1}}render(){const{intl:e}=this.props,t=p(this.context.getAccelShortcut("B")),r=n.createElement(u,{message:e.formatMessage({id:"fJCjRe",defaultMessage:"Bold"}),shortcut:t});return n.createElement("div",{className:m(this.props,"toolbar-button-bold"),key:"bold",onClick:this.handleClick,"aria-label":e.formatMessage({id:"fJCjRe",defaultMessage:"Bold"}),role:"button"},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.BOLD})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},r))}}t.ToolbarBoldButton=g,g.contextTypes={getAccelShortcut:o.default.func};class h extends f{constructor(e){super(e),this.handleClick=e=>{e.stopPropagation(),this.props.triggers.draft.keyCommand("italic")},this.state={show:!1}}render(){const{intl:e}=this.props,t=p(this.context.getAccelShortcut("I")),r=n.createElement(u,{message:e.formatMessage({id:"vlkaFK",defaultMessage:"Italic"}),shortcut:t});return n.createElement("div",{role:"button","aria-label":e.formatMessage({id:"vlkaFK",defaultMessage:"Italic"}),className:m(this.props,"toolbar-button-italic"),key:"italic",onClick:this.handleClick},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.ITALIC})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},r))}}t.ToolbarItalicButton=h,h.contextTypes={getAccelShortcut:o.default.func};class y extends f{constructor(e){super(e),this.handleClick=e=>{e.stopPropagation();const t=this.props.state;this.props.triggers.draft.change(i.RichUtils.toggleInlineStyle(t,"STRIKETHROUGH"))},this.state={show:!1}}render(){const{shortcutEnabled:e,intl:t}=this.props,r=e?p(this.context.getAccelShortcut("S",!0)):null,o=n.createElement(u,{message:t.formatMessage({id:"UgH/WV",defaultMessage:"Strikethrough"}),shortcut:r});return n.createElement("div",{role:"button","aria-label":t.formatMessage({id:"UgH/WV",defaultMessage:"Strikethrough"}),className:m(this.props,"toolbar-button-strike-through"),key:"strikethrough",onClick:this.handleClick},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.STRIKE_THROUGH})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},o))}}t.ToolbarStrikeThroughButton=y,y.contextTypes={getAccelShortcut:o.default.func};t.ToolbarUnorderedListButton=class extends f{constructor(e){super(e),this.handleClick=e=>{e.stopPropagation();const t=this.props.state;this.props.triggers.draft.change(i.RichUtils.toggleBlockType(t,"unordered-list-item"))},this.state={show:!1}}render(){const{intl:e}=this.props,t=n.createElement(u,{message:e.formatMessage({id:"QVI2zd",defaultMessage:"Start bulleted list"}),shortcut:d(e,"-")});return n.createElement("div",{role:"button","aria-label":e.formatMessage({id:"QVI2zd",defaultMessage:"Start bulleted list"}),className:m(this.props,"toolbar-button-unordered-list"),key:"ul",onClick:this.handleClick},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.UNORDERED_LIST})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},t))}};t.ToolbarOrderedListButton=class extends f{constructor(e){super(e),this.handleClick=e=>{e.stopPropagation();const t=this.props.state;this.props.triggers.draft.change(i.RichUtils.toggleBlockType(t,"ordered-list-item"))},this.state={show:!1}}render(){const{intl:e}=this.props,t=n.createElement(u,{message:e.formatMessage({id:"qBpbaD",defaultMessage:"Start numbered list"}),shortcut:d(e,"1.")});return n.createElement("div",{role:"button","aria-label":e.formatMessage({id:"qBpbaD",defaultMessage:"Start numbered list"}),className:m(this.props,"toolbar-button-ordered-list"),key:"ol",onClick:this.handleClick},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.UNORDERED_LIST})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},t))}};t.ToolbarMentionButton=class extends f{constructor(e){super(e),this.handleClick=e=>{e.stopPropagation(),this.props.triggers.draft.insertMacro("@")},this.state={show:!1}}render(){const{intl:e}=this.props,t=n.createElement(u,{message:e.formatMessage({id:"6elmWe",defaultMessage:"Mention someone"}),shortcut:e.formatMessage({id:"fN3cwA",defaultMessage:"@someone"})});return n.createElement("div",{role:"button","aria-label":e.formatMessage({id:"6elmWe",defaultMessage:"Mention someone"}),className:m(this.props,"toolbar-button-mention"),key:"mention",onClick:this.handleClick},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.MENTION})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},t))}};class v extends n.Component{constructor(){super(...arguments),this.handleClick=()=>{this.props.onDone()}}render(){const{intl:e}=this.props;return n.createElement("div",{role:"button","aria-label":e.formatMessage({id:"HGK/k8",defaultMessage:"Done"}),className:m(this.props,"toolbar-button-done"),key:"done",onClick:this.handleClick},e.formatMessage({id:"HGK/k8",defaultMessage:"Done"}))}}t.ToolbarDoneButton=v,v.displayName="ToolbarDoneButton";t.ToolbarTaskButton=class extends f{constructor(e){super(e),this.handleClick=e=>{this.props.triggers.task.toggleTaskBlock(null),e.stopPropagation()},this.state={show:!1}}render(){const{intl:e}=this.props,t=n.createElement(u,{message:e.formatMessage({id:"ALfhls",defaultMessage:"Create to-do"}),shortcut:d(e,"[]")});return n.createElement("div",{role:"button","aria-label":e.formatMessage({id:"ALfhls",defaultMessage:"Create to-do"}),className:m(this.props,"toolbar-button-task"),key:"task",onClick:this.handleClick},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.TASK})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},t))}};class b extends f{constructor(e){super(e),this.state={show:!1}}render(){const{intl:e,shortcutEnabled:t}=this.props,r=t?p(this.context.getAccelShortcut("K")):null,o=n.createElement(u,{message:e.formatMessage({id:"WMGEFi",defaultMessage:"Create link"}),shortcut:r});return n.createElement("div",{role:"button","aria-label":e.formatMessage({id:"WMGEFi",defaultMessage:"Create link"}),className:m(this.props,"toolbar-button-link"),key:"link",onClick:this.props.onClick},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.LINK})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},o))}}t.ToolbarOpenLinkButton=b,b.contextTypes={getAccelShortcut:o.default.func};t.ToolbarOnboardingButton=class extends f{constructor(e){super(e),this.state={show:!1}}render(){const{intl:e}=this.props,t=n.createElement(u,{message:e.formatMessage({id:"cwUCX9",defaultMessage:"Folder examples"})});return n.createElement("div",{role:"button",className:m(this.props,"toolbar-button-onboarding"),key:"link","aria-label":e.formatMessage({id:"cwUCX9",defaultMessage:"Folder examples"}),onClick:this.props.onClick},n.createElement("div",{onMouseOver:()=>this.setState({show:!0}),onMouseLeave:()=>this.setState({show:!1}),ref:this.triggerRef},n.createElement(l,{icon:s.ToolbarActionIcon.ONBOARDING})),n.createElement(a.Tooltip.Control,{className:"sc-toolbar-tooltip",placement:"top",open:this.state.show,triggerRef:this.triggerRef},t))}};class _ extends n.Component{constructor(){super(...arguments),this.onMouseDown=e=>{e.stopPropagation(),e.preventDefault()},this.setToolbarComponentRef=e=>{this.props.setToolbarComponentRef&&this.props.setToolbarComponentRef(e)}}render(){const{intl:e}=this.props,t=c.default("sc-toolbar-component",this.props.className);return n.createElement("div",{className:t,role:"group","aria-label":e.formatMessage({id:"El6O0Q",defaultMessage:"toolbar"}),style:this.props.position,ref:this.setToolbarComponentRef,onMouseDown:this.onMouseDown,key:"toolbar"},this.props.children)}}t.ToolbarComponent=_,_.displayName="ToolbarComponent"})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/accessibility",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityLayer=void 0;class s extends i.BaseLayer{setCaptureTabIndent(e){return e.innerProps.evt}handleTabIndent(e){const{innerProps:{evt:t}}=e;"Escape"===t.key?e.triggers.accessibility.setCaptureTab(!1):9!==t.which&&(e.status.accessibility.captureTab||e.triggers.accessibility.setCaptureTab(!0))}}t.AccessibilityLayer=s,r.__decorate([n.plug(o.intoFolderOverview.accessibility.on.setCaptureTab.update.captureTab)],s.prototype,"setCaptureTabIndent",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.key)],s.prototype,"handleTabIndent",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/block_auto_format",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js"],(function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockAutoFormatLayer=void 0;const a=(e,t)=>s.Modifier.setBlockType(e,s.SelectionState.createEmpty(t),"unordered-list-item"),c=(e,t)=>s.Modifier.setBlockType(e,s.SelectionState.createEmpty(t),"ordered-list-item"),l=(e,t,r)=>{const n=s.Modifier.setBlockType(e,s.SelectionState.createEmpty(t),"task-block");return s.Modifier.setBlockData(n,s.SelectionState.createEmpty(t),{checked:r})},u={"-":a,"—":a,"--":a,"*":a,"1.":c,"1)":c,"1.)":c,"[]":(e,t)=>l(e,t,!1),"[ ]":(e,t)=>l(e,t,!1),"[x]":(e,t)=>l(e,t,!0)};class p extends i.BaseLayer{constructor(e=u){super(),this.prefixFormatMap=e}handleSpaceAndTriggerFormat(e){const{innerProps:{evt:t,value:r}}=e,n=r.getSelection(),o=r.getCurrentContent(),i=o.getBlockMap().get(n.getStartKey());if(i&&32===t.which){const e=i.getText().slice(0,n.getStartOffset());if(e in this.prefixFormatMap){const n=i.getKey(),a=this.prefixFormatMap[e],c=s.SelectionState.createEmpty(n).merge({anchorOffset:0,focusOffset:e.length}),l=a(s.Modifier.removeRange(o,c,"backward"),n);t.preventDefault();const u=s.EditorState.push(r,l,"change-block-type");return s.EditorState.forceSelection(u,s.SelectionState.createEmpty(n))}}}}t.BlockAutoFormatLayer=p,r.__decorate([n.plug(o.intoFolderOverview.draft.on.key.update.editorState)],p.prototype,"handleSpaceAndTriggerFormat",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/contextual_toolbar",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualToolbarLayer=void 0;class s extends i.BaseLayer{updateEditorState(e){const t=e.innerProps.evt,r=t.getSelection().getHasFocus()&&!t.getSelection().isCollapsed();e.triggers.contextualToolbar.updateVisibility(r)}updateVisibility(e){return e.innerProps.evt}resetLinkPromptWhenToolbarShows(e){e.innerProps.evt&&e.triggers.hyperlink.updateLinkPromptProps(null)}}t.ContextualToolbarLayer=s,r.__decorate([n.plug(o.intoFolderOverview.draft.on.change)],s.prototype,"updateEditorState",null),r.__decorate([n.plug(o.intoFolderOverview.contextualToolbar.on.updateVisibility.update.isVisible)],s.prototype,"updateVisibility",null),r.__decorate([n.plug(o.intoFolderOverview.contextualToolbar.on.updateVisibility)],s.prototype,"resetLinkPromptWhenToolbarShows",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/draft_callback",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js"],(function(e,t,r,n,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DraftCallbackLayer=void 0;class a extends i.BaseLayer{constructor(e){super(),this.options=e}triggerInit(e){const t=e.status.folderOverview.editorState;e.innerProps.prevStatus.folderOverview.editorState!==t&&(e.triggers.draft.init(null),e.triggers.draft.change(t))}callOnContentChange(e){const t=e.innerProps.value;this.options.onEditorStateChange(t)}handleTabIndent(e){const{innerProps:{evt:t}}=e,r=e.innerProps.value;if(9===t.which&&e.status.accessibility.captureTab){const e=s.RichUtils.onTab(t,r,4);if(t.preventDefault(),e!==r)return e}}}t.DraftCallbackLayer=a,r.__decorate([n.plug(o.intoFolderOverview.folderOverview)],a.prototype,"triggerInit",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.change.update.editorState)],a.prototype,"callOnContentChange",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.key.update.editorState)],a.prototype,"handleTabIndent",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/fixed_toolbar",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js","typescript/libraries/comments2/src/components/comment_editor/draft_utils","typescript/libraries/comments2/src/components/folder_overview_editor/components/fixed_toolbar_component"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedToolbarLayer=void 0;class l extends i.BaseLayer{onDraftChange(e){const t=e.innerProps.evt,r=a.getSelectionInlineStyle(t),n=a.getSelectionBlockTypes(t),o={bold:r.BOLD,strikethrough:r.STRIKETHROUGH,italic:r.ITALIC,task:"task-block"===n,orderedList:"ordered-list-item"===n,unorderedList:"unordered-list-item"===n};e.triggers.fixedToolbar.updateActiveFormatting(o)}onDraftFocus(e){this.updateToolbarVisibility(e.status,e.triggers)}onDraftBlur(e){this.updateToolbarVisibility(e.status,e.triggers)}updateToolbarVisibility(e,t){t.globalStyle.setClassName({className:"fixed-toolbar-visible",value:c.isFixedToolbarVisible(e)})}updateActiveFormatting(e){return e.innerProps.evt}handleKeyCommand(e){const{evt:t,value:r}=e.innerProps;return"strikethrough"===t?s.RichUtils.toggleInlineStyle(r,"STRIKETHROUGH"):void 0}}t.FixedToolbarLayer=l,r.__decorate([n.plug(o.intoFolderOverview.draft.on.change)],l.prototype,"onDraftChange",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.focus)],l.prototype,"onDraftFocus",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.blur)],l.prototype,"onDraftBlur",null),r.__decorate([n.plug(o.intoFolderOverview.fixedToolbar.on.updateActiveFormatting.update.activeFormatting)],l.prototype,"updateActiveFormatting",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.keyCommand.update.editorState)],l.prototype,"handleKeyCommand",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/global_style",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalStyleLayer=void 0;class s extends i.BaseLayer{hidePlaceholderWhenContentEmpty(e){const t=e.innerProps.evt.getCurrentContent(),r=!t.hasText()&&"unstyled"===t.getBlockMap().first().getType();e.triggers.globalStyle.setClassName({className:"empty-content",value:r})}updateClassNames(e){const t=e.status.globalStyle.classNames,{className:r,value:n}=e.innerProps.evt;return t[r]=n,t}}t.GlobalStyleLayer=s,r.__decorate([n.plug(o.intoFolderOverview.draft.on.change)],s.prototype,"hidePlaceholderWhenContentEmpty",null),r.__decorate([n.plug(o.intoFolderOverview.globalStyle.on.setClassName.update.classNames)],s.prototype,"updateClassNames",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/hyperlink",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js","typescript/libraries/comments2/src/components/folder_overview_editor/components/link_span_component","typescript/libraries/comments2/src/components/utils/url_utils"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HyperlinkLayer=void 0;class l extends i.BaseLayer{constructor(e){super(),this.options=e}updateLinkPrompt(e){return e.innerProps.evt}maybeCreateLinkOnPaste(e){const t=e.innerProps.evt.trim();return c.isValidURL(t)?this.createLinkInEditorState(Object.assign(Object.assign({},e),{innerProps:Object.assign(Object.assign({},e.innerProps),{evt:t})})):e.status.draft.editorState}createLink(e){const t=e.innerProps.evt.trim();return this.createLinkInEditorState(Object.assign(Object.assign({},e),{innerProps:Object.assign(Object.assign({},e.innerProps),{evt:t})})),null}createLinkInEditorState(e){const t=e.innerProps.evt.trim(),r=e.status.draft.editorState;let n=r.getCurrentContent(),o=r.getSelection();o.isCollapsed()&&(n=s.Modifier.insertText(n,o,t),o=o.merge({focusOffset:o.getStartOffset()+t.length}));const i=n.createEntity("LINK","MUTABLE",{url:t}),a=i.getLastCreatedEntityKey(),c=s.EditorState.set(r,{currentContent:i});let l=s.RichUtils.toggleLink(c,o,a),u=l.getSelection();const p=u.getFocusOffset()<u.getAnchorOffset()?u.getAnchorOffset():u.getFocusOffset();return u=u.merge({anchorOffset:p,focusOffset:p}),l=s.EditorState.forceSelection(l,u),e.triggers.draft.change(l),l}openLink(e){this.options.onOpenLink(e.innerProps.evt)}addDecoratorsOnChange(e){const{value:t}=e.innerProps;return[...t,{strategy:function(e,t,r){e.findEntityRanges((function(e){const t=e.getEntity();return null!==t&&"LINK"===r.getEntity(t).getType()}),t)},props:{readOnly:e.status.draft.readOnly,onOpenLink:e.triggers.hyperlink.openLink},component:a.LinkSpanComponent}]}handleKeyCommand(e){const{evt:t}=e.innerProps;"create-link"===t&&e.triggers.hyperlink.updateLinkPromptProps({top:0,left:0})}}t.HyperlinkLayer=l,r.__decorate([n.plug(o.intoFolderOverview.hyperlink.on.updateLinkPromptProps.update.linkPromptProps)],l.prototype,"updateLinkPrompt",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.pasteText.update.editorState)],l.prototype,"maybeCreateLinkOnPaste",null),r.__decorate([n.plug(o.intoFolderOverview.hyperlink.on.createLink.update.linkPromptProps)],l.prototype,"createLink",null),r.__decorate([n.plug(o.intoFolderOverview.hyperlink.on.openLink)],l.prototype,"openLink",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.init.update.decorators)],l.prototype,"addDecoratorsOnChange",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.keyCommand)],l.prototype,"handleKeyCommand",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/inline_toolbar",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineToolbarLayer=void 0;class s extends i.BaseLayer{onDraftChange(e){const t=e.innerProps.evt;this.updateToolbarOnEditorStateChanges(t,e.triggers.inlineToolbar.updateProps),this.hidePlaceholderWhenContentEmpty(t,e.triggers.globalStyle.setClassName)}updateVisibility(e){return e.innerProps.evt}updateToolbarOnEditorStateChanges(e,t){const r=e.getSelection(),n=e.getCurrentContent().getBlockForKey(r.getStartKey()),o=n&&""==n.getText(),i="task-block"===n.getType();t({isVisible:r.getHasFocus()&&r.isCollapsed()&&o,showOnlyMention:i})}hidePlaceholderWhenContentEmpty(e,t){t({className:"editor-has-focus",value:e.getSelection().getHasFocus()})}}t.InlineToolbarLayer=s,r.__decorate([n.plug(o.intoFolderOverview.draft.on.change)],s.prototype,"onDraftChange",null),r.__decorate([n.plug(o.intoFolderOverview.inlineToolbar.on.updateProps.update.props)],s.prototype,"updateVisibility",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/mention_share_flow",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js","typescript/libraries/comments2/src/components/folder_overview_editor/utils"],(function(e,t,r,n,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MentionShareFlowLayer=t.DefaultMentionShareFlowHandlers=void 0,t.DefaultMentionShareFlowHandlers={onShare:()=>{},onMention:()=>new Promise(e=>e({mentionedUserHasAccess:!0,shouldShowSharePopup:!1}))};class c extends i.BaseLayer{constructor(e){super(),this.options=e}addPendingFlagToMention(e){const{editorState:t}=e.status.draft,{mentionKey:r,mentionData:n,user:o}=e.innerProps.evt,i=this.options.onMention(n,r),s=a.mergeMentionEntityData(t,r,!0);e.triggers.draft.change(s),i.then(i=>{if(i.shouldShowSharePopup)e.triggers.mentionShareFlow.updatePopupProps({mentionKey:r,mentionData:n,user:o});else if(i.mentionedUserHasAccess){const n=a.mergeMentionEntityData(t,r,!1);e.triggers.draft.change(n)}})}updatePopupProps(e){return e.triggers.draft.readOnly(!!e.innerProps.evt),e.innerProps.evt}onShare(e){const{mentionKey:t,mentionData:r,user:n}=e.innerProps.evt;this.options.onShare(r,t,()=>{e.triggers.mentionShareFlow.onShareCompleted({mentionKey:t,mentionData:r,user:n})})}onShareCompleted(e){const{mentionKey:t}=e.innerProps.evt,{editorState:r}=e.status.draft,n=a.updateMentionEntityState(t,r),o=s.EditorState.forceSelection(n,n.getSelection());e.triggers.draft.change(o)}updateReadonly(e){return e.innerProps.evt}closePopupOnChange(e){e.innerProps.prevStatus.draft.editorState.getCurrentContent()!==e.status.draft.editorState.getCurrentContent()&&e.status.mentionShareFlow.popupProps&&e.triggers.mentionShareFlow.updatePopupProps(null)}}t.MentionShareFlowLayer=c,r.__decorate([n.plug(o.intoFolderOverview.mentionSuggestions.on.onApplyMentionToRange)],c.prototype,"addPendingFlagToMention",null),r.__decorate([n.plug(o.intoFolderOverview.mentionShareFlow.on.updatePopupProps.update.popupProps)],c.prototype,"updatePopupProps",null),r.__decorate([n.plug(o.intoFolderOverview.mentionShareFlow.on.onShare)],c.prototype,"onShare",null),r.__decorate([n.plug(o.intoFolderOverview.mentionShareFlow.on.onShareCompleted)],c.prototype,"onShareCompleted",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.readOnly.update.readOnly)],c.prototype,"updateReadonly",null),r.__decorate([n.plug(o.intoFolderOverview.draft)],c.prototype,"closePopupOnChange",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/plain_text_snippet",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlainTextSnippetLayer=void 0;class s extends i.BaseLayer{updateSnippet(e){const t=e.innerProps.evt.getCurrentContent(),{draft:r,macro:n,hyperlink:o,mentionShareFlow:i}=e.status,s=!(!t.hasText()&&!r.isComposing||r.isFocused||n.active||i.popupProps||o.linkPromptProps);e.triggers.plainTextSnippet.update(s)}updateSnippetValue(e){const t=e.innerProps.evt;return e.triggers.globalStyle.setClassName({className:"show-plain-text-snippet",value:t}),t}}t.PlainTextSnippetLayer=s,r.__decorate([n.plug(o.intoFolderOverview.draft.on.change)],s.prototype,"updateSnippet",null),r.__decorate([n.plug(o.intoFolderOverview.plainTextSnippet.on.update.update.show)],s.prototype,"updateSnippetValue",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold",["require","exports","typescript/libraries/comments2/src/components/comment_editor/layers/scaffold","typescript/libraries/comments2/src/components/folder_overview_editor/types","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intoFolderOverview=t.createDefaultStatus=void 0,t.createDefaultStatus=function(e){return r.filterSupportedFeatures(Object.assign(Object.assign({},r.getCommentEditorDefaultStatus()),{contextualToolbar:{isVisible:!1,updateLinkPromptProps:!1},inlineToolbar:{isVisible:!1},hyperlink:{},globalStyle:{classNames:{}},folderOverview:{},task:{},mentionShareFlow:{},accessibility:{captureTab:!1},fixedToolbar:{activeFormatting:{}},plainTextSnippet:{show:!1}}),e)},t.intoFolderOverview=o.scaffold(n.folderOverviewNames)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/layers/task",["require","exports","tslib","typescript/libraries/comments2/src/components/comment_editor/core/class_decorators","typescript/libraries/comments2/src/components/folder_overview_editor/layers/scaffold","typescript/libraries/comments2/src/components/comment_editor/core/types/index","draft-js","typescript/libraries/comments2/src/components/folder_overview_editor/components/task_block","typescript/libraries/comments2/src/components/comment_editor/draft_utils"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskLayer=void 0;class l extends i.BaseLayer{constructor(e){super(),this.taskOptions=e}toggleTaskBlock(e){const{editorState:t}=e.status.draft,r=t.getCurrentContent(),n=c.getSelectedBlocksList(t),o={};n.forEach(e=>{if(e){const t=e.getKey(),r=e.removeIn(["data","checked"]),n="task-block"!==e.get("type")?"task-block":"unstyled";o[t]=r.set("type",n)}});const i=r.getBlockMap().merge(o),a=s.EditorState.push(t,r.merge({blockMap:i}),"change-block-type");e.triggers.draft.change(a)}setTaskState(e){const{key:t,checked:r}=e.innerProps.evt,n=e.status.draft.editorState;e.triggers.draft.change(c.mergeBlockDataByKey(n,t,{checked:r},!1)),this.taskOptions.onTaskChecked(t,r)}addBlockFn(e){const{value:t}=e.innerProps;return Object.assign(Object.assign({},t),{"task-block":t=>{const r=t.getData().get("checked"),n={onToggleChecked:()=>{e.triggers.task.setTaskState({checked:!r,key:t.getKey()})},checked:r};return{component:a.TaskComponent,props:n}}})}}t.TaskLayer=l,r.__decorate([n.plug(o.intoFolderOverview.task.on.toggleTaskBlock)],l.prototype,"toggleTaskBlock",null),r.__decorate([n.plug(o.intoFolderOverview.task.on.setTaskState)],l.prototype,"setTaskState",null),r.__decorate([n.plug(o.intoFolderOverview.draft.on.init.update.blockRenderers)],l.prototype,"addBlockFn",null)})),define("typescript/libraries/comments2/src/components/folder_overview_editor/types",["require","exports","typescript/libraries/comments2/src/components/comment_editor/types"],(function(e,t,r){"use strict";var n,o,i,s,a,c,l,u,p,d;Object.defineProperty(t,"__esModule",{value:!0}),t.folderOverviewNames=t.FolderOverviewNames=t.AccessibilityNames=t.GlobalStyleNames=t.MentionShareFlowNames=t.TaskNames=t.HyperlinkNames=t.PlainTextSnippetNames=t.FixedToolbarNames=t.InlineToolbarNames=t.ContextualToolbarNames=void 0,(n=t.ContextualToolbarNames||(t.ContextualToolbarNames={})).evts=["updateVisibility","toggleCommand"],n.values=["isVisible"],(o=t.InlineToolbarNames||(t.InlineToolbarNames={})).evts=["updateProps"],o.values=["props"],(i=t.FixedToolbarNames||(t.FixedToolbarNames={})).evts=["updateActiveFormatting"],i.values=["activeFormatting"],(s=t.PlainTextSnippetNames||(t.PlainTextSnippetNames={})).evts=["update"],s.values=["show"],(a=t.HyperlinkNames||(t.HyperlinkNames={})).evts=["updateLinkPromptProps","createLink","openLink"],a.values=["linkPromptProps"],(c=t.TaskNames||(t.TaskNames={})).evts=["toggleTaskBlock","setTaskState"],c.values=[],(l=t.MentionShareFlowNames||(t.MentionShareFlowNames={})).evts=["updatePopupProps","onShare","onShareCompleted"],l.values=["popupProps"],(u=t.GlobalStyleNames||(t.GlobalStyleNames={})).evts=["setClassName"],u.values=["classNames"],(p=t.AccessibilityNames||(t.AccessibilityNames={})).evts=["setCaptureTab"],p.values=["captureTab"],(d=t.FolderOverviewNames||(t.FolderOverviewNames={})).evts=[],d.values=["editorState"],t.folderOverviewNames=Object.assign(Object.assign({},r.commentEditorNames),{folderOverview:t.FolderOverviewNames,contextualToolbar:t.ContextualToolbarNames,inlineToolbar:t.InlineToolbarNames,hyperlink:t.HyperlinkNames,fixedToolbar:t.FixedToolbarNames,globalStyle:t.GlobalStyleNames,plainTextSnippet:t.PlainTextSnippetNames,task:t.TaskNames,mentionShareFlow:t.MentionShareFlowNames,accessibility:t.AccessibilityNames})})),define("typescript/libraries/comments2/src/components/folder_overview_editor/utils",["require","exports","draft-js","typescript/libraries/comments2/src/components/comment_editor/draft_utils"],(function(e,t,r,n){"use strict";function o(e,t,o){const i=e.getCurrentContent().mergeEntityData(t,{pending:o}),s=r.EditorState.push(e,i,"apply-entity"),a=i.getSelectionAfter(),c=a.merge({focusOffset:a.getFocusOffset()+1}),l=r.Modifier.removeRange(r.Modifier.insertText(i,a," "),c,"backward"),u=n.replaceContent(s,l);return r.EditorState.forceSelection(u,s.getSelection())}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMentionEntityData=t.updateMentionEntityState=t.getOffsetParent=void 0,t.getOffsetParent=function(e,t){for(;e&&!e.classList.contains(t);)e=e.offsetParent;return e},t.updateMentionEntityState=function(e,t){const r=t.getCurrentContent();let n;try{n=r.getEntity(e)}catch(e){}return n&&"mention"===n.getType()?o(t,e,!1):t},t.mergeMentionEntityData=o})),define("typescript/component_libraries/spaces-components/src/last_edit/index",["require","exports","tslib","typescript/component_libraries/spaces-components/src/last_edit/last_edit_component"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.__exportStar(n,t)})),define("typescript/component_libraries/spaces-components/src/last_edit/icons",["require","exports","tslib","react"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarWarningIcon=t.LastEditTimeIcon=void 0,n=r.__importDefault(n),t.LastEditTimeIcon=function(){return n.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("g",{clipPath:"url(#clip0)"},n.default.createElement("circle",{cx:"8",cy:"7.5",r:"6.25",stroke:"#A5A9AF",strokeWidth:"1.5"}),n.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 4H7V7V7.5V8.5H11V7H8.5V4Z",fill:"#A5A9AF"})),n.default.createElement("defs",null,n.default.createElement("clipPath",{id:"clip0"},n.default.createElement("rect",{width:"16",height:"16",fill:"white"}))))},t.AvatarWarningIcon=function(){return n.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12ZM11.25 12.75L11 8.2501L13 8.25L12.75 12.75H11.25ZM11.0001 14.75C11.0001 14.1977 11.4478 13.75 12.0001 13.75C12.5524 13.75 13.0001 14.1977 13.0001 14.75C13.0001 15.3023 12.5524 15.75 12.0001 15.75C11.4478 15.75 11.0001 15.3023 11.0001 14.75Z",fill:"#FF8E21"}))}})),define("typescript/component_libraries/spaces-components/src/last_edit/last_edit_component",["require","exports","tslib","react","typescript/component_libraries/spaces-components/src/last_edit/icons","spectrum/avatar/index","spectrum/popover/popover","spectrum/popover/popover_content","spectrum/button/index"],(function(e,t,r,n,o,i,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LastEditComponent=void 0,n=r.__importDefault(n);class l extends n.default.PureComponent{constructor(e){super(e),this.renderAvatar=(e,t)=>{const r=e.toUpperCase(),s=t?n.default.createElement(i.Avatar,{size:40,src:t,variant:"normal"}):n.default.createElement(i.AvatarInitials,{avatarSize:40,backgroundColor:i.avatarColorForUserIdentifier(r),variant:"normal"},r);return n.default.createElement("div",{className:"cb-last-edit__avatar-wrapper"},n.default.createElement("div",{className:"cb-last-edit__avatar-clipping-circle"}),n.default.createElement(o.AvatarWarningIcon,null),s)}}renderConflictPopover(){const{conflictPopup:e}=this.props;if(!e)return null;const{title:t,message:r,dismissButtonLabel:o,userInitials:i,userPhotoUrl:l,onDismissHandler:u,position:p,popoverContentRef:d}=e;return n.default.createElement(s.Popover,{className:"cb-conflict-popover"},n.default.createElement(a.PopoverContent,{className:"cb-conflict-popover-content",position:p,isRevealed:!0},n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"cb-conflict-popover-content__inner-wrapper",ref:d,tabIndex:-1},this.renderAvatar(i,l),n.default.createElement("div",{className:"cb-conflict-popover__text-wrapper"},n.default.createElement("div",{className:"cb-conflict-popover__title"},t),n.default.createElement("div",{className:"cb-conflict-popover__message"},r))),n.default.createElement(c.Button,{className:"cb-conflict-popover__dismiss-button",variant:"secondary",onClick:u},o))))}render(){const{lastEditMessage:e,userEditingMessage:t,isEditorFocused:r}=this.props,i=!!t&&r;return n.default.createElement("div",{className:"cb-last-edit"},n.default.createElement("div",{className:"cb-last-edit__message-wrapper"},!i&&n.default.createElement(o.LastEditTimeIcon,null),n.default.createElement("div",{className:"cb-last-edit__message"},i?t:e)),this.renderConflictPopover())}}t.LastEditComponent=l,l.displayName="LastEditComponent"})),(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("immutable"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("prod_assets_web_modules/draft-js",["immutable","react","react-dom"],t):"object"==typeof exports?exports.Draft=t(require("immutable"),require("react"),require("react-dom")):e.Draft=t(e.Immutable,e.React,e.ReactDOM)})(window,(function(e,t,r){return(function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=79)})([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(n(t),!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(s=new Error(t.replace(/%s/g,(function(){return String(o[a++])})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(91),s=r(32),a=r(93),c=r(23),l=r(0),u=l.OrderedSet,p=l.Record,d=l.Stack,m=l.OrderedMap,f=l.List,g=p({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:d(),selection:null,treeMap:null,undoStack:d()}),h=(function(){t.createEmpty=function(e){return this.createWithText("",e)},t.createWithText=function(e,r){return t.createWithContent(s.createFromText(e),r)},t.createWithContent=function(e,r){if(0===e.getBlockMap().count())return t.createEmpty(r);var n=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:d(),redoStack:d(),decorator:r||null,selection:c.createEmpty(n)})},t.create=function(e){var r=e.currentContent,o=n({},e,{treeMap:v(r,e.decorator),directionMap:a.getDirectionMap(r)});return new t(new g(o))},t.fromJS=function(e){return new t(new g(n({},e,{directionMap:null!=e.directionMap?m(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?u(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?s.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?d(e.redoStack.map((function(e){return s.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new c(e.selection):e.selection,treeMap:null!=e.treeMap?m(e.treeMap).map((function(e){return f(e).map((function(e){return i.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?d(e.undoStack.map((function(e){return s.fromJS(e)}))):e.undoStack,currentContent:s.fromJS(e.currentContent)})))},t.set=function(e,r){return new t(e.getImmutable().withMutations((function(t){var n=t.get("decorator"),o=n;null===r.decorator?o=null:r.decorator&&(o=r.decorator);var s=r.currentContent||e.getCurrentContent();if(o!==n){var a,c=t.get("treeMap");return a=o&&n?(function(e,t,r,n,o){return r.merge(t.toSeq().filter((function(t){return n.getDecorations(t,e)!==o.getDecorations(t,e)})).map((function(t){return i.generate(e,t,n)})))})(s,s.getBlockMap(),c,o,n):v(s,o),void t.merge({decorator:o,treeMap:a,nativelyRenderedContent:null})}s!==e.getCurrentContent()&&t.set("treeMap",(function(e,t,r,n){var o=e.getCurrentContent().set("entityMap",r),s=o.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==s.get(t)})).map((function(e){return i.generate(o,e,n)})))})(e,s.getBlockMap(),s.getEntityMap(),o)),t.merge(r)})))};var e=t.prototype;function t(e){o(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,r){return t.set(e,{inlineStyleOverride:r})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),r=this.getSelection();return r.isCollapsed()?(function(e,t){var r=t.getStartKey(),n=t.getStartOffset(),o=e.getBlockForKey(r);return n>0?o.getInlineStyleAt(n-1):o.getLength()?o.getInlineStyleAt(0):_(e,r)})(t,r):(function(e,t){var r=t.getStartKey(),n=t.getStartOffset(),o=e.getBlockForKey(r);return n<o.getLength()?o.getInlineStyleAt(n):n>0?o.getInlineStyleAt(n-1):_(e,r)})(t,r)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return y(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),y(e,t,!0)},t.moveSelectionToEnd=function(e){var r=e.getCurrentContent().getLastBlock(),n=r.getKey(),o=r.getLength();return t.acceptSelection(e,new c({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:!1}))},t.moveFocusToEnd=function(e){var r=t.moveSelectionToEnd(e);return t.forceSelection(r,r.getSelection())},t.push=function(e,r,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===r)return e;var i=a.getDirectionMap(r,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:r,directionMap:i,lastChangeType:n,selection:r.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var s=e.getSelection(),c=e.getCurrentContent(),l=e.getUndoStack(),u=r;s!==c.getSelectionAfter()||b(e,n)?(l=l.push(c),u=u.set("selectionBefore",s)):"insert-characters"!==n&&"backspace-character"!==n&&"delete-character"!==n||(u=u.set("selectionBefore",c.getSelectionBefore()));var p=e.getInlineStyleOverride(),m=["adjust-depth","change-block-type","split-block"];-1===m.indexOf(n)&&(p=null);var f={currentContent:u,directionMap:i,undoStack:l,redoStack:d(),lastChangeType:n,selection:r.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return t.set(e,f)},t.undo=function(e){if(!e.getAllowUndo())return e;var r=e.getUndoStack(),n=r.peek();if(!n)return e;var o=e.getCurrentContent(),i=a.getDirectionMap(n,e.getDirectionMap());return t.set(e,{currentContent:n,directionMap:i,undoStack:r.shift(),redoStack:e.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var r=e.getRedoStack(),n=r.peek();if(!n)return e;var o=e.getCurrentContent(),i=a.getDirectionMap(n,e.getDirectionMap());return t.set(e,{currentContent:n,directionMap:i,undoStack:e.getUndoStack().push(o),redoStack:r.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:n.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t})();function y(e,t,r){return h.set(e,{selection:t,forceSelection:r,nativelyRenderedContent:null,inlineStyleOverride:null})}function v(e,t){return e.getBlockMap().map((function(r){return i.generate(e,r,t)})).toOrderedMap()}function b(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function _(e,t){var r=e.getBlockMap().reverse().skipUntil((function(e,r){return r===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return r?r.getInlineStyleAt(r.getLength()-1):u()}e.exports=h},function(e,t,r){"use strict";var n=r(6),o=r(81),i=r(82),s=r(84),a=r(21),c=r(0),l=r(87),u=r(88),p=r(1),d=r(44),m=r(42),f=r(89),g=r(90),h=c.OrderedSet,y={replaceText:function(e,t,r,o,i){var s=m(e,t),a=f(s,t),c=n.create({style:o||h(),entity:i||null});return u(a,a.getSelectionAfter(),r,c)},insertText:function(e,t,r,n,o){return t.isCollapsed()||p(!1,"Target range must be collapsed for `insertText`."),y.replaceText(e,t,r,n,o)},moveText:function(e,t,r){var n=a(e,t),o=y.removeRange(e,t,"backward");return y.replaceWithFragment(o,r,n)},replaceWithFragment:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",o=m(e,t),i=f(o,t);return l(i,i.getSelectionAfter(),r,n)},removeRange:function(e,t,r){var n,o,i,a;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),n=t.getAnchorKey(),o=t.getFocusKey(),i=e.getBlockForKey(n),a=e.getBlockForKey(o);var c=t.getStartOffset(),l=t.getEndOffset(),u=i.getEntityAt(c),p=a.getEntityAt(l-1);if(n===o&&u&&u===p){var d=s(e.getEntityMap(),i,a,t,r);return f(e,d)}var g=m(e,t);return f(g,t)},splitBlock:function(e,t){var r=m(e,t),n=f(r,t);return g(n,n.getSelectionAfter())},applyInlineStyle:function(e,t,r){return o.add(e,t,r)},removeInlineStyle:function(e,t,r){return o.remove(e,t,r)},setBlockType:function(e,t,r){return d(e,t,(function(e){return e.merge({type:r,depth:0})}))},setBlockData:function(e,t,r){return d(e,t,(function(e){return e.merge({data:r})}))},mergeBlockData:function(e,t,r){return d(e,t,(function(e){return e.merge({data:e.getData().merge(r)})}))},applyEntity:function(e,t,r){var n=m(e,t);return i(n,t,r)}};e.exports=y},function(e,t,r){"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},function(e,t,r){"use strict";var n=r(100),o=r(103),i=r(104),s=r(105);function a(e,t,r,n){if(e===r)return!0;if(!r.startsWith(e))return!1;var i=r.slice(e.length);return!!t&&(i=n?n(i):i,o.contains(i,t))}function c(e){return"Windows"===n.platformName?e.replace(/^\s*NT/,""):e}var l={isBrowser:function(e){return a(n.browserName,n.browserFullVersion,e)},isBrowserArchitecture:function(e){return a(n.browserArchitecture,null,e)},isDevice:function(e){return a(n.deviceName,null,e)},isEngine:function(e){return a(n.engineName,n.engineVersion,e)},isPlatform:function(e){return a(n.platformName,n.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return a(n.platformArchitecture,null,e)}};e.exports=i(l,s)},function(e,t,r){"use strict";var n=r(0),o=n.Map,i=n.OrderedSet,s=n.Record,a=i(),c={style:a,entity:null},l=(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=n.prototype;return s.getStyle=function(){return this.get("style")},s.getEntity=function(){return this.get("entity")},s.hasStyle=function(e){return this.getStyle().includes(e)},n.applyStyle=function(e,t){var r=e.set("style",e.getStyle().add(t));return n.create(r)},n.removeStyle=function(e,t){var r=e.set("style",e.getStyle().remove(t));return n.create(r)},n.applyEntity=function(e,t){var r=e.getEntity()===t?e:e.set("entity",t);return n.create(r)},n.create=function(e){if(!e)return u;var t=o({style:a,entity:null}).merge(e),r=p.get(t);if(r)return r;var i=new n(t);return p=p.set(t,i),i},n.fromJS=function(e){var t=e.style,r=e.entity;return new n({style:Array.isArray(t)?i(t):t,entity:Array.isArray(r)?i(r):r})},n})(s(c)),u=new l,p=o([[o(c),u]]);l.EMPTY=u,e.exports=l},function(e,t,r){"use strict";var n=r(6),o=r(18),i=r(0),s=i.List,a=i.Map,c=i.OrderedSet,l=i.Record,u=i.Repeat,p=c(),d={parent:null,characterList:s(),data:a(),depth:0,key:"",text:"",type:"unstyled",children:s(),prevSibling:null,nextSibling:null},m=function(e,t){return e.getStyle()===t.getStyle()},f=function(e,t){return e.getEntity()===t.getEntity()},g=function(e){if(!e)return e;var t=e.characterList,r=e.text;return r&&!t&&(e.characterList=s(u(n.EMPTY,r.length))),e},h=(function(e){var t,r;function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return e.call(this,g(t))||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getKey=function(){return this.get("key")},i.getType=function(){return this.get("type")},i.getText=function(){return this.get("text")},i.getCharacterList=function(){return this.get("characterList")},i.getLength=function(){return this.getText().length},i.getDepth=function(){return this.get("depth")},i.getData=function(){return this.get("data")},i.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():p},i.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},i.getChildKeys=function(){return this.get("children")},i.getParentKey=function(){return this.get("parent")},i.getPrevSiblingKey=function(){return this.get("prevSibling")},i.getNextSiblingKey=function(){return this.get("nextSibling")},i.findStyleRanges=function(e,t){o(this.getCharacterList(),m,e,t)},i.findEntityRanges=function(e,t){o(this.getCharacterList(),f,e,t)},n})(l(d));e.exports=h},function(e,r){e.exports=t},function(e,t,r){"use strict";var n={},o=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||n.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*o).toString(32);return n[e]=!0,e}},function(e,t,r){"use strict";var n={encode:function(e,t,r){return e+"-"+t+"-"+r},decode:function(e){var t=e.split("-").reverse(),r=t[0],n=t[1];return{blockKey:t.slice(2).reverse().join("-"),decoratorKey:parseInt(n,10),leafKey:parseInt(r,10)}}};e.exports=n},function(e,t,r){"use strict";e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX||!window.__DRAFT_GKX[e])}},function(e,t,r){"use strict";var n=r(6),o=r(18),i=r(0),s=i.List,a=i.Map,c=i.OrderedSet,l=i.Record,u=i.Repeat,p=c(),d=(function(e){var t,r;function i(t){return e.call(this,(function(e){if(!e)return e;var t=e.characterList,r=e.text;return r&&!t&&(e.characterList=s(u(n.EMPTY,r.length))),e})(t))||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=i.prototype;return a.getKey=function(){return this.get("key")},a.getType=function(){return this.get("type")},a.getText=function(){return this.get("text")},a.getCharacterList=function(){return this.get("characterList")},a.getLength=function(){return this.getText().length},a.getDepth=function(){return this.get("depth")},a.getData=function(){return this.get("data")},a.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():p},a.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},a.findStyleRanges=function(e,t){o(this.getCharacterList(),m,e,t)},a.findEntityRanges=function(e,t){o(this.getCharacterList(),f,e,t)},i})(l({key:"",type:"unstyled",text:"",characterList:s(),depth:0,data:a()}));function m(e,t){return e.getStyle()===t.getStyle()}function f(e,t){return e.getEntity()===t.getEntity()}e.exports=d},function(e,t,r){"use strict";function n(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(n).join(" "):Array.prototype.map.call(arguments,n).join(" ")}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}})()?Object.assign:function(e,t){for(var r,a,c=s(e),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]))o.call(r,u)&&(c[u]=r[u]);if(n){a=n(r);for(var p=0;p<a.length;p++)i.call(r,a[p])&&(c[a[p]]=r[a[p]])}}return c}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},function(e,t,r){"use strict";var n=r(1),o=/[\uD800-\uDFFF]/;function i(e){return 55296<=e&&e<=57343}function s(e){return o.test(e)}function a(e,t){return 1+i(e.charCodeAt(t))}function c(e,t,r){if(t=t||0,r=void 0===r?1/0:r||0,!s(e))return e.substr(t,r);var n=e.length;if(n<=0||t>n||r<=0)return"";var o=0;if(t>0){for(;t>0&&o<n;t--)o+=a(e,o);if(o>=n)return""}else if(t<0){for(o=n;t<0&&0<o;t++)o-=a(e,o-1);o<0&&(o=0)}var i=n;if(r<n)for(i=o;r>0&&i<n;r--)i+=a(e,i);return e.substring(o,i)}var l={getCodePoints:function(e){for(var t=[],r=0;r<e.length;r+=a(e,r))t.push(e.codePointAt(r));return t},getUTF16Length:a,hasSurrogateUnit:s,isCodeUnitInSurrogateRange:i,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||n(!1,"isSurrogatePair: Invalid index %s for string length %s.",t,e.length),t+1===e.length)return!1;var r=e.charCodeAt(t),o=e.charCodeAt(t+1);return 55296<=r&&r<=56319&&56320<=o&&o<=57343},strlen:function(e){if(!s(e))return e.length;for(var t=0,r=0;r<e.length;r+=a(e,r))t++;return t},substring:function(e,t,r){(t=t||0)<0&&(t=0),(r=void 0===r?1/0:r||0)<0&&(r=0);var n=Math.abs(r-t);return c(e,t=t<r?t:r,n)},substr:c};e.exports=l},function(e,t,r){"use strict";var n=r(0).OrderedMap,o={createFromArray:function(e){return n(e.map((function(e){return[e.getKey(),e]})))}};e.exports=o},function(e,t,r){"use strict";e.exports=function(e,t,r,n){if(e.size){var o=0;e.reduce((function(e,i,s){return t(e,i)||(r(e)&&n(o,s),o=s),i})),r(e.last())&&n(o,e.count())}}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},function(e,t,r){"use strict";var n=r(3),o=r(11)("draft_tree_data_support");e.exports=function(e,t,r){var i=e.getSelection(),s=e.getCurrentContent(),a=i,c=i.getAnchorKey(),l=i.getFocusKey(),u=s.getBlockForKey(c);if(o&&"forward"===r&&c!==l)return s;if(i.isCollapsed()){if("forward"===r){if(e.isSelectionAtEndOfContent())return s;if(o&&i.getAnchorOffset()===s.getBlockForKey(c).getLength()){var p=s.getBlockForKey(u.nextSibling);if(!p||0===p.getLength())return s}}else if(e.isSelectionAtStartOfContent())return s;if((a=t(e))===i)return s}return n.removeRange(s,a,r)}},function(e,t,r){"use strict";var n=r(41),o=r(42);e.exports=function(e,t){var r=t.getStartKey(),i=t.getStartOffset(),s=t.getEndKey(),a=t.getEndOffset(),c=o(e,t).getBlockMap(),l=c.keySeq(),u=l.indexOf(r),p=l.indexOf(s)+1;return n(c.slice(u,p).map((function(e,t){var n=e.getText(),o=e.getCharacterList();return r===s?e.merge({text:n.slice(i,a),characterList:o.slice(i,a)}):t===r?e.merge({text:n.slice(i),characterList:o.slice(i)}):t===s?e.merge({text:n.slice(0,a),characterList:o.slice(0,a)}):e})))}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(47),i=r(0),s=r(1),a=r(92),c=(0,i.Map)(),l=a();function u(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var p={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),p.__getLastCreatedEntityKey()},create:function(e,t,r){return u("DraftEntity.create","contentState.createEntity"),p.__create(e,t,r)},add:function(e){return u("DraftEntity.add","contentState.addEntity"),p.__add(e)},get:function(e){return u("DraftEntity.get","contentState.getEntity"),p.__get(e)},__getAll:function(){return c},__loadWithEntities:function(e){c=e,l=a()},mergeData:function(e,t){return u("DraftEntity.mergeData","contentState.mergeEntityData"),p.__mergeData(e,t)},replaceData:function(e,t){return u("DraftEntity.replaceData","contentState.replaceEntityData"),p.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return l},__create:function(e,t,r){return p.__add(new o({type:e,mutability:t,data:r||{}}))},__add:function(e){return l=a(),c=c.set(l,e),l},__get:function(e){var t=c.get(e);return t||s(!1,"Unknown DraftEntity key: %s.",e),t},__mergeData:function(e,t){var r=p.__get(e),o=(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e})({},r.getData(),t),i=r.set("data",o);return c=c.set(e,i),i},__replaceData:function(e,t){var r=p.__get(e).set("data",t);return c=c.set(e,r),r}};e.exports=p},function(e,t,r){"use strict";var n=(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},o.getAnchorKey=function(){return this.get("anchorKey")},o.getAnchorOffset=function(){return this.get("anchorOffset")},o.getFocusKey=function(){return this.get("focusKey")},o.getFocusOffset=function(){return this.get("focusOffset")},o.getIsBackward=function(){return this.get("isBackward")},o.getHasFocus=function(){return this.get("hasFocus")},o.hasEdgeWithin=function(e,t,r){var n=this.getAnchorKey(),o=this.getFocusKey();if(n===o&&n===e){var i=this.getStartOffset(),s=this.getEndOffset();return t<=i&&i<=r||t<=s&&s<=r}if(e!==n&&e!==o)return!1;var a=e===n?this.getAnchorOffset():this.getFocusOffset();return t<=a&&r>=a},o.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},o.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},o.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},o.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},o.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},n.createEmpty=function(e){return new n({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},n})((0,r(0).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=n},function(e,t,r){"use strict";var n=r(1),o=null;function i(e){return"LTR"===e||"RTL"===e}function s(e){return i(e)||n(!1,"`dir` must be a strong direction to be converted to HTML Direction"),"LTR"===e?"ltr":"rtl"}function a(e){o=e}var c={NEUTRAL:"NEUTRAL",LTR:"LTR",RTL:"RTL",isStrong:i,getHTMLDir:s,getHTMLDirIfDifferent:function(e,t){return i(e)||n(!1,"`dir` must be a strong direction to be converted to HTML Direction"),i(t)||n(!1,"`otherDir` must be a strong direction to be converted to HTML Direction"),e===t?null:s(e)},setGlobalDir:a,initGlobalDir:function(){a("LTR")},getGlobalDir:function(){return o||this.initGlobalDir(),o||n(!1,"Global direction not set."),o}};e.exports=c},function(e,t){var r;r=(function(){return this})();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(27),o=r(50);e.exports=function(e){for(var t=e;t&&t!==n(e).documentElement;){var r=o(t);if(null!=r)return r;t=t.parentNode}return null}},function(e,t,r){"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},function(e,t,r){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,r){"use strict";function n(e,t){var r=o.get(e,t);return"auto"===r||"scroll"===r}var o={get:r(115),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(n(e,"overflow")||n(e,"overflowY")||n(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=o},function(e,t,r){"use strict";var n=r(119),o=r(120);e.exports=function(e){var t=n(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var r=o(e),i=e===t?e.ownerDocument.documentElement:e,s=e.scrollWidth-i.clientWidth,a=e.scrollHeight-i.clientHeight;return r.x=Math.max(0,Math.min(r.x,s)),r.y=Math.max(0,Math.min(r.y,a)),r}},function(e,t,r){"use strict";e.exports=function(e){return"handled"===e||!0===e}},function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(17),s=r(6),a=r(12),c=r(7),l=r(22),u=r(23),p=r(9),d=r(46),m=r(11),f=r(0),g=r(48),h=f.List,y=f.Record,v=f.Repeat,b=f.Map,_=f.OrderedMap,S=y({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),C=m("draft_tree_data_support")?c:a,E=(function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.getEntityMap=function(){return l},a.getBlockMap=function(){return this.get("blockMap")},a.getSelectionBefore=function(){return this.get("selectionBefore")},a.getSelectionAfter=function(){return this.get("selectionAfter")},a.getBlockForKey=function(e){return this.getBlockMap().get(e)},a.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},a.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},a.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,r){return r===e})).skip(1).first()},a.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,r){return r===e})).skip(1).first()},a.getBlocksAsArray=function(){return this.getBlockMap().toArray()},a.getFirstBlock=function(){return this.getBlockMap().first()},a.getLastBlock=function(){return this.getBlockMap().last()},a.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},a.getLastCreatedEntityKey=function(){return l.__getLastCreatedEntityKey()},a.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},a.createEntity=function(e,t,r){return l.__create(e,t,r),this},a.mergeEntityData=function(e,t){return l.__mergeData(e,t),this},a.replaceEntityData=function(e,t){return l.__replaceData(e,t),this},a.addEntity=function(e){return l.__add(e),this},a.getEntity=function(e){return l.__get(e)},a.getAllEntities=function(){return l.__getAll()},a.loadWithEntities=function(e){return l.__loadWithEntities(e)},o.createFromBlockArray=function(e,t){var r=Array.isArray(e)?e:e.contentBlocks,n=i.createFromArray(r),s=n.isEmpty()?new u:u.createEmpty(n.first().getKey());return new o({blockMap:n,entityMap:t||l,selectionBefore:s,selectionAfter:s})},o.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=e.split(t),n=r.map((function(e){return e=g(e),new C({key:p(),text:e,type:"unstyled",characterList:h(v(s.EMPTY,e.length))})}));return o.createFromBlockArray(n)},o.fromJS=function(e){return new o(n({},e,{blockMap:_(e.blockMap).map(o.createContentBlockFromJS),selectionBefore:new u(e.selectionBefore),selectionAfter:new u(e.selectionAfter)}))},o.createContentBlockFromJS=function(e){var t=e.characterList;return new C(n({},e,{data:b(e.data),characterList:null!=t?h((Array.isArray(t)?t:d(t)).map((function(e){return s.fromJS(e)}))):void 0}))},o})(S);e.exports=E},function(e,t,r){"use strict";var n=r(24),o=r(1),i="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",s="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",a=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+i+s+"]"),c=new RegExp("["+i+s+"]");function l(e){var t=a.exec(e);return null==t?null:t[0]}function u(e){var t=l(e);return null==t?n.NEUTRAL:c.exec(t)?n.RTL:n.LTR}function p(e,t){if(t=t||n.NEUTRAL,!e.length)return t;var r=u(e);return r===n.NEUTRAL?t:r}function d(e,t){return t||(t=n.getGlobalDir()),n.isStrong(t)||o(!1,"Fallback direction must be a strong direction"),p(e,t)}var m={firstStrongChar:l,firstStrongCharDir:u,resolveBlockDir:p,getDirection:d,isDirectionLTR:function(e,t){return d(e,t)===n.LTR},isDirectionRTL:function(e,t){return d(e,t)===n.RTL}};e.exports=m},function(e,t,r){"use strict";var n=r(8),o=r(13),i=(0,r(0).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:n.createElement("ul",{className:o("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:n.createElement("ol",{className:o("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:n.createElement("pre",{className:o("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=i},function(e,t,r){"use strict";var n=r(58).notEmptyKey;function o(e,t){return n(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var r;if(t.isCollapsed()){var n=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(r=e.getBlockForKey(n).getEntityAt(i-1))!==e.getBlockForKey(n).getEntityAt(i)?null:o(e.getEntityMap(),r):null}var s=t.getStartKey(),a=t.getStartOffset(),c=e.getBlockForKey(s);return r=a===c.getLength()?null:c.getEntityAt(a),o(e.getEntityMap(),r)}},function(e,t,r){"use strict";var n=r(113);e.exports=function e(t,r){return!(!t||!r)&&(t===r||!n(t)&&(n(r)?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}},function(e,t,r){"use strict";function n(e,t){return!!t&&(e===t.documentElement||e===t.body)}var o={getTop:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollTop=r.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollLeft=r.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=o},function(e,t,r){"use strict";var n=r(39);e.exports=function(e,t){var r=e.getSelection();n(r.isCollapsed(),"moveSelectionBackward should only be called with a collapsed SelectionState");var o=e.getCurrentContent(),i=r.getStartKey(),s=r.getStartOffset(),a=i,c=0;if(t>s){var l=o.getKeyBefore(i);null==l?a=i:(a=l,c=o.getBlockForKey(l).getText().length)}else c=s-t;return r.merge({focusKey:a,focusOffset:c,isBackward:!0})}},function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0,i="Warning: "+e.replace(/%s/g,(function(){return r[o++]}));"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}r(67);e.exports=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];n.apply(void 0,[t].concat(o))}}},function(e,t,r){"use strict";var n=r(5),o=r(142),i=n.isPlatform("Mac OS X"),s={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return i&&e.altKey},usesMacOSHeuristics:function(){return i},hasCommandModifier:function(e){return i?!!e.metaKey&&!e.altKey:s.isCtrlKeyCommand(e)},isSoftNewlineEvent:o};e.exports=s},function(e,t,r){"use strict";var n=r(7),o=r(9),i=r(0).OrderedMap;e.exports=function(e){return e.first()instanceof n?(function(e){var t,r={};return i(e.withMutations((function(e){e.forEach((function(n,i){var s=n.getKey(),a=n.getNextSiblingKey(),c=n.getPrevSiblingKey(),l=n.getChildKeys(),u=n.getParentKey(),p=o();if(r[s]=p,a&&(e.get(a)?e.setIn([a,"prevSibling"],p):e.setIn([s,"nextSibling"],null)),c&&(e.get(c)?e.setIn([c,"nextSibling"],p):e.setIn([s,"prevSibling"],null)),u&&e.get(u)){var d=e.get(u).getChildKeys();e.setIn([u,"children"],d.set(d.indexOf(n.getKey()),p))}else e.setIn([s,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],p),e.setIn([s,"prevSibling"],r[t.getKey()])),t=e.get(s);l.forEach((function(t){e.get(t)?e.setIn([t,"parent"],p):e.setIn([s,"children"],n.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[r[e.getKey()],e.set("key",r[e.getKey()])]})))})(e):(function(e){return i(e.toArray().map((function(e){var t=o();return[t,e.set("key",t)]})))})(e)}},function(e,t,r){"use strict";var n=r(6),o=r(18),i=r(1);function s(e,t,r){var s=t.getCharacterList(),a=r>0?s.get(r-1):void 0,c=r<s.count()?s.get(r):void 0,l=a?a.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===l&&"MUTABLE"!==e.__get(u).getMutability()){for(var p,d=(function(e,t,r){var n;return o(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=r&&t>=r&&(n={start:e,end:t})})),"object"!=typeof n&&i(!1,"Removal range must exist within character list."),n})(s,u,r),m=d.start,f=d.end;m<f;)p=s.get(m),s=s.set(m,n.applyEntity(p,null)),m++;return t.set("characterList",s)}return t}e.exports=function(e,t){var r=e.getBlockMap(),n=e.getEntityMap(),o={},i=t.getStartKey(),a=t.getStartOffset(),c=r.get(i),l=s(n,c,a);l!==c&&(o[i]=l);var u=t.getEndKey(),p=t.getEndOffset(),d=r.get(u);i===u&&(d=l);var m=s(n,d,p);return m!==d&&(o[u]=m),Object.keys(o).length?e.merge({blockMap:r.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=e;if(r===n.count())t.forEach((function(e){n=n.push(e)}));else if(0===r)t.reverse().forEach((function(e){n=n.unshift(e)}));else{var o=n.slice(0,r),i=n.slice(r);n=o.concat(t,i).toList()}return n}},function(e,t,r){"use strict";var n=r(0).Map;e.exports=function(e,t,r){var o=t.getStartKey(),i=t.getEndKey(),s=e.getBlockMap(),a=s.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat(n([[i,s.get(i)]])).map(r);return e.merge({blockMap:s.merge(a),selectionBefore:t,selectionAfter:t})}},function(e,t,r){"use strict";var n=r(7);e.exports=function(e,t){if(!(e instanceof n))return null;var r=e.getNextSiblingKey();if(r)return r;var o=e.getParentKey();if(!o)return null;for(var i=t.get(o);i&&!i.getNextSiblingKey();){var s=i.getParentKey();i=s?t.get(s):null}return i?i.getNextSiblingKey():null}},function(e,t,r){"use strict";e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},function(e,t,r){"use strict";var n=(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getType=function(){return this.get("type")},o.getMutability=function(){return this.get("mutability")},o.getData=function(){return this.get("data")},n})((0,r(0).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=n},function(e,t,r){"use strict";var n=new RegExp("\r","g");e.exports=function(e){return e.replace(n,"")}},function(e,t,r){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,r){"use strict";var n=r(15);e.exports=function e(t){if(n(t)){var r=t,o=r.getAttribute("data-offset-key");if(o)return o;for(var i=0;i<r.childNodes.length;i++){var s=e(r.childNodes[i]);if(s)return s}}return null}},function(e,t,r){"use strict";e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},function(e,t,r){"use strict";var n=r(53),o=r(2),i=r(54),s=r(55);e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();n.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var r=e.props.editorState,a=s(r,i(e)),c=a.selectionState;c!==r.getSelection()&&(r=a.needsRecovery?o.forceSelection(r,c):o.acceptSelection(r,c),e.update(r))}}},function(e,t,r){"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},function(e,t,r){"use strict";var n=r(1),o=r(19);e.exports=function(e){var t=e.editorContainer;return t||n(!1,"Missing editorNode"),o(t.firstChild)||n(!1,"editorNode.firstChild is not an HTMLElement"),t.firstChild}},function(e,t,r){"use strict";var n=r(56);e.exports=function(e,t){var r=t.ownerDocument.defaultView.getSelection(),o=r.anchorNode,i=r.anchorOffset,s=r.focusNode,a=r.focusOffset;return 0===r.rangeCount||null==o||null==s?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:n(e,t,o,i,s,a)}},function(e,t,r){"use strict";var n=r(26),o=r(50),i=r(57),s=r(1),a=r(15),c=r(4);function l(e,t,r){var i=t,l=n(i);if(null!=l||e&&(e===i||e.firstChild===i)||s(!1,"Unknown node in selection range."),e===i&&(i=i.firstChild,a(i)||s(!1,"Invalid DraftEditorContents node."),"true"!==(i=i).getAttribute("data-contents")&&s(!1,"Invalid DraftEditorContents structure."),r>0&&(r=i.childNodes.length)),0===r){var p=null;if(null!=l)p=l;else{var d=(function(e){for(;e.firstChild&&(a(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||o(e.firstChild));)e=e.firstChild;return e})(i);p=c(o(d))}return{key:p,offset:0}}var m=i.childNodes[r-1],f=null,g=null;if(o(m)){var h=(function(e){for(;e.lastChild&&(a(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||o(e.lastChild));)e=e.lastChild;return e})(m);f=c(o(h)),g=u(h)}else f=c(l),g=u(m);return{key:f,offset:g}}function u(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,r,o,s,a){var u=r.nodeType===Node.TEXT_NODE,p=s.nodeType===Node.TEXT_NODE;if(u&&p)return{selectionState:i(e,c(n(r)),o,c(n(s)),a),needsRecovery:!1};var d=null,m=null,f=!0;return u?(d={key:c(n(r)),offset:o},m=l(t,s,a)):p?(m={key:c(n(s)),offset:a},d=l(t,r,o)):(d=l(t,r,o),m=l(t,s,a),r===s&&o===a&&(f=!!r.firstChild&&"BR"!==r.firstChild.nodeName)),{selectionState:i(e,d.key,d.offset,m.key,m.offset),needsRecovery:f}}},function(e,t,r){"use strict";var n=r(10),o=r(4);e.exports=function(e,t,r,i,s){var a=o(e.getSelection());if(!t||!i)return console.warn("Invalid selection state.",arguments,e.toJS()),a;var c=n.decode(t),l=c.blockKey,u=e.getBlockTree(l),p=u&&u.getIn([c.decoratorKey,"leaves",c.leafKey]),d=n.decode(i),m=d.blockKey,f=e.getBlockTree(m),g=f&&f.getIn([d.decoratorKey,"leaves",d.leafKey]);if(!p||!g)return console.warn("Invalid selection state.",arguments,e.toJS()),a;var h=p.get("start"),y=g.get("start"),v=p?h+r:null,b=g?y+s:null,_=a.getAnchorKey()===l&&a.getAnchorOffset()===v&&a.getFocusKey()===m&&a.getFocusOffset()===b;if(_)return a;var S=!1;if(l===m){var C=p.get("end"),E=g.get("end");S=y===h&&E===C?s<r:y<h}else{var w=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===l||e===m})).first();S=w===m}return a.merge({anchorKey:l,anchorOffset:v,focusKey:m,focusOffset:b,isBackward:S})}},function(e,t,r){"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},function(e,t,r){"use strict";var n=r(14);function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(111),a=r(8),c=r(1),l=r(60),u=r(112).setDraftEditorSelection,p=(function(e){var t,r;function p(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i(o(t=e.call.apply(e,[this].concat(n))||this),"leaf",void 0),t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=p.prototype;return d._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,r=t.block,n=t.start,o=t.text,i=r.getKey(),s=n+o.length;if(e.hasEdgeWithin(i,n,s)){var a=this.leaf;a||c(!1,"Missing node");var p,d=a.firstChild;d||c(!1,"Missing child"),d.nodeType===Node.TEXT_NODE?p=d:l(d)?p=a:(p=d.firstChild)||c(!1,"Missing targetNode"),u(e,p,i,n,s)}}},d.shouldComponentUpdate=function(e){var t=this.leaf;return t||c(!1,"Missing leafNode"),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},d.componentDidUpdate=function(){this._setSelection()},d.componentDidMount=function(){this._setSelection()},d.render=function(){var e=this,t=this.props.block,r=this.props.text;r.endsWith("\n")&&this.props.isLast&&(r+="\n");var o=this.props,i=o.customStyleMap,c=o.customStyleFn,l=o.offsetKey,u=o.styleSet,p=u.reduce((function(e,t){var r={},o=i[t];return void 0!==o&&e.textDecoration!==o.textDecoration&&(r.textDecoration=[e.textDecoration,o.textDecoration].join(" ").trim()),n(e,o,r)}),{});if(c){var d=c(u,t);p=n(p,d)}return a.createElement("span",{"data-offset-key":l,ref:function(t){return e.leaf=t},style:p},a.createElement(s,null,r))},p})(a.Component);e.exports=p},function(e,t,r){"use strict";var n=r(15);e.exports=function(e){return!(!e||!e.ownerDocument)&&n(e)&&"BR"===e.nodeName}},function(e,t,r){"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},function(e,t,r){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,r){"use strict";var n=r(118);e.exports=function(e){var t=n(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},function(e,t,r){"use strict";function n(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function o(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function i(){return{width:window.innerWidth||n(),height:window.innerHeight||o()}}i.withoutScrollbars=function(){return{width:n(),height:o()}},e.exports=i},function(e,t,r){"use strict";var n=r(14);function o(){return(o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(59),c=r(10),l=r(8),u=r(37),p=r(29),d=r(33),m=r(24),f=r(13),g=r(63),h=r(30),y=r(64),v=r(1),b=r(19),_=r(4),S=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},C=(function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s(i(t=e.call.apply(e,[this].concat(n))||this),"_node",void 0),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var C=n.prototype;return C.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||S(e.selection,e.block.getKey())&&e.forceSelection},C.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var r=this._node;if(null!=r){var n,o=p.getScrollParent(r),i=h(o);if(o===window){var s=g(r);(n=s.y+s.height-y().height)>0&&window.scrollTo(i.x,i.y+n+10)}else b(r)||v(!1,"blockNode is not an HTMLElement"),(n=r.offsetHeight+r.offsetTop-(o.offsetTop+o.offsetHeight+i.y))>0&&u.setTop(o,u.getTop(o)+n+10)}}}},C._renderChildren=function(){var e=this,t=this.props.block,r=t.getKey(),n=t.getText(),i=this.props.tree.size-1,s=S(this.props.selection,r);return this.props.tree.map((function(u,p){var f=u.get("leaves");if(0===f.size)return null;var g=f.size-1,h=f.map((function(o,u){var d=c.encode(r,p,u),m=o.get("start"),f=o.get("end");return l.createElement(a,{key:d,offsetKey:d,block:t,start:m,selection:s?e.props.selection:null,forceSelection:e.props.forceSelection,text:n.slice(m,f),styleSet:t.getInlineStyleAt(m),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:p===i&&u===g})})).toArray(),y=u.get("decoratorKey");if(null==y)return h;if(!e.props.decorator)return h;var v=_(e.props.decorator),b=v.getComponentForKey(y);if(!b)return h;var S=v.getPropsForKey(y),C=c.encode(r,p,0),E=f.first().get("start"),w=f.last().get("end"),x=n.slice(E,w),T=t.getEntityAt(u.get("start")),k=m.getHTMLDirIfDifferent(d.getDirection(x),e.props.direction),M={contentState:e.props.contentState,decoratedText:x,dir:k,start:E,end:w,blockKey:r,entityKey:T,offsetKey:C};return l.createElement(b,o({},S,M,{key:C}),h)})).toArray()},C.render=function(){var e=this,t=this.props,r=t.direction,n=t.offsetKey,o=f({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===r,"public/DraftStyleDefault/rtl":"RTL"===r});return l.createElement("div",{"data-offset-key":n,className:o,ref:function(t){return e._node=t}},this._renderChildren())},n})(l.Component);e.exports=C},function(e,t,r){"use strict";var n=r(124),o=r(125),i=r(67),s=new RegExp("\r\n","g"),a={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var l=(function(){function e(e){this.data=e,this.types=e.types?o(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return a[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(s,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){if(this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")})))return!0;for(var e=this.getFiles(),t=0;t<e.length;t++){var r=e[t].type;if(!n.isImage(r))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(i.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e})();e.exports=l},function(e,t,r){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,r){"use strict";(function(t){var n=r(1),o=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,r){var s=0,a=[];e.forEach((function(c){!(function(e,r){if(t.FileReader&&(!e.type||e.type in i)){if(""===e.type){var s="";return o.test(e.name)&&(s=e.name.replace(o,"")),void r(s)}var a=new FileReader;a.onload=function(){var e=a.result;"string"!=typeof e&&n(!1,'We should be calling "FileReader.readAsText" which returns a string'),r(e)},a.onerror=function(){r("")},a.readAsText(e)}else r("")})(c,(function(t){s++,t&&a.push(t.slice(0,5e3)),s==e.length&&r(a.join("\r"))}))}))}}).call(this,r(25))},function(e,t,r){"use strict";var n=r(21);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:n(e.getCurrentContent(),t)}},function(e,t,r){"use strict";var n=r(2),o=r(16),i=r(38),s=r(20);e.exports=function(e){var t=s(e,(function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),s=t.getAnchorOffset(),a=r.getBlockForKey(n).getText()[s-1];return i(e,a?o.getUTF16Length(a,0):1)}),"backward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"backspace-character":"remove-range")}},function(e,t,r){"use strict";var n=r(5),o=r(1),i=n.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),r=[],n=e.endContainer;null!=n;n=n.parentNode){var i=n===e.commonAncestorContainer;i?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var s,a=Array.from(t.getClientRects());if(r.push(a),i)return r.reverse(),(s=[]).concat.apply(s,r);t.setEndBefore(n)}o(!1,"Found an unexpected detached subtree when getting range client rects.")}:function(e){return Array.from(e.getClientRects())};e.exports=i},function(e,t,r){"use strict";var n="\\s|(?![_])"+r(147).getPunctuation(),o=new RegExp("^(?:"+n+")*(?:['‘’]|(?!"+n+").)*(?:(?!"+n+").)"),i=new RegExp("(?:(?!"+n+").)(?:['‘’]|(?!"+n+").)*(?:"+n+")*$");function s(e,t){var r=t?i.exec(e):o.exec(e);return r?r[0]:e}var a={getBackward:function(e){return s(e,!0)},getForward:function(e){return s(e,!1)}};e.exports=a},function(e,t,r){"use strict";var n=r(39);e.exports=function(e,t){var r=e.getSelection();n(r.isCollapsed(),"moveSelectionForward should only be called with a collapsed SelectionState");var o,i=r.getStartKey(),s=r.getStartOffset(),a=e.getCurrentContent(),c=i;return t>a.getBlockForKey(i).getText().length-s?(c=a.getKeyAfter(i),o=0):o=s+t,r.merge({focusKey:c,focusOffset:o})}},function(e,t,r){"use strict";var n;function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(6),a=r(12),c=r(7),l=r(34),u=r(22),p=r(157),d=r(13),m=r(9),f=r(75),g=r(11),h=r(0),y=h.List,v=h.Map,b=h.OrderedSet,_=r(158),S=r(60),C=r(19),E=r(159),w=g("draft_tree_data_support"),x=new RegExp("\r","g"),T=new RegExp("\n","g"),k=new RegExp("^\n","g"),M=new RegExp("&nbsp;","g"),O=new RegExp("&#13;?","g"),L=new RegExp("&#8203;?","g"),P=["bold","bolder","500","600","700","800","900"],D=["light","lighter","normal","100","200","300","400"],N=["className","href","rel","target","title"],R=["alt","className","height","src","width"],F=(i(n={},d("public/DraftStyleDefault/depth0"),0),i(n,d("public/DraftStyleDefault/depth1"),1),i(n,d("public/DraftStyleDefault/depth2"),2),i(n,d("public/DraftStyleDefault/depth3"),3),i(n,d("public/DraftStyleDefault/depth4"),4),n),A=v({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),I=function(e){var t={};return e.mapKeys((function(e,r){var n=[r.element];void 0!==r.aliasedElements&&n.push.apply(n,r.aliasedElements),n.forEach((function(r){void 0===t[r]?t[r]=e:"string"==typeof t[r]?t[r]=[t[r],e]:t[r].push(e)}))})),v(t)},B=function(e){return C(e)&&e.style.fontFamily.includes("monospace")?"CODE":null},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(F).some((function(r){e.classList.contains(r)&&(t=F[r])})),t},j=function(e){if(!_(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{return new p(t.href),!0}catch(e){return!1}},H=function(e){if(!E(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},U=function(e,t){if(!C(e))return t;var r=e,n=r.style.fontWeight,o=r.style.fontStyle,i=r.style.textDecoration;return t.withMutations((function(e){P.indexOf(n)>=0?e.add("BOLD"):D.indexOf(n)>=0&&e.remove("BOLD"),"italic"===o?e.add("ITALIC"):"normal"===o&&e.remove("ITALIC"),"underline"===i&&e.add("UNDERLINE"),"line-through"===i&&e.add("STRIKETHROUGH"),"none"===i&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},V=function(e){return"ul"===e||"ol"===e},W=(function(){function e(e,t){i(this,"characterList",y()),i(this,"currentBlockType","unstyled"),i(this,"currentDepth",0),i(this,"currentEntity",null),i(this,"currentText",""),i(this,"wrapper",null),i(this,"blockConfigs",[]),i(this,"contentBlocks",[]),i(this,"entityMap",u),i(this,"blockTypeMap",void 0),i(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=u,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(w?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||m(),r=o({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",r},t._toBlockConfigs=function(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n],i=o.nodeName.toLowerCase();if("body"===i||V(i)){this._trimCurrentText(),""!==this.currentText&&r.push(this._makeBlockConfig());var s=this.currentDepth,a=this.wrapper;V(i)&&(this.wrapper=i,V(a)&&this.currentDepth++),r.push.apply(r,this._toBlockConfigs(Array.from(o.childNodes),t)),this.currentDepth=s,this.wrapper=a}else{var c=this.blockTypeMap.get(i);if(void 0===c)if("#text"!==i)if("br"!==i)if(H(o))this._addImgNode(o,t);else if(j(o))this._addAnchorNode(o,r,t);else{var l=t;A.has(i)&&(l=l.add(A.get(i))),l=U(o,l);var u=B(o);null!=u&&(l=l.add(u)),r.push.apply(r,this._toBlockConfigs(Array.from(o.childNodes),l))}else this._addBreakNode(o,t);else this._addTextNode(o,t);else{this._trimCurrentText(),""!==this.currentText&&r.push(this._makeBlockConfig());var p=this.currentDepth,d=this.wrapper;if(this.wrapper="pre"===i?"pre":this.wrapper,"string"!=typeof c&&(c=this.disambiguate(i,this.wrapper)||c[0]||"unstyled"),!w&&C(o)&&("unordered-list-item"===c||"ordered-list-item"===c)){var f=o;this.currentDepth=K(f,this.currentDepth)}var g=m(),h=this._toBlockConfigs(Array.from(o.childNodes),t);this._trimCurrentText(),r.push(this._makeBlockConfig({key:g,childConfigs:h,type:c})),this.currentDepth=p,this.wrapper=d}}}return r},t._appendText=function(e,t){var r;this.currentText+=e;var n=s.create({style:t,entity:this.currentEntity});this.characterList=(r=this.characterList).push.apply(r,Array(e.length).fill(n))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,r=this.currentText.trimRight().length,n=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==n?Math.min(t,n[0]):t)>(r=void 0!==(n=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(r,e-n[0]):r)?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(t,r),this.characterList=this.characterList.slice(t,r))},t._addTextNode=function(e,t){var r=e.textContent;""===r.trim()&&"pre"!==this.wrapper&&(r=" "),"pre"!==this.wrapper&&(r=(r=r.replace(k,"")).replace(T," ")),this._appendText(r,t)},t._addBreakNode=function(e,t){S(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(E(e)){var r=e,n={};R.forEach((function(e){var t=r.getAttribute(e);t&&(n[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",n),g("draftjs_fix_paste_for_img")?"presentation"!==r.getAttribute("role")&&this._appendText("📷",t):this._appendText("📷",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,r){if(_(e)){var n=e,o={};N.forEach((function(e){var t=n.getAttribute(e);t&&(o[e]=t)})),o.url=new p(n.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",o||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),r)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.length-1,n=0;n<=r;n++){var i=e[n];i.parent=t,i.prevSibling=n>0?e[n-1].key:null,i.nextSibling=n<r?e[n+1].key:null,i.children=y(i.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new c(o({},i))),this._toContentBlocks(i.childConfigs,i.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return y(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var r=t._extractTextFromBlockConfigs(e.childConfigs),n=r.text,i=r.characterList;t.contentBlocks.push(new a(o({},e,{text:e.text+n,characterList:e.characterList.concat(i)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,r="",n=y(),o=0;o<=t;o++){var i=e[o];r+=i.text,n=n.concat(i.characterList),""!==r&&"unstyled"!==i.type&&(r+="\n",n=n.push(n.last()));var s=this._extractTextFromBlockConfigs(i.childConfigs);r+=s.text,n=n.concat(s.characterList)}return{text:r,characterList:n}},e})();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,n=t(e=e.trim().replace(x,"").replace(M," ").replace(O,"").replace(L,""));if(!n)return null;var o=I(r),i=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new W(o,i).addDOMNode(n).getContentBlocks()}},function(e,t,r){"use strict";var n=r(5),o=r(1),i=n.isBrowser("IE <= 9");e.exports=function(e){var t,r=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||o(!1,"Missing doc.documentElement"),t.documentElement.innerHTML=e,r=t.getElementsByTagName("body")[0]),r}},function(e,t,r){"use strict";var n=r(3),o=r(2),i=r(160),s=r(4),a={currentBlockContainsLink:function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=r.getEntityMap();return r.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===n.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,r){switch(t){case"bold":return a.toggleInlineStyle(e,"BOLD");case"italic":return a.toggleInlineStyle(e,"ITALIC");case"underline":return a.toggleInlineStyle(e,"UNDERLINE");case"code":return a.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return a.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return a.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=n.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),r=o.push(e,t,"insert-characters");return o.forceSelection(r,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var r=e.getCurrentContent(),n=t.getStartKey(),i=r.getBlockBefore(n);if(i&&"atomic"===i.getType()){var s=r.getBlockMap().delete(i.getKey()),c=r.merge({blockMap:s,selectionAfter:t});if(c!==r)return o.push(e,c,"remove-range")}var l=a.tryToRemoveBlockStyle(e);return l?o.push(e,l,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var r=e.getCurrentContent(),i=t.getStartKey(),s=r.getBlockForKey(i).getLength();if(t.getStartOffset()<s)return null;var a=r.getBlockAfter(i);if(!a||"atomic"!==a.getType())return null;var c=t.merge({focusKey:a.getKey(),focusOffset:a.getLength()}),l=n.removeRange(r,c,"forward");return l!==r?o.push(e,l,"remove-range"):null},onTab:function(e,t,r){var n=t.getSelection(),s=n.getAnchorKey();if(s!==n.getFocusKey())return t;var a=t.getCurrentContent(),c=a.getBlockForKey(s),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return t;e.preventDefault();var u=c.getDepth();if(!e.shiftKey&&u===r)return t;var p=i(a,n,e.shiftKey?-1:1,r);return o.push(t,p,"adjust-depth")},toggleBlockType:function(e,t){var r=e.getSelection(),i=r.getStartKey(),a=r.getEndKey(),c=e.getCurrentContent(),l=r;if(i!==a&&0===r.getEndOffset()){var u=s(c.getBlockBefore(a));a=u.getKey(),l=l.merge({anchorKey:i,anchorOffset:r.getStartOffset(),focusKey:a,focusOffset:u.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==i})).reverse().skipWhile((function(e,t){return t!==a})).some((function(e){return"atomic"===e.getType()})))return e;var p=c.getBlockForKey(i).getType()===t?"unstyled":t;return o.push(e,n.setBlockType(c,l,p),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),r=t.getAnchorKey(),n=t.getFocusKey();return t.isCollapsed()||r!==n?a.toggleBlockType(e,"code-block"):a.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var r=e.getSelection(),i=e.getCurrentInlineStyle();if(r.isCollapsed())return o.setInlineStyleOverride(e,i.has(t)?i.remove(t):i.add(t));var s,a=e.getCurrentContent();return s=i.has(t)?n.removeInlineStyle(a,r,t):n.applyInlineStyle(a,r,t),o.push(e,s,"change-inline-style")},toggleLink:function(e,t,r){var i=n.applyEntity(e.getCurrentContent(),t,r);return o.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),r=t.getAnchorOffset();if(t.isCollapsed()&&0===r){var o=t.getAnchorKey(),i=e.getCurrentContent(),s=i.getBlockForKey(o).getType(),a=i.getBlockBefore(o);if("code-block"===s&&a&&"code-block"===a.getType()&&0!==a.getLength())return null;if("unstyled"!==s)return n.setBlockType(i,t,"unstyled")}return null}};e.exports=a},function(e,t,r){"use strict";var n=r(40),o=r(28),i=r(5),s=i.isPlatform("Mac OS X"),a=s&&i.isBrowser("Firefox < 29"),c=n.hasCommandModifier,l=n.isCtrlKeyCommand;function u(e){return s&&e.altKey||l(e)}e.exports=function(e){switch(e.keyCode){case 66:return c(e)?"bold":null;case 68:return l(e)?"delete":null;case 72:return l(e)?"backspace":null;case 73:return c(e)?"italic":null;case 74:return c(e)?"code":null;case 75:return s&&l(e)?"secondary-cut":null;case 77:case 79:return l(e)?"split-block":null;case 84:return s&&l(e)?"transpose-characters":null;case 85:return c(e)?"underline":null;case 87:return s&&l(e)?"backspace-word":null;case 89:return l(e)?s?"secondary-paste":"redo":null;case 90:return(function(e){return c(e)?e.shiftKey?"redo":"undo":null})(e)||null;case o.RETURN:return"split-block";case o.DELETE:return(function(e){return!s&&e.shiftKey?null:u(e)?"delete-word":"delete"})(e);case o.BACKSPACE:return(function(e){return c(e)&&s?"backspace-to-start-of-line":u(e)?"backspace-word":"backspace"})(e);case o.LEFT:return a&&c(e)?"move-selection-to-start-of-block":null;case o.RIGHT:return a&&c(e)?"move-selection-to-end-of-block":null;default:return null}}},function(e,t,r){"use strict";var n={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=n},function(e,t,r){"use strict";var n=r(80),o=r(17),i=r(6),s=r(96),a=r(12),c=r(32),l=r(34),u=r(49),p=r(97),d=r(65),m=r(22),f=r(3),g=r(47),h=r(2),y=r(40),v=r(165),b=r(76),_=r(23),S=r(166),C=r(169),E=r(9),w=r(77),x=r(175),T={Editor:p,EditorBlock:d,EditorState:h,CompositeDecorator:s,Entity:m,EntityInstance:g,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:a,ContentState:c,RawDraftContentState:v,SelectionState:_,AtomicBlockUtils:n,KeyBindingUtil:y,Modifier:f,RichUtils:b,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:u,convertFromHTML:r(74),convertFromRaw:C,convertToRaw:S,genKey:E,getDefaultKeyBinding:w,getVisibleSelectionRect:x};e.exports=T},function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(17),s=r(6),a=r(12),c=r(7),l=r(3),u=r(2),p=r(9),d=r(11),m=r(0),f=r(95),g=d("draft_tree_data_support"),h=g?c:a,y=m.List,v=m.Repeat,b={insertAtomicBlock:function(e,t,r){var o=e.getCurrentContent(),a=e.getSelection(),c=l.removeRange(o,a,"backward"),d=c.getSelectionAfter(),m=l.splitBlock(c,d),f=m.getSelectionAfter(),b=l.setBlockType(m,f,"atomic"),_=s.create({entity:t}),S={key:p(),type:"atomic",text:r,characterList:y(v(_,r.length))},C={key:p(),type:"unstyled"};g&&(S=n({},S,{nextSibling:C.key}),C=n({},C,{prevSibling:S.key}));var E=[new h(S),new h(C)],w=i.createFromArray(E),x=l.replaceWithFragment(b,f,w),T=x.merge({selectionBefore:a,selectionAfter:x.getSelectionAfter().set("hasFocus",!0)});return u.push(e,T,"insert-fragment")},moveAtomicBlock:function(e,t,r,n){var o,i=e.getCurrentContent(),s=e.getSelection();if("before"===n||"after"===n){var a=i.getBlockForKey("before"===n?r.getStartKey():r.getEndKey());o=f(i,t,a,n)}else{var c=l.removeRange(i,r,"backward"),p=c.getSelectionAfter(),d=c.getBlockForKey(p.getFocusKey());if(0===p.getStartOffset())o=f(c,t,d,"before");else if(p.getEndOffset()===d.getLength())o=f(c,t,d,"after");else{var m=l.splitBlock(c,p),g=m.getSelectionAfter(),h=m.getBlockForKey(g.getFocusKey());o=f(m,t,h,"before")}}var y=o.merge({selectionBefore:s,selectionAfter:o.getSelectionAfter().set("hasFocus",!0)});return u.push(e,y,"move-block")}};e.exports=b},function(e,t,r){"use strict";var n=r(6),o=r(0).Map,i={add:function(e,t,r){return s(e,t,r,!0)},remove:function(e,t,r){return s(e,t,r,!1)}};function s(e,t,r,i){var s=e.getBlockMap(),a=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),p=s.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===l})).concat(o([[l,s.get(l)]])).map((function(e,t){var o,s;a===l?(o=c,s=u):(o=t===a?c:0,s=t===l?u:e.getLength());for(var p,d=e.getCharacterList();o<s;)p=d.get(o),d=d.set(o,i?n.applyStyle(p,r):n.removeStyle(p,r)),o++;return e.set("characterList",d)}));return e.merge({blockMap:s.merge(p),selectionBefore:t,selectionAfter:t})}e.exports=i},function(e,t,r){"use strict";var n=r(83),o=r(0);e.exports=function(e,t,r){var i=e.getBlockMap(),s=t.getStartKey(),a=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),u=i.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(o.OrderedMap([[c,i.get(c)]])).map((function(e,t){var o=t===s?a:0,i=t===c?l:e.getLength();return n(e,o,i,r)}));return e.merge({blockMap:i.merge(u),selectionBefore:t,selectionAfter:t})}},function(e,t,r){"use strict";var n=r(6);e.exports=function(e,t,r,o){for(var i=t,s=e.getCharacterList();i<r;)s=s.set(i,n.applyEntity(s.get(i),o)),i++;return e.set("characterList",s)}},function(e,t,r){"use strict";var n=r(85),o=r(86),i=r(1);function s(e,t,r,s,a,c,l){var u=r.getStartOffset(),p=r.getEndOffset(),d=e.__get(a).getMutability(),m=l?u:p;if("MUTABLE"===d)return r;var f=o(t,a).filter((function(e){return m<=e.end&&m>=e.start}));1!=f.length&&i(!1,"There should only be one entity range within this removal range.");var g=f[0];if("IMMUTABLE"===d)return r.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});c||(l?p=g.end:u=g.start);var h=n.getRemovalRange(u,p,t.getText().slice(g.start,g.end),g.start,s);return r.merge({anchorOffset:h.start,focusOffset:h.end,isBackward:!1})}e.exports=function(e,t,r,n,o){var i=n.getStartOffset(),a=n.getEndOffset(),c=t.getEntityAt(i),l=r.getEntityAt(a-1);if(!c&&!l)return n;var u=n;if(c&&c===l)u=s(e,t,u,o,c,!0,!0);else if(c&&l){var p=s(e,t,u,o,c,!1,!0),d=s(e,r,u,o,l,!1,!1);u=u.merge({anchorOffset:p.getAnchorOffset(),focusOffset:d.getFocusOffset(),isBackward:!1})}else if(c){var m=s(e,t,u,o,c,!1,!0);u=u.merge({anchorOffset:m.getStartOffset(),isBackward:!1})}else if(l){var f=s(e,r,u,o,l,!1,!1);u=u.merge({focusOffset:f.getEndOffset(),isBackward:!1})}return u}},function(e,t,r){"use strict";e.exports={getRemovalRange:function(e,t,r,n,o){var i=r.split(" ");i=i.map((function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e}));for(var s,a=n,c=null,l=null,u=0;u<i.length;u++){if(e<(s=a+i[u].length)&&a<t)null!==c||(c=a),l=s;else if(null!==c)break;a=s}var p=n+r.length,d=c===n,m=l===p;return(!d&&m||d&&!m)&&("forward"===o?l!==p&&l++:c!==n&&c--),{start:c,end:l}}}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){var r=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){r.push({start:e,end:t})})),r.length||n(!1,"Entity key not found in this range."),r}},function(e,t,r){"use strict";var n=r(17),o=r(7),i=r(0),s=r(43),a=r(1),c=r(41),l=i.List,u=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=r.get(o),l=c.getText(),u=c.getCharacterList(),p=o,d=i+n.getText().length,m=null;switch(a){case"MERGE_OLD_DATA_TO_NEW_DATA":m=n.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":m=n.getData()}var f=c.getType();l&&"unstyled"===f&&(f=n.getType());var g=c.merge({text:l.slice(0,i)+n.getText()+l.slice(i),characterList:s(u,n.getCharacterList(),i),type:f,data:m});return e.merge({blockMap:r.set(o,g),selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:d,focusKey:p,focusOffset:d,isBackward:!1})})},p=function(e,t,r,i,s,a){var c=r.first()instanceof o,u=[],p=i.size,d=r.get(s),m=i.first(),f=i.last(),g=f.getLength(),h=f.getKey(),y=c&&(!d.getChildKeys().isEmpty()||!m.getChildKeys().isEmpty());r.forEach((function(e,t){t===s?(y?u.push(e):u.push((function(e,t,r){var n=e.getText(),o=e.getCharacterList(),i=n.slice(0,t),s=o.slice(0,t),a=r.first();return e.merge({text:i+a.getText(),characterList:s.concat(a.getCharacterList()),type:i?e.getType():a.getType(),data:a.getData()})})(e,a,i)),i.slice(y?0:1,p-1).forEach((function(e){return u.push(e)})),u.push((function(e,t,r){var n=e.getText(),o=e.getCharacterList(),i=n.length,s=n.slice(t,i),a=o.slice(t,i),c=r.last();return c.merge({text:c.getText()+s,characterList:c.getCharacterList().concat(a),data:c.getData()})})(e,a,i))):u.push(e)}));var v=n.createFromArray(u);return c&&(v=(function(e,t,r,n){return e.withMutations((function(t){var o=r.getKey(),i=n.getKey(),s=r.getNextSiblingKey(),a=r.getParentKey(),c=(function(e,t){var r=e.getKey(),n=e,o=[];for(t.get(r)&&o.push(r);n&&n.getNextSiblingKey();){var i=n.getNextSiblingKey();if(!i)break;o.push(i),n=t.get(i)}return o})(n,e),u=c[c.length-1];if(t.get(i)?(t.setIn([o,"nextSibling"],i),t.setIn([i,"prevSibling"],o)):(t.setIn([o,"nextSibling"],n.getNextSiblingKey()),t.setIn([n.getNextSiblingKey(),"prevSibling"],o)),t.setIn([u,"nextSibling"],s),s&&t.setIn([s,"prevSibling"],u),c.forEach((function(e){return t.setIn([e,"parent"],a)})),a){var p=e.get(a).getChildKeys(),d=p.indexOf(o)+1,m=p.toArray();m.splice.apply(m,[d,0].concat(c)),t.setIn([a,"children"],l(m))}}))})(v,0,d,m)),e.merge({blockMap:v,selectionBefore:t,selectionAfter:t.merge({anchorKey:h,anchorOffset:g,focusKey:h,focusOffset:g,isBackward:!1})})};e.exports=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||a(!1,"`insertFragment` should only be called with a collapsed selection state.");var i=e.getBlockMap(),s=c(r),l=t.getStartKey(),d=t.getStartOffset(),m=i.get(l);return m instanceof o&&(m.getChildKeys().isEmpty()||a(!1,"`insertFragment` should not be called when a container node is selected.")),1===s.size?u(e,t,i,s.first(),l,d,n):p(e,t,i,s,l,d)}},function(e,t,r){"use strict";var n=r(0),o=r(43),i=r(1),s=n.Repeat;e.exports=function(e,t,r,n){t.isCollapsed()||i(!1,"`insertText` should only be called with a collapsed range.");var a=null;if(null!=r&&(a=r.length),null==a||0===a)return e;var c=e.getBlockMap(),l=t.getStartKey(),u=t.getStartOffset(),p=c.get(l),d=p.getText(),m=p.merge({text:d.slice(0,u)+r+d.slice(u,p.getLength()),characterList:o(p.getCharacterList(),s(n,a).toList(),u)}),f=u+a;return e.merge({blockMap:c.set(l,m),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}},function(e,t,r){"use strict";var n=r(7),o=r(45),i=r(0),s=(i.List,i.Map),a=function(e,t,r){if(e){var n=t.get(e);n&&t.set(e,r(n))}},c=function(e,t){var r=[];if(!e)return r;for(var n=t.get(e);n&&n.getParentKey();){var o=n.getParentKey();o&&r.push(o),n=o?t.get(o):null}return r},l=function(e,t,r){if(!e)return null;for(var n=r.get(e.getKey()).getNextSiblingKey();n&&!t.get(n);)n=r.get(n).getNextSiblingKey()||null;return n},u=function(e,t,r){if(!e)return null;for(var n=r.get(e.getKey()).getPrevSiblingKey();n&&!t.get(n);)n=r.get(n).getPrevSiblingKey()||null;return n},p=function(e,t,r,n){return e.withMutations((function(i){if(a(t.getKey(),i,(function(e){return e.merge({nextSibling:l(e,i,n),prevSibling:u(e,i,n)})})),a(r.getKey(),i,(function(e){return e.merge({nextSibling:l(e,i,n),prevSibling:u(e,i,n)})})),c(t.getKey(),n).forEach((function(e){return a(e,i,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return i.get(e)})),nextSibling:l(e,i,n),prevSibling:u(e,i,n)})}))})),a(t.getNextSiblingKey(),i,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),a(t.getPrevSiblingKey(),i,(function(e){return e.merge({nextSibling:l(e,i,n)})})),a(r.getNextSiblingKey(),i,(function(e){return e.merge({prevSibling:u(e,i,n)})})),a(r.getPrevSiblingKey(),i,(function(e){return e.merge({nextSibling:r.getNextSiblingKey()})})),c(r.getKey(),n).forEach((function(e){a(e,i,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return i.get(e)})),nextSibling:l(e,i,n),prevSibling:u(e,i,n)})}))})),(function(e,t){var r=[];if(!e)return r;for(var n=o(e,t);n&&t.get(n);){var i=t.get(n);r.push(n),n=i.getParentKey()?o(i,t):null}return r})(r,n).forEach((function(e){return a(e,i,(function(e){return e.merge({nextSibling:l(e,i,n),prevSibling:u(e,i,n)})}))})),null==e.get(t.getKey())&&null!=e.get(r.getKey())&&r.getParentKey()===t.getKey()&&null==r.getPrevSiblingKey()){var s=t.getPrevSiblingKey();a(r.getKey(),i,(function(e){return e.merge({prevSibling:s})})),a(s,i,(function(e){return e.merge({nextSibling:r.getKey()})}));var p=s?e.get(s):null,d=p?p.getParentKey():null;if(t.getChildKeys().forEach((function(e){a(e,i,(function(e){return e.merge({parent:d})}))})),null!=d){var m=e.get(d);a(d,i,(function(e){return e.merge({children:m.getChildKeys().concat(t.getChildKeys())})}))}a(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),i,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))};e.exports=function(e,t){if(t.isCollapsed())return e;var r,i=e.getBlockMap(),a=t.getStartKey(),l=t.getStartOffset(),u=t.getEndKey(),d=t.getEndOffset(),m=i.get(a),f=i.get(u),g=m instanceof n,h=[];if(g){var y=f.getChildKeys(),v=c(u,i);f.getNextSiblingKey()&&(h=h.concat(v)),y.isEmpty()||(h=h.concat(v.concat([u]))),h=h.concat(c(o(f,i),i))}r=m===f?(function(e,t,r){if(0===t)for(;t<r;)e=e.shift(),t++;else if(r===e.count())for(;r>t;)e=e.pop(),r--;else{var n=e.slice(0,t),o=e.slice(r);e=n.concat(o).toList()}return e})(m.getCharacterList(),l,d):m.getCharacterList().slice(0,l).concat(f.getCharacterList().slice(d));var b=m.merge({text:m.getText().slice(0,l)+f.getText().slice(d),characterList:r}),_=g&&0===l&&0===d&&f.getParentKey()===a&&null==f.getPrevSiblingKey()?s([[a,null]]):i.toSeq().skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===u})).filter((function(e,t){return-1===h.indexOf(t)})).concat(s([[u,null]])).map((function(e,t){return t===a?b:null})),S=i.merge(_).filter((function(e){return!!e}));return g&&m!==f&&(S=p(S,m,f,i)),e.merge({blockMap:S,selectionBefore:t,selectionAfter:t.merge({anchorKey:a,anchorOffset:l,focusKey:a,focusOffset:l,isBackward:!1})})}},function(e,t,r){"use strict";var n=r(7),o=r(9),i=r(0),s=r(1),a=r(44),c=i.List,l=i.Map,u=function(e,t,r){if(e){var n=t.get(e);n&&t.set(e,r(n))}};e.exports=function(e,t){t.isCollapsed()||s(!1,"Selection range must be collapsed.");var r=t.getAnchorKey(),i=e.getBlockMap(),p=i.get(r),d=p.getText();if(!d){var m=p.getType();if("unordered-list-item"===m||"ordered-list-item"===m)return a(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var f=t.getAnchorOffset(),g=p.getCharacterList(),h=o(),y=p instanceof n,v=p.merge({text:d.slice(0,f),characterList:g.slice(0,f)}),b=v.merge({key:h,text:d.slice(f),characterList:g.slice(f),data:l()}),_=i.toSeq().takeUntil((function(e){return e===p})),S=i.toSeq().skipUntil((function(e){return e===p})).rest(),C=_.concat([[r,v],[h,b]],S).toOrderedMap();return y&&(p.getChildKeys().isEmpty()||s(!1,"ContentBlockNode must not have children"),C=(function(e,t,r){return e.withMutations((function(e){var n=t.getKey(),o=r.getKey();u(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),r=t.indexOf(n)+1,i=t.toArray();return i.splice(r,0,o),e.merge({children:c(i)})})),u(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:o})})),u(n,e,(function(e){return e.merge({nextSibling:o})})),u(o,e,(function(e){return e.merge({prevSibling:n})}))}))})(C,v,b)),e.merge({blockMap:C,selectionBefore:t,selectionAfter:t.merge({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1})})}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(18),i=r(46),s=r(0),a=s.List,c=s.Repeat,l=s.Record,u=function(){return!0},p=l({start:null,end:null}),d=l({start:null,end:null,decoratorKey:null,leaves:null}),m={generate:function(e,t,r){var n=t.getLength();if(!n)return a.of(new d({start:0,end:0,decoratorKey:null,leaves:a.of(new p({start:0,end:0}))}));var i=[],s=r?r.getDecorations(t,e):a(c(null,n)),l=t.getCharacterList();return o(s,g,u,(function(e,t){i.push(new d({start:e,end:t,decoratorKey:s.get(e),leaves:f(l.slice(e,t).toList(),e)}))})),a(i)},fromJS:function(e){var t=e.leaves,r=(function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o})(e,["leaves"]);return new d((function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e})({},r,{leaves:null!=t?a(Array.isArray(t)?t:i(t)).map((function(e){return p(e)})):null}))}};function f(e,t){var r=[],n=e.map((function(e){return e.getStyle()})).toList();return o(n,g,u,(function(e,n){r.push(new p({start:e+t,end:n+t}))})),a(r)}function g(e,t){return e===t}e.exports=m},function(e,t,r){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},function(e,t,r){"use strict";var n,o=r(94),i=r(0),s=r(4),a=i.OrderedMap,c={getDirectionMap:function(e,t){n?n.reset():n=new o;var r=e.getBlockMap(),c=r.valueSeq().map((function(e){return s(n).getDirection(e.getText())})),l=a(r.keySeq().zip(c));return null!=t&&i.is(t,l)?t:l}};e.exports=c},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(33),i=r(24),s=r(1),a=(function(){function e(e){n(this,"_defaultDir",void 0),n(this,"_lastDir",void 0),e?i.isStrong(e)||s(!1,"Default direction must be a strong direction (LTR or RTL)"):e=i.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=o.getDirection(e,this._lastDir),this._lastDir},e})();e.exports=a},function(e,t,r){"use strict";var n=r(7),o=r(45),i=r(0),s=r(1),a=i.OrderedMap,c=i.List,l=function(e,t,r){if(e){var n=t.get(e);n&&t.set(e,r(n))}},u=function(e,t,r,n,o){if(!o)return e;var i="after"===n,s=t.getKey(),a=r.getKey(),u=t.getParentKey(),p=t.getNextSiblingKey(),d=t.getPrevSiblingKey(),m=r.getParentKey(),f=i?r.getNextSiblingKey():a,g=i?a:r.getPrevSiblingKey();return e.withMutations((function(e){l(u,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(s))})})),l(d,e,(function(e){return e.merge({nextSibling:p})})),l(p,e,(function(e){return e.merge({prevSibling:d})})),l(f,e,(function(e){return e.merge({prevSibling:s})})),l(g,e,(function(e){return e.merge({nextSibling:s})})),l(m,e,(function(e){var t=e.getChildKeys(),r=t.indexOf(a),n=i?r+1:0!==r?r-1:0,o=t.toArray();return o.splice(n,0,s),e.merge({children:c(o)})})),l(s,e,(function(e){return e.merge({nextSibling:f,prevSibling:g,parent:m})}))}))};e.exports=function(e,t,r,i){"replace"===i&&s(!1,"Replacing blocks is not supported.");var c=r.getKey(),l=t.getKey();l===c&&s(!1,"Block cannot be moved next to itself.");var p=e.getBlockMap(),d=t instanceof n,m=[t],f=p.delete(l);d&&(m=[],f=p.withMutations((function(e){var r=t.getNextSiblingKey(),n=o(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===l})).takeWhile((function(e){var t=e.getKey(),o=t===l,i=r&&t!==r,s=!r&&e.getParentKey()&&(!n||t!==n);return!!(o||i||s)})).forEach((function(t){m.push(t),e.delete(t.getKey())}))})));var g=f.toSeq().takeUntil((function(e){return e===r})),h=f.toSeq().skipUntil((function(e){return e===r})).skip(1),y=m.map((function(e){return[e.getKey(),e]})),v=a();if("before"===i){var b=e.getBlockBefore(c);b&&b.getKey()===t.getKey()&&s(!1,"Block cannot be moved next to itself."),v=g.concat([].concat(y,[[c,r]]),h).toOrderedMap()}else if("after"===i){var _=e.getBlockAfter(c);_&&_.getKey()===l&&s(!1,"Block cannot be moved next to itself."),v=g.concat([[c,r]].concat(y),h).toOrderedMap()}return e.merge({blockMap:u(v,t,r,i,d),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}},function(e,t,r){"use strict";var n=r(0).List,o=(function(){function e(e){var t,r;r=void 0,(t="_decorators")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var r=Array(e.getText().length).fill(null);return this._decorators.forEach((function(n,o){var i=0;(0,n.strategy)(e,(function(e,t){(function(e,t,r){for(var n=t;n<r;n++)if(null!=e[n])return!1;return!0})(r,e,t)&&((function(e,t,r,n){for(var o=t;o<r;o++)e[o]=n})(r,e,t,o+"."+i),i++)}),t)})),n(r)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e})();e.exports=o},function(e,t,r){"use strict";(function(t){var n=r(14);function o(){return(o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=r(34),u=r(49),p=r(98),d=r(106),m=r(123),f=r(126),g=r(162),h=r(164),y=r(61),v=r(2),b=r(8),_=r(37),S=r(29),C=r(5),E=r(13),w=r(9),x=r(77),T=r(30),k=r(11),M=r(1),O=r(19),L=r(4),P=C.isBrowser("IE"),D=!P,N={edit:f,composite:p,drag:m,cut:null,render:null},R=!1,F=(function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var r=t.prototype;return r.render=function(){return null},r.componentDidMount=function(){this._update()},r.componentDidUpdate=function(){this._update()},r._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t})(b.Component),A=(function(e){function r(t){var r;return a(s(r=e.call(this,t)||this),"_blockSelectEvents",void 0),a(s(r),"_clipboard",void 0),a(s(r),"_handler",void 0),a(s(r),"_dragCount",void 0),a(s(r),"_internalDrag",void 0),a(s(r),"_editorKey",void 0),a(s(r),"_placeholderAccessibilityID",void 0),a(s(r),"_latestEditorState",void 0),a(s(r),"_latestCommittedEditorState",void 0),a(s(r),"_pendingStateFromBeforeInput",void 0),a(s(r),"_onBeforeInput",void 0),a(s(r),"_onBlur",void 0),a(s(r),"_onCharacterData",void 0),a(s(r),"_onCompositionEnd",void 0),a(s(r),"_onCompositionStart",void 0),a(s(r),"_onCopy",void 0),a(s(r),"_onCut",void 0),a(s(r),"_onDragEnd",void 0),a(s(r),"_onDragOver",void 0),a(s(r),"_onDragStart",void 0),a(s(r),"_onDrop",void 0),a(s(r),"_onInput",void 0),a(s(r),"_onFocus",void 0),a(s(r),"_onKeyDown",void 0),a(s(r),"_onKeyPress",void 0),a(s(r),"_onKeyUp",void 0),a(s(r),"_onMouseDown",void 0),a(s(r),"_onMouseUp",void 0),a(s(r),"_onPaste",void 0),a(s(r),"_onSelect",void 0),a(s(r),"editor",void 0),a(s(r),"editorContainer",void 0),a(s(r),"focus",void 0),a(s(r),"blur",void 0),a(s(r),"setMode",void 0),a(s(r),"exitCurrentMode",void 0),a(s(r),"restoreEditorDOM",void 0),a(s(r),"setClipboard",void 0),a(s(r),"getClipboard",void 0),a(s(r),"getEditorKey",void 0),a(s(r),"update",void 0),a(s(r),"onDragEnter",void 0),a(s(r),"onDragLeave",void 0),a(s(r),"_handleEditorContainerRef",(function(e){r.editorContainer=e,r.editor=null!==e?e.firstChild:null})),a(s(r),"focus",(function(e){var t=r.props.editorState,n=t.getSelection().getHasFocus(),o=r.editor;if(o){var i=S.getScrollParent(o),s=e||T(i),a=s.x,c=s.y;O(o)||M(!1,"editorNode is not an HTMLElement"),o.focus(),i===window?window.scrollTo(a,c):_.setTop(i,c),n||r.update(v.forceSelection(t,t.getSelection()))}})),a(s(r),"blur",(function(){var e=r.editor;e&&(O(e)||M(!1,"editorNode is not an HTMLElement"),e.blur())})),a(s(r),"setMode",(function(e){var t=r.props,n=t.onPaste,o=t.onCut,s=t.onCopy,a=i({},N.edit);n&&(a.onPaste=n),o&&(a.onCut=o),s&&(a.onCopy=s);var c=i({},N,{edit:a});r._handler=c[e]})),a(s(r),"exitCurrentMode",(function(){r.setMode("edit")})),a(s(r),"restoreEditorDOM",(function(e){r.setState({contentsKey:r.state.contentsKey+1},(function(){r.focus(e)}))})),a(s(r),"setClipboard",(function(e){r._clipboard=e})),a(s(r),"getClipboard",(function(){return r._clipboard})),a(s(r),"update",(function(e){r._latestEditorState=e,r.props.onChange(e)})),a(s(r),"onDragEnter",(function(){r._dragCount++})),a(s(r),"onDragLeave",(function(){r._dragCount--,0===r._dragCount&&r.exitCurrentMode()})),r._blockSelectEvents=!1,r._clipboard=null,r._handler=null,r._dragCount=0,r._editorKey=t.editorKey||w(),r._placeholderAccessibilityID="placeholder-"+r._editorKey,r._latestEditorState=t.editorState,r._latestCommittedEditorState=t.editorState,r._onBeforeInput=r._buildHandler("onBeforeInput"),r._onBlur=r._buildHandler("onBlur"),r._onCharacterData=r._buildHandler("onCharacterData"),r._onCompositionEnd=r._buildHandler("onCompositionEnd"),r._onCompositionStart=r._buildHandler("onCompositionStart"),r._onCopy=r._buildHandler("onCopy"),r._onCut=r._buildHandler("onCut"),r._onDragEnd=r._buildHandler("onDragEnd"),r._onDragOver=r._buildHandler("onDragOver"),r._onDragStart=r._buildHandler("onDragStart"),r._onDrop=r._buildHandler("onDrop"),r._onInput=r._buildHandler("onInput"),r._onFocus=r._buildHandler("onFocus"),r._onKeyDown=r._buildHandler("onKeyDown"),r._onKeyPress=r._buildHandler("onKeyPress"),r._onKeyUp=r._buildHandler("onKeyUp"),r._onMouseDown=r._buildHandler("onMouseDown"),r._onMouseUp=r._buildHandler("onMouseUp"),r._onPaste=r._buildHandler("onPaste"),r._onSelect=r._buildHandler("onSelect"),r.getEditorKey=function(){return r._editorKey},["onDownArrow","onEscape","onLeftArrow","onRightArrow","onTab","onUpArrow"].forEach((function(e){t.hasOwnProperty(e)&&console.warn("Supplying an `".concat(e,"` prop to `DraftEditor` has ")+"been deprecated. If your handler needs access to the keyboard event, supply a custom `keyBindingFn` prop that falls back to the default one (eg. https://is.gd/wHKQ3W).")})),r.state={contentsKey:0},r}c(r,e);var n=r.prototype;return n._buildHandler=function(e){var t=this;return function(r){if(!t.props.readOnly){var n=t._handler&&t._handler[e];n&&(g?g((function(){return n(t,r)})):n(t,r))}}},n._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},n._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:L(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(h,e)}return null},n._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},n.render=function(){var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,n=e.blockStyleFn,s=e.customStyleFn,a=e.customStyleMap,c=e.editorState,l=e.preventScroll,p=e.readOnly,m=e.textAlignment,f=e.textDirectionality,g=E({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===m,"DraftEditor/alignRight":"right"===m,"DraftEditor/alignCenter":"center"===m}),h=this.props.role||"textbox",y="combobox"===h?!!this.props.ariaExpanded:null,v={blockRenderMap:t,blockRendererFn:r,blockStyleFn:n,customStyleMap:i({},u,a),customStyleFn:s,editorKey:this._editorKey,editorState:c,preventScroll:l,textDirectionality:f};return b.createElement("div",{className:g},this._renderPlaceholder(),b.createElement("div",{className:E("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":p?null:this.props.ariaActiveDescendantID,"aria-autocomplete":p?null:this.props.ariaAutoComplete,"aria-controls":p?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":p?null:y,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":p?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:E({notranslate:!p,"public/DraftEditor/content":!0}),contentEditable:!p,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:p?null:h,spellCheck:D&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(F,{editor:this,editorState:c}),b.createElement(d,o({},v,{key:"contents"+this.state.contentsKey})))))},n.componentDidMount=function(){this._blockSelectEvents=!1,!R&&k("draft_ods_enabled")&&(R=!0,y.initODS()),this.setMode("edit"),P&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},n.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},r})(b.Component);a(A,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:l,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:x,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=A}).call(this,r(25))},function(e,t,r){"use strict";var n=r(99),o=r(3),i=r(10),s=r(2),a=r(28),c=r(5),l=r(52),u=r(54),p=r(55),d=r(35),m=r(4),f=c.isBrowser("IE"),g=!1,h=!1,y=null,v={onCompositionStart:function(e){h=!0,(function(e){y||(y=new n(u(e))).start()})(e)},onCompositionEnd:function(e){g=!1,h=!1,setTimeout((function(){g||v.resolveComposition(e)}),20)},onSelect:l,onKeyDown:function(e,t){if(!h)return v.resolveComposition(e),void e._onKeyDown(t);t.which!==a.RIGHT&&t.which!==a.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===a.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!h){var t=m(y).stopAndFlushMutations();y=null,g=!0;var r=s.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var n=r.getCurrentContent();t.forEach((function(e,t){var a=i.decode(t),c=a.blockKey,l=a.decoratorKey,u=a.leafKey,p=r.getBlockTree(c).getIn([l,"leaves",u]),m=p.start,f=p.end,g=r.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:m,focusOffset:f,isBackward:!1}),h=d(n,g),y=n.getBlockForKey(c).getInlineStyleAt(m);n=o.replaceText(n,g,e,y,h),r=s.set(r,{currentContent:n})}));var a=p(r,u(e)).selectionState;e.restoreEditorDOM();var c=f?s.forceSelection(r,a):s.acceptSelection(r,a);e.update(s.push(c,n,"insert-characters"))}else e.update(r)}}};e.exports=v},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(5),i=r(26),s=r(51),a=r(0),c=r(1),l=r(4),u=a.Map,p={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},d=o.isBrowser("IE <= 11"),m=(function(){function e(e){var t=this;n(this,"observer",void 0),n(this,"container",void 0),n(this,"mutations",void 0),n(this,"onCharData",void 0),this.container=e,this.mutations=u();var r=s(e);r.MutationObserver&&!d?this.observer=new r.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||c(!1,"Expected target to be an instance of Node"),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,p):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=u(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,r=e.target,n=e.removedNodes;if("characterData"===t){if(""!==r.textContent)return d?r.textContent.replace("\n",""):r.textContent}else if("childList"===t){if(n&&n.length)return"";if(""!==r.textContent)return r.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var r=l(i(e.target));this.mutations=this.mutations.set(r,t)}},e})();e.exports=m},function(e,t,r){"use strict";var n,o="Unknown",i=(new(r(101))).getResult(),s=(function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}})(i.browser.version),a={browserArchitecture:i.cpu.architecture||o,browserFullVersion:i.browser.version||o,browserMinorVersion:s.minor||o,browserName:i.browser.name||o,browserVersion:i.browser.major||o,deviceName:i.device.model||o,engineName:i.engine.name||o,engineVersion:i.engine.version||o,platformArchitecture:i.cpu.architecture||o,platformName:(n=i.os.name,{"Mac OS":"Mac OS X"}[n]||n||o),platformVersion:i.os.version||o,platformFullVersion:i.os.version||o};e.exports=a},function(e,t,r){var n;!(function(o,i){"use strict";var s="model",a="name",c="type",l="vendor",u="version",p="mobile",d="tablet",m={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(e,t){for(var r,n,o,i,s,a,c=0;c<t.length&&!s;){var l=t[c],u=t[c+1];for(r=n=0;r<l.length&&!s;)if(s=l[r++].exec(e))for(o=0;o<u.length;o++)a=s[++n],"object"==typeof(i=u[o])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,a):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=a?a.replace(i[1],i[2]):void 0:this[i[0]]=a?i[1].call(this,a,i[2]):void 0:4==i.length&&(this[i[0]]=a?i[3].call(this,a.replace(i[1],i[2])):void 0):this[i]=a||void 0;c+=2}},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(m.has(t[r][n],e))return"?"===r?void 0:r}else if(m.has(t[r],e))return"?"===r?void 0:r;return e}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},h={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],u],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],u],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[a,u],[/(QQ)\/([\d\.]+)/i],[a,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,u],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,f.str,g.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",m.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",m.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,l,[c,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[l,"Apple"],[c,d]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,s,[c,d]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[l,"Amazon"],[c,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,f.str,g.device.amazon.model],[l,"Amazon"],[c,p]],[/android.+aft([bms])\sbuild/i],[s,[l,"Amazon"],[c,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,l,[c,p]],[/\((ip[honed|\s\w*]+);/i],[s,[l,"Apple"],[c,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,s,[c,p]],[/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[c,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[l,"Asus"],[c,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[s,"Xperia Tablet"],[c,d]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[l,"Sony"],[c,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,f.str,g.device.sprint.vendor],[s,f.str,g.device.sprint.model],[c,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,s,[c,d]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[s,/_/g," "],[c,p]],[/(nexus\s9)/i],[s,[l,"HTC"],[c,d]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[l,"Huawei"],[c,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,s,[c,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[c,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[l,"Motorola"],[c,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[c,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,m.trim],[s,m.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],s,[c,d]],[/smart-tv.+(samsung)/i],[l,[c,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],s,[c,p]],[/sie-(\w*)/i],[s,[l,"Siemens"],[c,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],s,[c,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[l,"Acer"],[c,d]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[l,"LG"],[c,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],s,[c,d]],[/(lg) netcast\.tv/i],[l,s,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[l,"LG"],[c,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[l,"Lenovo"],[c,d]],[/linux;.+((jolla));/i],[l,s,[c,p]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[c,p]],[/crkey/i],[[s,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[s,[l,"Google"],[c,d]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[s,[l,"Google"],[c,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[l,"Meizu"],[c,d]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],s,[c,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[s,[l,"OnePlus"],[c,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[l,"RCA"],[c,d]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[l,"Dell"],[c,d]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[l,"Verizon"],[c,d]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],s,[c,d]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[l,"NuVision"],[c,d]],[/android.+;\s(k88)\sbuild/i],[s,[l,"ZTE"],[c,d]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[l,"Swiss"],[c,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[l,"Swiss"],[c,d]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[l,"Zeki"],[c,d]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],s,[c,d]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[l,"Insignia"],[c,d]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[l,"NextBook"],[c,d]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],s,[c,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],s,[c,p]],[/android.+;\s(PH-1)\s/i],[s,[l,"Essential"],[c,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[l,"Envizen"],[c,d]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,s,[c,d]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[l,"MachSpeed"],[c,d]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,s,[c,d]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[l,"Rotor"],[c,d]],[/android.+(KS(.+))\s+build/i],[s,[l,"Amazon"],[c,d]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,s,[c,d]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,m.lowerize],l,s],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,f.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,f.str,g.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,u]]},y=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof y))return new y(e,t).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?m.extend(h,t):h;return this.getBrowser=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.browser),e.major=m.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return f.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return f.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};y.VERSION="0.7.19",y.BROWSER={NAME:a,MAJOR:"major",VERSION:u},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:s,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:d,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:a,VERSION:u},y.OS={NAME:a,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=y),t.UAParser=y):r(102)?void 0===(n=function(){return y}.call(t,r,t,e))||(e.exports=n):o&&(o.UAParser=y);var v=o&&(o.jQuery||o.Zepto);if(void 0!==v&&!v.ua){var b=new y;v.ua=b.getResult(),v.ua.get=function(){return b.getUA()},v.ua.set=function(e){b.setUA(e);var t=b.getResult();for(var r in t)v.ua[r]=t[r]}}})("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){"use strict";var n=r(1),o=/\./,i=/\|\|/,s=/\s+\-\s+/,a=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function l(e,t){if(""===(e=e.trim()))return!0;var r,n=t.split(o),i=d(e),s=i.modifier,a=i.rangeComponents;switch(s){case"<":return u(n,a);case"<=":return-1===(r=v(n,a))||0===r;case">=":return p(n,a);case">":return(function(e,t){return 1===v(e,t)})(n,a);case"~":case"~>":return(function(e,t){var r=t.slice(),n=t.slice();n.length>1&&n.pop();var o=n.length-1,i=parseInt(n[o],10);return m(i)&&(n[o]=i+1+""),p(e,r)&&u(e,n)})(n,a);default:return(function(e,t){return 0===v(e,t)})(n,a)}}function u(e,t){return-1===v(e,t)}function p(e,t){var r=v(e,t);return 1===r||0===r}function d(e){var t=e.split(o),r=t[0].match(a);return r||n(!1,"expected regex to match but it did not"),{modifier:r[1],rangeComponents:[r[2]].concat(t.slice(1))}}function m(e){return!isNaN(e)&&isFinite(e)}function f(e){return!d(e).modifier}function g(e,t){for(var r=e.length;r<t;r++)e[r]="0"}function h(e,t){var r=e.match(c)[1],n=t.match(c)[1],o=parseInt(r,10),i=parseInt(n,10);return m(o)&&m(i)&&o!==i?y(o,i):y(e,t)}function y(e,t){return typeof e!=typeof t&&n(!1,'"a" and "b" must be of the same type'),e>t?1:e<t?-1:0}function v(e,t){for(var r=(function(e,t){g(e=e.slice(),(t=t.slice()).length);for(var r=0;r<t.length;r++){var n=t[r].match(/^[x*]$/i);if(n&&(t[r]=e[r]="0","*"===n[0]&&r===t.length-1))for(var o=r;o<e.length;o++)e[o]="0"}return g(t,e.length),[e,t]})(e,t),n=r[0],o=r[1],i=0;i<o.length;i++){var s=h(n[i],o[i]);if(s)return s}return 0}var b={contains:function(e,t){return(function(e,t){var r=e.split(i);return r.length>1?r.some((function(e){return b.contains(e,t)})):(function(e,t){var r=e.split(s);if(r.length>0&&r.length<=2||n(!1,'the "-" operator expects exactly 2 operands'),1===r.length)return l(r[0],t);var o=r[0],i=r[1];return f(o)&&f(i)||n(!1,'operands to the "-" operator must be simple (no modifiers)'),l(">="+o,t)&&l("<="+i,t)})(e=r[0].trim(),t)})(e.trim(),t.trim())}};e.exports=b},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!e)return null;var o={};for(var i in e)n.call(e,i)&&(o[i]=t.call(r,e[i],i,e));return o}},function(e,t,r){"use strict";e.exports=function(e){var t={};return function(r){return t.hasOwnProperty(r)||(t[r]=e.call(this,r)),t[r]}}},function(e,t,r){"use strict";var n=r(11)("draft_tree_data_support");e.exports=r(n?107:121)},function(e,t,r){"use strict";var n=r(14);function o(){return(o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r(108),s=r(10),a=r(8),c=r(4),l=(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=n.prototype;return l.shouldComponentUpdate=function(e){var t=this.props.editorState,r=e.editorState;if(t.getDirectionMap()!==r.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var n=r.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=r.isInCompositionMode();if(t===r||null!==n&&r.getCurrentContent()===n||o&&i)return!1;var s=t.getCurrentContent(),a=r.getCurrentContent(),c=t.getDecorator(),l=r.getDecorator();return o!==i||s!==a||c!==l||r.mustForceSelection()},l.render=function(){for(var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,n=e.blockStyleFn,l=e.customStyleMap,u=e.customStyleFn,p=e.editorState,d=e.editorKey,m=e.textDirectionality,f=p.getCurrentContent(),g=p.getSelection(),h=p.mustForceSelection(),y=p.getDecorator(),v=c(p.getDirectionMap()),b=[],_=f.getBlocksAsArray()[0];_;){var S=_.getKey(),C={blockRenderMap:t,blockRendererFn:r,blockStyleFn:n,contentState:f,customStyleFn:u,customStyleMap:l,decorator:y,editorKey:d,editorState:p,forceSelection:h,selection:g,block:_,direction:m||v.get(S),tree:p.getBlockTree(S)},E=(t.get(_.getType())||t.get("unstyled")).wrapper;b.push({block:a.createElement(i,o({key:S},C)),wrapperTemplate:E,key:S,offsetKey:s.encode(S,0,0)});var w=_.getNextSiblingKey();_=w?f.getBlockForKey(w):null}for(var x=[],T=0;T<b.length;){var k=b[T];if(k.wrapperTemplate){var M=[];do{M.push(b[T].block),T++}while(T<b.length&&b[T].wrapperTemplate===k.wrapperTemplate);var O=a.cloneElement(k.wrapperTemplate,{key:k.key+"-wrap","data-offset-key":k.offsetKey},M);x.push(O)}else x.push(k.block),T++}return a.createElement("div",{"data-contents":"true"},x)},n})(a.Component);e.exports=l},function(e,t,r){"use strict";var n=r(14);function o(){return(o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(109),l=r(10),u=r(8),p=r(37),d=r(29),m=r(63),f=r(30),g=r(64),h=r(0),y=r(1),v=r(19),b=(h.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),_=function(e,t){var r=t.get(e.getType())||t.get("unstyled"),n=r.wrapper;return{Element:r.element||t.get("unstyled").element,wrapperTemplate:n}},S=function(e,t){var r=t(e);return r?{CustomComponent:r.component,customProps:r.props,customEditable:r.editable}:{}},C=function(e,t,r,n,o,i){var a={"data-block":!0,"data-editor":t,"data-offset-key":r,key:e.getKey(),ref:i},c=n(e);return c&&(a.className=c),void 0!==o.customEditable&&(a=s({},a,{contentEditable:o.customEditable,suppressContentEditableWarning:!0})),a},E=(function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return a(i(t=e.call.apply(e,[this].concat(n))||this),"wrapperRef",u.createRef()),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=n.prototype;return h.shouldComponentUpdate=function(e){var t=this.props,r=t.block,n=t.direction,o=t.tree,i=!r.getChildKeys().isEmpty(),s=r!==e.block||o!==e.tree||n!==e.direction||b(e.selection,e.block.getKey())&&e.forceSelection;return i||s},h.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var r=this.wrapperRef.current;if(r){var n,o=d.getScrollParent(r),i=f(o);if(o===window){var s=m(r);(n=s.y+s.height-g().height)>0&&window.scrollTo(i.x,i.y+n+10)}else{v(r)||y(!1,"blockNode is not an HTMLElement");var a=r;(n=a.offsetHeight+a.offsetTop-(o.offsetHeight+i.y))>0&&p.setTop(o,p.getTop(o)+n+10)}}}},h.render=function(){var e=this,t=this.props,r=t.block,i=t.blockRenderMap,a=t.blockRendererFn,p=t.blockStyleFn,d=t.contentState,m=t.decorator,f=t.editorKey,g=t.editorState,h=t.customStyleFn,y=t.customStyleMap,v=t.direction,E=t.forceSelection,w=t.selection,x=t.tree,T=null;r.children.size&&(T=r.children.reduce((function(t,r){var o=l.encode(r,0,0),c=d.getBlockForKey(r),m=S(c,a),h=m.CustomComponent||n,y=_(c,i),v=y.Element,b=y.wrapperTemplate,E=C(c,f,o,p,m,null),w=s({},e.props,{tree:g.getBlockTree(r),blockProps:m.customProps,offsetKey:o,block:c});return t.push(u.createElement(v,E,u.createElement(h,w))),!b||(function(e,t){var r=e.getNextSiblingKey();return!!r&&t.getBlockForKey(r).getType()===e.getType()})(c,d)||(function(e,t,r){var n=[],o=!0,i=!1,s=void 0;try{for(var a,c=r.reverse()[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var p=a.value;if(p.type!==t)break;n.push(p)}}catch(e){i=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}r.splice(r.indexOf(n[0]),n.length+1);var d=n.reverse(),m=d[0].key;r.push(u.cloneElement(e,{key:"".concat(m,"-wrap"),"data-offset-key":l.encode(m,0,0)},d))})(b,v,t),t}),[]));var k=r.getKey(),M=l.encode(k,0,0),O=S(r,a),L=O.CustomComponent,P=null!=L?u.createElement(L,o({},this.props,{tree:g.getBlockTree(k),blockProps:O.customProps,offsetKey:M,block:r})):u.createElement(c,{block:r,children:T,contentState:d,customStyleFn:h,customStyleMap:y,decorator:m,direction:v,forceSelection:E,hasSelection:b(w,k),selection:w,tree:x});if(r.getParentKey())return P;var D=_(r,i).Element,N=C(r,f,M,p,O,this.wrapperRef);return u.createElement(D,N,P)},n})(u.Component);e.exports=E},function(e,t,r){"use strict";var n=r(110),o=r(59),i=r(10),s=r(0),a=r(8),c=r(13),l=(s.List,(function(e){var t,r;function s(){return e.apply(this,arguments)||this}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.prototype.render=function(){var e=this.props,t=e.block,r=e.contentState,s=e.customStyleFn,l=e.customStyleMap,u=e.decorator,p=e.direction,d=e.forceSelection,m=e.hasSelection,f=e.selection,g=e.tree,h=t.getKey(),y=t.getText(),v=g.size-1,b=this.props.children||g.map((function(e,c){var g=e.get("decoratorKey"),b=e.get("leaves"),_=b.size-1,S=b.map((function(e,r){var n=i.encode(h,c,r),u=e.get("start"),p=e.get("end");return a.createElement(o,{key:n,offsetKey:n,block:t,start:u,selection:m?f:null,forceSelection:d,text:y.slice(u,p),styleSet:t.getInlineStyleAt(u),customStyleMap:l,customStyleFn:s,isLast:g===v&&r===_})})).toArray();return g&&u?a.createElement(n,{block:t,children:S,contentState:r,decorator:u,decoratorKey:g,direction:p,leafSet:e,text:y,key:c}):S})).toArray();return a.createElement("div",{"data-offset-key":i.encode(h,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===p,"public/DraftStyleDefault/rtl":"RTL"===p})},b)},s})(a.Component));e.exports=l},function(e,t,r){"use strict";var n=r(14);function o(){return(o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r(10),s=r(8),a=r(33),c=r(24),l=(function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.block,r=e.children,n=e.contentState,l=e.decorator,u=e.decoratorKey,p=e.direction,d=e.leafSet,m=e.text,f=t.getKey(),g=d.get("leaves"),h=l.getComponentForKey(u),y=l.getPropsForKey(u),v=i.encode(f,parseInt(u,10),0),b=m.slice(g.first().get("start"),g.last().get("end")),_=c.getHTMLDirIfDifferent(a.getDirection(b),p);return s.createElement(h,o({},y,{contentState:n,decoratedText:b,dir:_,key:v,entityKey:t.getEntityAt(d.get("start")),offsetKey:v}),r)},n})(s.Component);e.exports=l},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(8),s=r(5),a=r(1),c=r(15),l=s.isBrowser("IE <= 11"),u=(function(e){var t,r;function s(t){var r;return o(n(r=e.call(this,t)||this),"_forceFlag",void 0),o(n(r),"_node",void 0),r._forceFlag=!1,r}r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=s.prototype;return u.shouldComponentUpdate=function(e){var t=this._node,r=""===e.children;c(t)||a(!1,"node is not an Element");var n=t;return r?!(function(e){return l?"\n"===e.textContent:"BR"===e.tagName})(n):n.textContent!==e.children},u.componentDidMount=function(){this._forceFlag=!this._forceFlag},u.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},u.render=function(){var e=this;return""===this.props.children?this._forceFlag?(function(e){return l?i.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):i.createElement("br",{key:"A","data-text":"true",ref:e})})((function(t){return e._node=t})):(function(e){return l?i.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):i.createElement("br",{key:"B","data-text":"true",ref:e})})((function(t){return e._node=t})):i.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(t){return e._node=t}},this.props.children)},s})(i.Component);e.exports=u},function(e,t,r){"use strict";var n=r(61),o=r(53),i=r(5),s=r(36),a=r(62),c=r(27),l=r(1),u=r(15),p=i.isBrowser("IE");function d(e,t){if(!e)return"[empty]";var r=(function e(t,r){var n=void 0!==r?r(t):[];if(t.nodeType===Node.TEXT_NODE){var o=t.textContent.length;return c(t).createTextNode("[text "+o+(n.length?" | "+n.join(", "):"")+"]")}var i=t.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var s=t.childNodes,a=0;a<s.length;a++)i.appendChild(e(s[a],r));return i})(e,t);return r.nodeType===Node.TEXT_NODE?r.textContent:(u(r)||l(!1,"Node must be an Element if it is not a text node."),r.outerHTML)}function m(e,t){for(var r=e,n=r;r;){if(u(r)&&n.hasAttribute("contenteditable"))return d(r,t);n=r=r.parentNode}return"Could not find contentEditable parent of node"}function f(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function g(e,t,r,n){var i=a();if(e.extend&&null!=t&&s(i,t)){r>f(t)&&o.logSelectionStateFailure({anonymizedDom:m(t),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(n.toJS())});var c=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,r)}catch(s){throw o.logSelectionStateFailure({anonymizedDom:m(t,(function(t){var r=[];return t===i&&r.push("active element"),t===e.anchorNode&&r.push("selection anchor node"),t===e.focusNode&&r.push("selection focus node"),r})),extraParams:JSON.stringify({activeElementName:i?i.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:s?""+s:null,offset:r},null,2),selectionState:JSON.stringify(n.toJS(),null,2)}),s}}else if(t&&e.rangeCount>0){var l=e.getRangeAt(0);l.setEnd(t,r),e.addRange(l.cloneRange())}}function h(e,t,r,i){var s=c(t).createRange();if(r>f(t)&&(o.logSelectionStateFailure({anonymizedDom:m(t),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(i.toJS())}),n.handleExtensionCausedError()),s.setStart(t,r),p)try{e.addRange(s)}catch(e){console.warn("Call to selection.addRange() threw exception: ",e)}else e.addRange(s)}e.exports={setDraftEditorSelection:function(e,t,r,n,o){var i=c(t);if(s(i.documentElement,t)){var a=i.defaultView.getSelection(),l=e.getAnchorKey(),u=e.getAnchorOffset(),p=e.getFocusKey(),d=e.getFocusOffset(),m=e.getIsBackward();if(!a.extend&&m){var f=l,y=u;l=p,u=d,p=f,d=y,m=!1}var v=l===r&&n<=u&&o>=u,b=p===r&&n<=d&&o>=d;if(v&&b)return a.removeAllRanges(),h(a,t,u-n,e),void g(a,t,d-n,e);if(m){if(b&&(a.removeAllRanges(),h(a,t,d-n,e)),v){var _=a.focusNode,S=a.focusOffset;a.removeAllRanges(),h(a,t,u-n,e),g(a,_,S,e)}}else v&&(a.removeAllRanges(),h(a,t,u-n,e)),b&&g(a,t,d-n,e)}},addFocusToSelection:g}},function(e,t,r){"use strict";var n=r(114);e.exports=function(e){return n(e)&&3==e.nodeType}},function(e,t,r){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,r){"use strict";var n=r(116),o=r(117);function i(e){return null==e?e:String(e)}e.exports=function(e,t){var r;if(window.getComputedStyle&&(r=window.getComputedStyle(e,null)))return i(r.getPropertyValue(o(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(r=document.defaultView.getComputedStyle(e,null))return i(r.getPropertyValue(o(t)));if("display"===t)return"none"}return e.currentStyle?i("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[n(t)]):i(e.style&&e.style[n(t)])}},function(e,t,r){"use strict";var n=/-(.)/g;e.exports=function(e){return e.replace(n,(function(e,t){return t.toUpperCase()}))}},function(e,t,r){"use strict";var n=/([A-Z])/g;e.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},function(e,t,r){"use strict";var n=r(36);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e&&n(t,e)))return{left:0,right:0,top:0,bottom:0};var r=e.getBoundingClientRect();return{left:Math.round(r.left)-t.clientLeft,right:Math.round(r.right)-t.clientLeft,top:Math.round(r.top)-t.clientTop,bottom:Math.round(r.bottom)-t.clientTop}}},function(e,t,r){"use strict";var n="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:n||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},function(e,t,r){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,r){"use strict";var n=r(14);function o(){return(o=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(65),c=r(10),l=r(8),u=r(13),p=r(122),d=r(4),m=function(e,t,r,n){return u({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":r,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===n,"public/DraftStyleDefault/listRTL":"RTL"===n})},f=(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=n.prototype;return s.shouldComponentUpdate=function(e){var t=this.props.editorState,r=e.editorState;if(t.getDirectionMap()!==r.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var n=r.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=r.isInCompositionMode();if(t===r||null!==n&&r.getCurrentContent()===n||o&&i)return!1;var s=t.getCurrentContent(),a=r.getCurrentContent(),c=t.getDecorator(),l=r.getDecorator();return o!==i||s!==a||c!==l||r.mustForceSelection()},s.render=function(){for(var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,n=e.blockStyleFn,s=e.customStyleMap,u=e.customStyleFn,f=e.editorState,g=e.editorKey,h=e.preventScroll,y=e.textDirectionality,v=f.getCurrentContent(),b=f.getSelection(),_=f.mustForceSelection(),S=f.getDecorator(),C=d(f.getDirectionMap()),E=v.getBlocksAsArray(),w=[],x=null,T=null,k=0;k<E.length;k++){var M=E[k],O=M.getKey(),L=M.getType(),P=r(M),D=void 0,N=void 0,R=void 0;P&&(D=P.component,N=P.props,R=P.editable);var F=y||C.get(O),A=c.encode(O,0,0),I={contentState:v,block:M,blockProps:N,blockStyleFn:n,customStyleMap:s,customStyleFn:u,decorator:S,direction:F,forceSelection:_,offsetKey:A,preventScroll:h,selection:b,tree:f.getBlockTree(O)},B=t.get(L)||t.get("unstyled"),K=B.wrapper,j=B.element||t.get("unstyled").element,H=M.getDepth(),U="";n&&(U=n(M)),"li"===j&&(U=p(U,m(L,H,T!==K||null===x||H>x,F)));var V=D||a,W={className:U,"data-block":!0,"data-editor":g,"data-offset-key":A,key:O};void 0!==R&&(W=i({},W,{contentEditable:R,suppressContentEditableWarning:!0}));var q=l.createElement(j,W,l.createElement(V,o({},I,{key:O})));w.push({block:q,wrapperTemplate:K,key:O,offsetKey:A}),x=K?M.getDepth():null,T=K}for(var Z=[],G=0;G<w.length;){var z=w[G];if(z.wrapperTemplate){var J=[];do{J.push(w[G].block),G++}while(G<w.length&&w[G].wrapperTemplate===z.wrapperTemplate);var X=l.cloneElement(z.wrapperTemplate,{key:z.key+"-wrap","data-offset-key":z.offsetKey},J);Z.push(X)}else Z.push(z.block),G++}return l.createElement("div",{"data-contents":"true"},Z)},n})(l.Component);e.exports=f},function(e,t,r){"use strict";e.exports=function(e){var t=e||"",r=arguments.length;if(r>1)for(var n=1;n<r;n++){var o=arguments[n];o&&(t=(t?t+" ":"")+o)}return t}},function(e,t,r){"use strict";var n=r(66),o=r(3),i=r(2),s=r(26),a=r(27),c=r(68),l=r(57),u=r(51),p=r(31),d=r(4),m={onDragEnd:function(e){e.exitCurrentMode(),f(e)},onDrop:function(e,t){var r=new n(t.nativeEvent.dataTransfer),u=e._latestEditorState,m=(function(e,t){var r=null,n=null,o=a(e.currentTarget);if("function"==typeof o.caretRangeFromPoint){var i=o.caretRangeFromPoint(e.x,e.y);r=i.startContainer,n=i.startOffset}else{if(!e.rangeParent)return null;r=e.rangeParent,n=e.rangeOffset}r=d(r),n=d(n);var c=d(s(r));return l(t,c,n,c,n)})(t.nativeEvent,u);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=m){var h=r.getFiles();if(h.length>0){if(e.props.handleDroppedFiles&&p(e.props.handleDroppedFiles(m,h)))return;c(h,(function(t){t&&e.update(g(u,m,t))}))}else{var y=e._internalDrag?"internal":"external";e.props.handleDrop&&p(e.props.handleDrop(m,r,y))||(e._internalDrag?e.update((function(e,t){var r=o.moveText(e.getCurrentContent(),e.getSelection(),t);return i.push(e,r,"insert-fragment")})(u,m)):e.update(g(u,m,r.getText()))),f(e)}}}};function f(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var r=new MouseEvent("mouseup",{view:u(t),bubbles:!0,cancelable:!0});t.dispatchEvent(r)}}function g(e,t,r){var n=o.insertText(e.getCurrentContent(),t,r,e.getCurrentInlineStyle());return i.push(e,n,"insert-fragment")}e.exports=m},function(e,t,r){"use strict";var n={isImage:function(e){return"image"===o(e)[0]},isJpeg:function(e){var t=o(e);return n.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function o(e){return e.split("/")}e.exports=n},function(e,t,r){"use strict";var n=r(1);e.exports=function(e){return(function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)})(e)?Array.isArray(e)?e.slice():(function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&n(!1,"toArray: Array-like object expected"),"number"!=typeof t&&n(!1,"toArray: Object needs a length property"),0===t||t-1 in e||n(!1,"toArray: Object should have keys for indices"),"function"==typeof e.callee&&n(!1,"toArray: Object can't be `arguments`. Use rest params (function(...args) {}) or Array.from() instead."),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var r=Array(t),o=0;o<t;o++)r[o]=e[o];return r})(e):[e]}},function(e,t,r){"use strict";var n=r(5),o=r(127),i=r(132),s=r(133),a=r(134),c=r(135),l=r(137),u=r(138),p=r(139),d=r(140),m=r(141),f=r(155),g=r(52),h=n.isBrowser("Chrome"),y=n.isBrowser("Firefox"),v=h||y?g:function(e){},b={onBeforeInput:o,onBlur:i,onCompositionStart:s,onCopy:a,onCut:c,onDragOver:l,onDragStart:u,onFocus:p,onInput:d,onKeyDown:m,onPaste:f,onSelect:g,onMouseUp:v,onKeyUp:v};e.exports=b},function(e,t,r){"use strict";var n=r(3),o=r(2),i=r(5),s=r(35),a=r(31),c=r(128),l=r(4),u=r(129),p=i.isBrowser("Firefox");function d(e,t,r,i,s){var a=n.replaceText(e.getCurrentContent(),e.getSelection(),t,r,i);return o.push(e,a,"insert-characters",s)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var r=e._latestEditorState,n=t.data;if(n)if(e.props.handleBeforeInput&&a(e.props.handleBeforeInput(n,r,t.timeStamp)))t.preventDefault();else{var i=r.getSelection(),m=i.getStartOffset(),f=i.getAnchorKey();if(!i.isCollapsed())return t.preventDefault(),void e.update(d(r,n,r.getCurrentInlineStyle(),s(r.getCurrentContent(),r.getSelection()),!0));var g,h=d(r,n,r.getCurrentInlineStyle(),s(r.getCurrentContent(),r.getSelection()),!1),y=!1;if(y||(y=c(e._latestCommittedEditorState)),!y){var v=r.getBlockTree(f),b=h.getBlockTree(f);y=v.size!==b.size||v.zip(b).some((function(e){var t=e[0],r=e[1],o=t.get("start"),i=o+(o>=m?n.length:0),s=t.get("end"),a=s+(s>=m?n.length:0),c=r.get("start"),l=r.get("end"),u=r.get("decoratorKey");return t.get("decoratorKey")!==u||t.get("leaves").size!==r.get("leaves").size||i!==c||a!==l||null!=u&&l-c!=s-o}))}if(y||(g=n,y=p&&("'"==g||"/"==g)),y||(y=l(h.getDirectionMap()).get(f)!==l(r.getDirectionMap()).get(f)),y)return t.preventDefault(),h=o.set(h,{forceSelection:!0}),void e.update(h);h=o.set(h,{nativelyRenderedContent:h.getCurrentContent()}),e._pendingStateFromBeforeInput=h,u((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},function(e,t,r){"use strict";e.exports=function(e){var t=e.getSelection(),r=t.getAnchorKey(),n=e.getBlockTree(r),o=t.getStartOffset(),i=!1;return n.some((function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return o===t&&(i=!0,!0)}))})),i}},function(e,t,r){"use strict";(function(t){r(130),e.exports=t.setImmediate}).call(this,r(25))},function(e,t,r){(function(e,t){!(function(e,r){"use strict";if(!e.setImmediate){var n,o,i,s,a,c=1,l={},u=!1,p=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){f(e)}))}:(function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}})()?(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},n=function(e){i.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,n=function(e){var t=p.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(f,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return l[c]=o,n(c),c++},d.clearImmediate=m}function m(e){delete l[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=l[e];if(t){u=!0;try{!(function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}})(t)}finally{m(e),u=!1}}}}})("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(25),r(131))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!(function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}})();var c,l=[],u=!1,p=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length&&m())}function m(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,u=!1,(function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}})(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||a(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(2),o=r(36),i=r(62);e.exports=function(e,t){var r=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&i(r)===r.body){var s=r.defaultView.getSelection(),a=e.editor;1===s.rangeCount&&o(a,s.anchorNode)&&o(a,s.focusNode)&&s.removeAllRanges()}var c=e._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var u=l.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(n.acceptSelection(c,u))}}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){e.setMode("composite"),e.update(n.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},function(e,t,r){"use strict";var n=r(69);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(n(e._latestEditorState))}},function(e,t,r){"use strict";var n=r(3),o=r(2),i=r(29),s=r(69),a=r(30),c=r(136);e.exports=function(e,t){var r,l=e._latestEditorState,u=l.getSelection(),p=t.target;if(u.isCollapsed())t.preventDefault();else{if(c(p)){var d=p;r=a(i.getScrollParent(d))}var m=s(l);e.setClipboard(m),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(r),e.exitCurrentMode(),e.update((function(e){var t=n.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return o.push(e,t,"remove-range")})(l))}),0)}}},function(e,t,r){"use strict";e.exports=function(e){if(!(e&&"ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},function(e,t,r){"use strict";e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},function(e,t,r){"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},function(e,t,r){"use strict";var n=r(2),o=r(5);e.exports=function(e,t){var r=e._latestEditorState,i=r.getSelection();if(!i.getHasFocus()){var s=i.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),o.isBrowser("Chrome < 60.0.3081.0")?e.update(n.forceSelection(r,s)):e.update(n.acceptSelection(r,s))}}},function(e,t,r){"use strict";var n=r(3),o=r(10),i=r(2),s=r(5),a=r(58).notEmptyKey,c=r(26),l=r(70),u=r(4),p=s.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var r=e.editor.ownerDocument.defaultView.getSelection(),s=r.anchorNode,d=r.isCollapsed,m=(null==s?void 0:s.nodeType)!==Node.TEXT_NODE&&(null==s?void 0:s.nodeType)!==Node.ELEMENT_NODE;if(null!=s&&!m){if(s.nodeType===Node.TEXT_NODE&&(null!==s.previousSibling||null!==s.nextSibling)){var f=s.parentNode;if(null==f)return;s.nodeValue=f.textContent;for(var g=f.firstChild;null!=g;g=g.nextSibling)g!==s&&f.removeChild(g)}var h=s.textContent,y=e._latestEditorState,v=u(c(s)),b=o.decode(v),_=b.blockKey,S=b.decoratorKey,C=b.leafKey,E=y.getBlockTree(_).getIn([S,"leaves",C]),w=E.start,x=E.end,T=y.getCurrentContent(),k=T.getBlockForKey(_),M=k.getText().slice(w,x);if(h.endsWith("\n\n")&&(h=h.slice(0,-1)),h!==M){var O,L,P,D,N=y.getSelection(),R=N.merge({anchorOffset:w,focusOffset:x,isBackward:!1}),F=k.getEntityAt(w),A=a(F)?T.getEntity(F):null,I="MUTABLE"===(null!=A?A.getMutability():null),B=I?"spellcheck-change":"apply-entity",K=n.replaceText(T,R,h,k.getInlineStyleAt(w),I?k.getEntityAt(w):null);if(p)O=r.anchorOffset,L=r.focusOffset,D=(P=w+Math.min(O,L))+Math.abs(O-L),O=P,L=D;else{var j=h.length-M.length;P=N.getStartOffset(),D=N.getEndOffset(),O=d?D+j:P,L=D+j}var H=K.merge({selectionBefore:T.getSelectionAfter(),selectionAfter:N.merge({anchorOffset:O,focusOffset:L})});e.update(i.push(y,H,B))}else{var U=t.nativeEvent.inputType;if(U){var V=(function(e,t){switch(e){case"deleteContentBackward":return l(t)}return t})(U,y);if(V!==y)return e.restoreEditorDOM(),void e.update(V)}}}}},function(e,t,r){"use strict";var n=r(3),o=r(2),i=r(40),s=r(28),a=r(143),c=r(5),l=r(31),u=r(144),p=r(146),d=r(148),m=r(149),f=r(150),g=r(151),h=r(70),y=r(152),v=r(153),b=r(154),_=i.isOptionKeyCommand,S=c.isBrowser("Chrome");e.exports=function(e,t){var r=t.which,i=e._latestEditorState;function c(r){var n=e.props[r];return!!n&&(n(t),!0)}switch(r){case s.RETURN:if(t.preventDefault(),e.props.handleReturn&&l(e.props.handleReturn(t,i)))return;break;case s.ESC:if(t.preventDefault(),c("onEscape"))return;break;case s.TAB:if(c("onTab"))return;break;case s.UP:if(c("onUpArrow"))return;break;case s.RIGHT:if(c("onRightArrow"))return;break;case s.DOWN:if(c("onDownArrow"))return;break;case s.LEFT:if(c("onLeftArrow"))return;break;case s.SPACE:S&&_(t)&&t.preventDefault()}var C=e.props.keyBindingFn(t);if(null!=C&&""!==C)if("undo"!==C){if(t.preventDefault(),!e.props.handleKeyCommand||!l(e.props.handleKeyCommand(C,i,t.timeStamp))){var E=(function(e,t,r){switch(e){case"redo":return o.redo(t);case"delete":return y(t);case"delete-word":return d(t);case"backspace":return h(t);case"backspace-word":return p(t);case"backspace-to-start-of-line":return u(t,r);case"split-block":return m(t);case"transpose-characters":return v(t);case"move-selection-to-start-of-block":return g(t);case"move-selection-to-end-of-block":return f(t);case"secondary-cut":return a.cut(t);case"secondary-paste":return a.paste(t);default:return t}})(C,i,t);E!==i&&e.update(E)}}else b(t,i,e.update);else if(r===s.SPACE&&S&&_(t)){var w=n.replaceText(i.getCurrentContent(),i.getSelection()," ");e.update(o.push(i,w,"insert-characters"))}}},function(e,t,r){"use strict";var n=r(28);e.exports=function(e){return e.which===n.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},function(e,t,r){"use strict";var n=r(3),o=r(2),i=r(21),s=r(4),a=null,c={cut:function(e){var t=e.getCurrentContent(),r=e.getSelection(),c=null;if(r.isCollapsed()){var l=r.getAnchorKey(),u=t.getBlockForKey(l).getLength();if(u===r.getAnchorOffset()){var p=t.getKeyAfter(l);if(null==p)return e;c=r.set("focusKey",p).set("focusOffset",0)}else c=r.set("focusOffset",u)}else c=r;c=s(c),a=i(t,c);var d=n.removeRange(t,c,"forward");return d===t?e:o.push(e,d,"remove-range")},paste:function(e){if(!a)return e;var t=n.replaceWithFragment(e.getCurrentContent(),e.getSelection(),a);return o.push(e,t,"insert-fragment")}};e.exports=c},function(e,t,r){"use strict";var n=r(2),o=r(145),i=r(56),s=r(38),a=r(20);e.exports=function(e,t){var r=a(e,(function(e){var r=e.getSelection();if(r.isCollapsed()&&0===r.getAnchorOffset())return s(e,1);var n=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return n=o(n),i(e,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState}),"backward");return r===e.getCurrentContent()?e:n.push(e,r,"remove-range")}},function(e,t,r){"use strict";var n=r(16),o=r(27),i=r(71),s=r(1);function a(e,t){for(var r=1/0,n=1/0,o=-1/0,i=-1/0,s=0;s<e.length;s++){var a=e[s];0!==a.width&&1!==a.width&&(r=Math.min(r,a.top),n=Math.min(n,a.bottom),o=Math.max(o,a.top),i=Math.max(i,a.bottom))}return o<=n&&o-r<t&&i-n<t}function c(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||s(!1,"expandRangeToStartOfLine: Provided range is not collapsed.");var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var r=(function(e){var t=getComputedStyle(e),r=o(e),n=r.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var i=r.body;i||s(!1,"Missing document.body"),i.appendChild(n);var a=n.getBoundingClientRect();return i.removeChild(n),a.height})(t),l=e.endContainer,u=e.endOffset;for(e.setStart(e.startContainer,0);a(i(e),r)&&(l=e.startContainer,u=e.startOffset,l.parentNode||s(!1,"Found unexpected detached subtree when traversing."),e.setStartBefore(l),1!==l.nodeType||"inline"===getComputedStyle(l).display););for(var p=l,d=u-1;;){for(var m=p.nodeValue,f=d;f>=0;f--)if(!(null!=m&&f>0&&n.isSurrogatePair(m,f-1))){if(e.setStart(p,f),!a(i(e),r))break;l=p,u=f}if(-1===f||0===p.childNodes.length)break;d=c(p=p.childNodes[f])}return e.setStart(l,u),e}},function(e,t,r){"use strict";var n=r(72),o=r(2),i=r(38),s=r(20);e.exports=function(e){var t=s(e,(function(e){var t=e.getSelection(),r=t.getStartOffset();if(0===r)return i(e,1);var o=t.getStartKey(),s=e.getCurrentContent().getBlockForKey(o).getText().slice(0,r),a=n.getBackward(s);return i(e,a.length||1)}),"backward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},function(e,t,r){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},function(e,t,r){"use strict";var n=r(72),o=r(2),i=r(73),s=r(20);e.exports=function(e){var t=s(e,(function(e){var t=e.getSelection(),r=t.getStartOffset(),o=t.getStartKey(),s=e.getCurrentContent().getBlockForKey(o).getText().slice(r),a=n.getForward(s);return i(e,a.length||1)}),"forward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},function(e,t,r){"use strict";var n=r(3),o=r(2);e.exports=function(e){var t=n.splitBlock(e.getCurrentContent(),e.getSelection());return o.push(e,t,"split-block")}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e){var t=e.getSelection(),r=t.getEndKey(),o=e.getCurrentContent().getBlockForKey(r).getLength();return n.set(e,{selection:t.merge({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}),forceSelection:!0})}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e){var t=e.getSelection(),r=t.getStartKey();return n.set(e,{selection:t.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1}),forceSelection:!0})}},function(e,t,r){"use strict";var n=r(2),o=r(16),i=r(73),s=r(20);e.exports=function(e){var t=s(e,(function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),s=t.getAnchorOffset(),a=r.getBlockForKey(n).getText()[s];return i(e,a?o.getUTF16Length(a,0):1)}),"forward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"delete-character":"remove-range")}},function(e,t,r){"use strict";var n=r(3),o=r(2),i=r(21);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var r=t.getAnchorOffset();if(0===r)return e;var s,a,c=t.getAnchorKey(),l=e.getCurrentContent(),u=l.getBlockForKey(c).getLength();if(u<=1)return e;r===u?(s=t.set("anchorOffset",r-1),a=t):a=(s=t.set("focusOffset",r+1)).set("anchorOffset",r+1);var p=i(l,s),d=n.removeRange(l,s,"backward"),m=d.getSelectionAfter(),f=m.getAnchorOffset()-1,g=m.merge({anchorOffset:f,focusOffset:f}),h=n.replaceWithFragment(d,g,p),y=o.push(e,h,"insert-fragment");return o.acceptSelection(y,a)}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t,r){var o=n.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(r(n.set(t,{nativelyRenderedContent:null})),setTimeout((function(){r(o)}),0)):r(o);else{var i=o.getCurrentContent();r(n.set(o,{nativelyRenderedContent:i}))}}},function(e,t,r){"use strict";var n=r(17),o=r(6),i=r(66),s=r(3),a=r(156),c=r(2),l=r(76),u=r(35),p=r(68),d=r(31),m=r(161);function f(e,t,r){var n=s.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,n.set("entityMap",r),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var r=new i(t.clipboardData);if(!r.isRichText()){var g=r.getFiles(),h=r.getText();if(g.length>0){if(e.props.handlePastedFiles&&d(e.props.handlePastedFiles(g)))return;return void p(g,(function(t){if(t=t||h){var r=e._latestEditorState,i=m(t),p=o.create({style:r.getCurrentInlineStyle(),entity:u(r.getCurrentContent(),r.getSelection())}),d=l.getCurrentBlockType(r),f=a.processText(i,p,d),g=n.createFromArray(f),y=s.replaceWithFragment(r.getCurrentContent(),r.getSelection(),g);e.update(c.push(r,y,"insert-fragment"))}}))}}var y=[],v=r.getText(),b=r.getHTML(),_=e._latestEditorState;if(e.props.formatPastedText){var S=e.props.formatPastedText(v,b);v=S.text,b=S.html}if(!e.props.handlePastedText||!d(e.props.handlePastedText(v,b,_))){if(v&&(y=m(v)),!e.props.stripPastedStyles){var C,E=e.getClipboard();if(!e.props.formatPastedText&&r.isRichText()&&E){if(-1!==(null===(C=b)||void 0===C?void 0:C.indexOf(e.getEditorKey()))||1===y.length&&1===E.size&&E.first().getText()===v)return void e.update(f(e._latestEditorState,E))}else if(E&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&(function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,r){return t.getText()===e[r]}))})(y,E))return void e.update(f(e._latestEditorState,E));if(b){var w=a.processHTML(b,e.props.blockRenderMap);if(w){var x=w.contentBlocks,T=w.entityMap;if(x){var k=n.createFromArray(x);return void e.update(f(e._latestEditorState,k,T))}}}e.setClipboard(null)}if(y.length){var M=o.create({style:_.getCurrentInlineStyle(),entity:u(_.getCurrentContent(),_.getSelection())}),O=l.getCurrentBlockType(_),L=a.processText(y,M,O),P=n.createFromArray(L);e.update(f(e._latestEditorState,P))}}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(12),i=r(7),s=r(74),a=r(9),c=r(75),l=r(11),u=r(0),p=r(48),d=u.List,m=u.Repeat,f=l("draft_tree_data_support"),g=f?i:o,h={processHTML:function(e,t){return s(e,c,t)},processText:function(e,t,r){return e.reduce((function(e,o,i){o=p(o);var s=a(),c={key:s,type:r,text:o,characterList:d(m(t,o.length))};if(f&&0!==i){var l=i-1;c=(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e})({},c,{prevSibling:(e[l]=e[l].merge({nextSibling:s})).getKey()})}return e.push(new g(c)),e}),[])}};e.exports=h},function(e,t,r){"use strict";var n=(function(){function e(e){var t,r;r=void 0,(t="_uri")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e})();e.exports=n},function(e,t,r){"use strict";var n=r(15);e.exports=function(e){return!(!e||!e.ownerDocument)&&n(e)&&"A"===e.nodeName}},function(e,t,r){"use strict";var n=r(15);e.exports=function(e){return!(!e||!e.ownerDocument)&&n(e)&&"IMG"===e.nodeName}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){var o=t.getStartKey(),i=t.getEndKey(),s=e.getBlockMap(),a=s.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat([[i,s.get(i)]]).map((function(e){var t=e.getDepth()+r;return t=Math.max(0,Math.min(t,n)),e.set("depth",t)}));return s=s.merge(a),e.merge({blockMap:s,selectionBefore:t,selectionAfter:t})}},function(e,t,r){"use strict";var n=/\r\n?|\n/g;e.exports=function(e){return e.split(n)}},function(e,t,r){"use strict";var n=r(163).unstable_flushControlled;e.exports=n},function(e,t){e.exports=r},function(e,t,r){"use strict";var n=r(8),o=r(13),i=(function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},s.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=o({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return n.createElement("div",{className:t},n.createElement("div",{className:o("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},i})(n.Component);e.exports=i},function(e,t,r){},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(12),i=r(7),s=r(78),a=r(167),c=r(168),l=r(1),u=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:a(e,t),data:e.getData().toObject()}},p=function(e,t,r,s){if(e instanceof o)r.push(u(e,t));else{e instanceof i||l(!1,"block is not a BlockNode");var a=e.getParentKey(),c=s[e.getKey()]=(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e})({},u(e,t),{children:[]});a?s[a].children.push(c):r.push(c)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=(function(e,t){var r=t.entityMap,n=[],o={},i={},a=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var n=e.getEntityAt(t),o=s.stringify(n);i[o]||(i[o]=n,r[o]="".concat(a),a++)})),p(e,r,n,o)})),{blocks:n,entityMap:r}})(e,t),(function(e,t){var r=t.blocks,n=t.entityMap,o={};return Object.keys(n).forEach((function(t,r){var n=e.getEntity(s.unstringify(t));o[r]={type:n.getType(),mutability:n.getMutability(),data:n.getData()}})),{blocks:r,entityMap:o}})(e,t)}},function(e,t,r){"use strict";var n=r(78),o=r(16).strlen;e.exports=function(e,t){var r=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(i,s){var a=e.getText(),c=e.getEntityAt(i);r.push({offset:o(a.slice(0,i)),length:o(a.slice(i,s)),key:Number(t[n.stringify(c)])})})),r}},function(e,t,r){"use strict";var n=r(16),o=r(18),i=function(e,t){return e===t},s=function(e){return!!e},a=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),r=t.flatten().toSet().map((function(r){return(function(e,t,r){var a=[],c=t.map((function(e){return e.has(r)})).toList();return o(c,i,s,(function(t,o){var i=e.getText();a.push({offset:n.strlen(i.slice(0,t)),length:n.strlen(i.slice(t,o)),style:r})})),a})(e,t,r)}));return Array.prototype.concat.apply(a,r.toJS())}},function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(12),s=r(7),a=r(32),c=r(22),l=r(170),u=r(171),p=r(23),d=r(172),m=r(173),f=r(174),g=r(9),h=r(11),y=r(0),v=r(1),b=h("draft_tree_data_support"),_=y.List,S=y.Map,C=y.OrderedMap,E=function(e,t){var r=e.key,n=e.type,o=e.data;return{text:e.text,depth:e.depth||0,type:n||"unstyled",key:r||g(),data:S(o),characterList:w(e,t)}},w=function(e,t){var r=e.text,o=e.entityRanges,i=e.inlineStyleRanges,s=o||[];return d(f(r,i||[]),m(r,s.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return n({},e,{key:t[e.key]})}))))},x=function(e){return n({},e,{key:e.key||g()})},T=function(e,t,r){var o=t.map((function(e){return n({},e,{parentRef:r})}));return e.concat(o.reverse())},k=function(e,t){var r=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),o=b&&!r?l.fromRawStateToRawTreeState(e).blocks:e.blocks;if(!b)return(function(e,t){return C(e.map((function(e){var r=new i(E(e,t));return[r.getKey(),r]})))})(r?l.fromRawTreeStateToRawState(e).blocks:o,t);var a=(function(e,t){return e.map(x).reduce((function(r,o,i){Array.isArray(o.children)||v(!1,"invalid RawDraftContentBlock can not be converted to ContentBlockNode");var a=o.children.map(x),c=new s(n({},E(o,t),{prevSibling:0===i?null:e[i-1].key,nextSibling:i===e.length-1?null:e[i+1].key,children:_(a.map((function(e){return e.key})))}));r=r.set(c.getKey(),c);for(var l=T([],a,c);l.length>0;){var u=l.pop(),p=u.parentRef,d=p.getChildKeys(),m=d.indexOf(u.key),f=Array.isArray(u.children);if(!f){f||v(!1,"invalid RawDraftContentBlock can not be converted to ContentBlockNode");break}var g=u.children.map(x),h=new s(n({},E(u,t),{parent:p.getKey(),children:_(g.map((function(e){return e.key}))),prevSibling:0===m?null:d.get(m-1),nextSibling:m===d.size-1?null:d.get(m+1)}));r=r.set(h.getKey(),h),l=T(l,g,h)}return r}),C())})(o,t);return u.isValidTree(a)||v(!1,"Should be a valid tree"),a};e.exports=function(e){Array.isArray(e.blocks)||v(!1,"invalid RawDraftContentState");var t=(function(e){var t=e.entityMap,r={};return Object.keys(t).forEach((function(e){var n=t[e],o=n.type,i=n.mutability,s=n.data;r[e]=c.__create(o,i,s||{})})),r})(e),r=k(e,t),n=r.isEmpty()?new p:p.createEmpty(r.first().getKey());return new a({blockMap:r,entityMap:t,selectionBefore:n,selectionAfter:n})}},function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(9),s=r(1),a=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,r=[];return Array.isArray(t)||s(!1,"Invalid raw state"),Array.isArray(t)&&t.length?((function(e,t){for(var r=[].concat(e).reverse();r.length;){var n=r.pop();t(n);var o=n.children;Array.isArray(o)||s(!1,"Invalid tree raw block"),r=r.concat([].concat(o.reverse()))}})(t,(function(e){var t=n({},e);a(e)&&(t.depth=t.depth||0,(function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?n({},t,{depth:(e.depth||0)+1}):t})))})(e),null!=e.children&&e.children.length>0)||(delete t.children,r.push(t))})),e.blocks=r,n({},e,{blocks:r})):e},fromRawStateToRawTreeState:function(e){var t=[],r=[];return e.blocks.forEach((function(e){var o=a(e),s=e.depth||0,c=n({},e,{children:[]});if(o){var l=r[0];if(null==l&&0===s)t.push(c);else if(null==l||l.depth<s-1){var u={key:i(),text:"",depth:s-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};r.unshift(u),1===s?t.push(u):null!=l&&l.children.push(u),u.children.push(c)}else if(l.depth===s-1)l.children.push(c);else{for(;null!=l&&l.depth>=s;)r.shift(),l=r[0];s>0?l.children.push(c):t.push(c)}}else t.push(c)})),n({},e,{blocks:t})}};e.exports=c},function(e,t,r){"use strict";var n=r(39),o={isValidBlock:function(e,t){var r=e.getKey(),o=e.getParentKey();if(null!=o&&!t.get(o).getChildKeys().includes(r))return n(!0,"Tree is missing parent -> child pointer on %s",r),!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===r})))return n(!0,"Tree is missing child -> parent pointer on %s",r),!1;var i=e.getPrevSiblingKey();if(null!=i&&t.get(i).getNextSiblingKey()!==r)return n(!0,"Tree is missing nextSibling pointer on %s's prevSibling",r),!1;var s=e.getNextSiblingKey();return null!=s&&t.get(s).getPrevSiblingKey()!==r?(n(!0,"Tree is missing prevSibling pointer on %s's nextSibling",r),!1):null!==s&&null!==i&&i===s?(n(!0,"Tree has a two-node cycle at %s",r),!1):!(""!=e.text&&e.getChildKeys().size>0&&(n(!0,"Leaf node %s has children",r),1))},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return n(!0,"Tree is not connected. More or less than one first node"),!1;for(var r=0,o=t.shift().getKey(),i=[];null!=o;){var s=e.get(o),a=s.getChildKeys(),c=s.getNextSiblingKey();if(a.size>0){null!=c&&i.unshift(c);var l=a.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==l)return n(!0,"%s has no first child",o),!1;o=l.getKey()}else o=null!=s.getNextSiblingKey()?s.getNextSiblingKey():i.shift();r++}return r===e.size||(n(!0,"Tree is not connected. %s nodes were seen instead of %s",r,e.size),!1)},isValidTree:function(e){var t=this;return!!e.toArray().every((function(r){return t.isValidBlock(r,e)}))&&this.isConnectedTree(e)}};e.exports=o},function(e,t,r){"use strict";var n=r(6),o=r(0).List;e.exports=function(e,t){var r=e.map((function(e,r){var o=t[r];return n.create({style:e,entity:o})}));return o(r)}},function(e,t,r){"use strict";var n=r(16).substr;e.exports=function(e,t){var r=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var o=n(e,0,t.offset).length,i=o+n(e,t.offset,t.length).length,s=o;s<i;s++)r[s]=t.key})),r}},function(e,t,r){"use strict";var n=r(16),o=r(0).OrderedSet,i=n.substr,s=o();e.exports=function(e,t){var r=Array(e.length).fill(s);return t&&t.forEach((function(t){for(var n=i(e,0,t.offset).length,o=n+i(e,t.offset,t.length).length;n<o;)r[n]=r[n].add(t.style),n++})),r}},function(e,t,r){"use strict";var n=r(176);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var r=t.getRangeAt(0),o=n(r),i=o.top,s=o.right,a=o.bottom,c=o.left;return 0===i&&0===s&&0===a&&0===c?null:o}},function(e,t,r){"use strict";var n=r(71);e.exports=function(e){var t=n(e),r=0,o=0,i=0,s=0;if(t.length){if(t.length>1&&0===t[0].width){var a=t[1];r=a.top,o=a.right,i=a.bottom,s=a.left}else{var c=t[0];r=c.top,o=c.right,i=c.bottom,s=c.left}for(var l=1;l<t.length;l++){var u=t[l];0!==u.height&&0!==u.width&&(r=Math.min(r,u.top),o=Math.max(o,u.right),i=Math.max(i,u.bottom),s=Math.min(s,u.left))}}return{top:r,right:o,bottom:i,left:s,width:o-s,height:i-r}}}])})),define("prod_assets_web_modules/punycode-web",["./common/_commonjsHelpers"],(function(e){"use strict";var t,r,n={exports:{}};return t=n,r=n.exports,(function(n){var o=r&&!r.nodeType&&r,i=t&&!t.nodeType&&t,s="object"==typeof e.commonjsGlobal&&e.commonjsGlobal;s.global!==s&&s.window!==s&&s.self!==s||(n=s);var a,c,l=2147483647,u=36,p=/^xn--/,d=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=Math.floor,h=String.fromCharCode;function y(e){throw new RangeError(f[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function b(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(m,".")).split("."),t).join(".")}function _(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function S(e){return v(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)})).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var n=0;for(e=r?g(e/700):e>>1,e+=g(e/t);e>455;n+=u)e=g(e/35);return g(n+36*e/(e+38))}function w(e){var t,r,n,o,i,s,a,c,p,d,m,f=[],h=e.length,v=0,b=128,_=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&y("not-basic"),f.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<h;){for(i=v,s=1,a=u;o>=h&&y("invalid-input"),((c=(m=e.charCodeAt(o++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:u)>=u||c>g((l-v)/s))&&y("overflow"),v+=c*s,!(c<(p=a<=_?1:a>=_+26?26:a-_));a+=u)s>g(l/(d=u-p))&&y("overflow"),s*=d;_=E(v-i,t=f.length+1,0==i),g(v/t)>l-b&&y("overflow"),b+=g(v/t),v%=t,f.splice(v++,0,b)}return S(f)}function x(e){var t,r,n,o,i,s,a,c,p,d,m,f,v,b,S,w=[];for(f=(e=_(e)).length,t=128,r=0,i=72,s=0;s<f;++s)(m=e[s])<128&&w.push(h(m));for(n=o=w.length,o&&w.push("-");n<f;){for(a=l,s=0;s<f;++s)(m=e[s])>=t&&m<a&&(a=m);for(a-t>g((l-r)/(v=n+1))&&y("overflow"),r+=(a-t)*v,t=a,s=0;s<f;++s)if((m=e[s])<t&&++r>l&&y("overflow"),m==t){for(c=r,p=u;!(c<(d=p<=i?1:p>=i+26?26:p-i));p+=u)S=c-d,b=u-d,w.push(h(C(d+S%b,0))),c=g(S/b);w.push(h(C(c,0))),i=E(r,v,n==o),r=0,++n}++r,++t}return w.join("")}if(a={version:"1.4.1",ucs2:{decode:_,encode:S},decode:w,encode:x,toASCII:function(e){return b(e,(function(e){return d.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return b(e,(function(e){return p.test(e)?w(e.slice(4).toLowerCase()):e}))}},o&&i)if(t.exports==o)i.exports=a;else for(c in a)a.hasOwnProperty(c)&&(o[c]=a[c]);else n.punycode=a})(e.commonjsGlobal),n.exports}));
//# sourceMappingURL=pkg-folder-overview.min.js-vflpZOrxM.map